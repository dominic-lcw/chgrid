"use strict";var __defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,t)=>{for(var i in t)__defProp(e,i,{get:t[i],enumerable:!0})},__copyProps=(e,t,i,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of __getOwnPropNames(t))!__hasOwnProp.call(e,s)&&s!==i&&__defProp(e,s,{get:()=>t[s],enumerable:!(o=__getOwnPropDesc(t,s))||o.enumerable});return e},__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),__decorateClass=(e,t,i,o)=>{for(var s=o>1?void 0:o?__getOwnPropDesc(t,i):t,a=e.length-1,r;a>=0;a--)(r=e[a])&&(s=(o?r(t,i,s):r(s))||s);return o&&s&&__defProp(t,i,s),s},main_modules_exports={};__export(main_modules_exports,{AllCartesianEnterpriseModules:()=>AllCartesianEnterpriseModules,AllEnterpriseModules:()=>AllEnterpriseModules,AllPolarEnterpriseModules:()=>AllPolarEnterpriseModules,AllStandaloneEnterpriseModules:()=>AllStandaloneEnterpriseModules,AllTopologyEnterpriseModules:()=>AllTopologyEnterpriseModules,AngleCategoryAxisModule:()=>AngleCategoryAxisModule,AngleNumberAxisModule:()=>AngleNumberAxisModule,BoxPlotSeriesModule:()=>BoxPlotSeriesModule,CandlestickSeriesModule:()=>CandlestickSeriesModule,ChordSeriesModule:()=>ChordSeriesModule,ConeFunnelSeriesModule:()=>ConeFunnelSeriesModule,FunnelSeriesModule:()=>FunnelSeriesModule,HeatmapSeriesModule:()=>HeatmapSeriesModule,LinearGaugeSeriesModule:()=>LinearGaugeSeriesModule,MapLineBackgroundSeriesModule:()=>MapLineBackgroundSeriesModule,MapLineSeriesModule:()=>MapLineSeriesModule,MapMarkerSeriesModule:()=>MapMarkerSeriesModule,MapShapeBackgroundSeriesModule:()=>MapShapeBackgroundSeriesModule,MapShapeSeriesModule:()=>MapShapeSeriesModule,ModuleRegistry:()=>ModuleRegistry,NightingaleSeriesModule:()=>NightingaleSeriesModule,OhlcSeriesModule:()=>OhlcSeriesModule,OrdinalTimeAxisModule:()=>OrdinalTimeAxisModule,PyramidSeriesModule:()=>PyramidSeriesModule,RadarAreaSeriesModule:()=>RadarAreaSeriesModule,RadarLineSeriesModule:()=>RadarLineSeriesModule,RadialBarSeriesModule:()=>RadialBarSeriesModule,RadialColumnSeriesModule:()=>RadialColumnSeriesModule,RadialGaugeSeriesModule:()=>RadialGaugeSeriesModule,RadiusCategoryAxisModule:()=>RadiusCategoryAxisModule,RadiusNumberAxisModule:()=>RadiusNumberAxisModule,RangeAreaSeriesModule:()=>RangeAreaSeriesModule,RangeBarSeriesModule:()=>RangeBarSeriesModule,SankeySeriesModule:()=>SankeySeriesModule,StandaloneChartModule:()=>StandaloneChartModule,SunburstSeriesModule:()=>SunburstSeriesModule,TopologyChartModule:()=>TopologyChartModule,TreemapSeriesModule:()=>TreemapSeriesModule,WaterfallSeriesModule:()=>WaterfallSeriesModule}),module.exports=__toCommonJS(main_modules_exports);var import_ag_charts_community162=require("ag-charts-community"),import_ag_charts_community13=require("ag-charts-community"),import_ag_charts_community5=require("ag-charts-community"),import_ag_charts_core4=require("ag-charts-core");function loopSymmetrically(e,t,i){const o=(a,r,n,l)=>{let c=e[0];for(let h=a;n>0?h<=r:h>r;h+=n){const p=e[h];if(l(c,p))return!0;c=p}return!1},s=Math.floor(e.length/2);return o(t,s,t,i)?!0:o(e.length-t,s,-t,i)}var import_ag_charts_community=require("ag-charts-community"),{AxisInterval,Property}=import_ag_charts_community._ModuleSupport,AngleAxisInterval=class extends AxisInterval{};__decorateClass([Property],AngleAxisInterval.prototype,"minSpacing",2);var import_ag_charts_community4=require("ag-charts-community"),import_ag_charts_core3=require("ag-charts-core"),import_ag_charts_community3=require("ag-charts-community"),import_ag_charts_core2=require("ag-charts-core"),import_ag_charts_community2=require("ag-charts-community"),import_ag_charts_core=require("ag-charts-core"),{BaseProperties,ChartAxisDirection,Property:Property2,Group,FONT_SIZE}=import_ag_charts_community2._ModuleSupport,PolarCrossLineLabel=class extends BaseProperties{constructor(){super(...arguments),this.fontSize=FONT_SIZE.LARGE,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)"}};__decorateClass([Property2],PolarCrossLineLabel.prototype,"enabled",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"text",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontStyle",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontWeight",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontSize",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"fontFamily",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"padding",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"color",2),__decorateClass([Property2],PolarCrossLineLabel.prototype,"parallel",2);var PolarCrossLine=class extends BaseProperties{constructor(){super(...arguments),this.id=(0,import_ag_charts_core.createId)(this),this.defaultColorRange=[],this.shape="polygon",this.label=new PolarCrossLineLabel,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction=ChartAxisDirection.Angle,this.axisInnerRadius=0,this.axisOuterRadius=0,this.lineGroup=new Group({name:this.id}),this.rangeGroup=new Group({name:this.id}),this.labelGroup=new Group({name:this.id}),this._isRange=void 0}assignCrossLineGroup(e,t){e!==this._isRange&&(e?this.rangeGroup.appendChild(t):this.lineGroup.appendChild(t)),this._isRange=e}setSectorNodeProps(e){e.fill=this.fill,e.fillOpacity=this.fillOpacity??1,e.stroke=this.stroke,e.strokeOpacity=this.strokeOpacity??1,e.strokeWidth=this.strokeWidth??1,e.lineDash=this.lineDash}setLabelNodeProps(e,t,i,o,s){const{label:a}=this;e.x=t,e.y=i,e.text=a.text,e.textAlign="center",e.textBaseline=o,e.rotation=s,e.rotationCenterX=t,e.rotationCenterY=i,e.fill=a.color,e.fontFamily=a.fontFamily,e.fontSize=a.fontSize,e.fontStyle=a.fontStyle,e.visible=!0}};__decorateClass([Property2],PolarCrossLine.prototype,"enabled",2),__decorateClass([Property2],PolarCrossLine.prototype,"type",2),__decorateClass([Property2],PolarCrossLine.prototype,"range",2),__decorateClass([Property2],PolarCrossLine.prototype,"value",2),__decorateClass([Property2],PolarCrossLine.prototype,"defaultColorRange",2),__decorateClass([Property2],PolarCrossLine.prototype,"fill",2),__decorateClass([Property2],PolarCrossLine.prototype,"fillOpacity",2),__decorateClass([Property2],PolarCrossLine.prototype,"stroke",2),__decorateClass([Property2],PolarCrossLine.prototype,"strokeWidth",2),__decorateClass([Property2],PolarCrossLine.prototype,"strokeOpacity",2),__decorateClass([Property2],PolarCrossLine.prototype,"lineDash",2),__decorateClass([Property2],PolarCrossLine.prototype,"shape",2),__decorateClass([Property2],PolarCrossLine.prototype,"label",2);var{ChartAxisDirection:ChartAxisDirection2,getCrossLineValue,validateCrossLineValue,normalizeAngle360,Group:Group2,Path,Sector,RotatableText,ContinuousScale}=import_ag_charts_community3._ModuleSupport,AngleCrossLine=class extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection2.Angle,this.polygonNode=new Path,this.sectorNode=new Sector,this.lineNode=new Path,this.crossLineRange=new Group2,this.labelNode=new RotatableText,this.ticks=[],this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.crossLineRange.append(this.lineNode),this.labelGroup.append(this.labelNode)}visibilityCheck(){if(!ContinuousScale.is(this.scale))return!0;const[e,t]=this.scale.domain,i=getCrossLineValue(this);if(this.type==="range"){const[o,s]=i;return o>=e&&o<=t&&s>=o&&s<=t}else return i>=e&&i<=t}update(e){const{scale:t}=this;if(!t||!validateCrossLineValue(this,t)||!this.visibilityCheck()){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updateLineNode(e),this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e)}updateLineNode(e){const{scale:t,type:i,value:o,lineNode:s}=this;if(!e||i!=="line"||!t){s.visible=!1;return}const a=t.convert(o);if(isNaN(a)){s.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:n}=this;s.visible=!0,s.stroke=this.stroke,s.strokeOpacity=this.strokeOpacity??1,s.strokeWidth=this.strokeWidth??1,s.fill=void 0,s.lineDash=this.lineDash;const l=n*Math.cos(a),c=n*Math.sin(a),h=r*Math.cos(a),p=r*Math.sin(a);s.path.clear(!0),s.path.moveTo(h,p),s.path.lineTo(l,c),this.assignCrossLineGroup(!1,this.crossLineRange)}updatePolygonNode(e){const{polygonNode:t,range:i,scale:o,shape:s,type:a,ticks:r}=this;if(!e||a!=="range"||s!=="polygon"||!o||!i){t.visible=!1;return}const{axisInnerRadius:n,axisOuterRadius:l}=this,c=r.indexOf(i[0]),h=r.indexOf(i[1]),u=(c<=h?r.slice(c,h+1):r.slice(c).concat(r.slice(0,h+1))).map(g=>o.convert(g));t.visible=!0,this.setSectorNodeProps(t);const{path:d}=t;d.clear(!0),u.forEach((g,y)=>{const m=l*Math.cos(g),f=l*Math.sin(g);y===0?d.moveTo(m,f):d.lineTo(m,f)}),n===0?d.lineTo(0,0):u.slice().reverse().forEach(g=>{const y=n*Math.cos(g),m=n*Math.sin(g);d.lineTo(y,m)}),t.path.closePath(),this.assignCrossLineGroup(!0,this.crossLineRange)}updateSectorNode(e){const{sectorNode:t,range:i,scale:o,shape:s,type:a}=this;if(!e||a!=="range"||s!=="circle"||!o||!i){t.visible=!1;return}const{axisInnerRadius:r,axisOuterRadius:n}=this,l=i.map(p=>o.convert(p)),c=o.step??0,h=o instanceof import_ag_charts_community3._ModuleSupport.BandScale?c/2:0;t.visible=!0,this.setSectorNodeProps(t),t.centerX=0,t.centerY=0,t.innerRadius=r,t.outerRadius=n,t.startAngle=l[0]-h,t.endAngle=l[1]+h,this.assignCrossLineGroup(!0,this.crossLineRange)}updateLabelNode(e){const{label:t,labelNode:i,range:o,scale:s,type:a,ticks:r}=this;if(!e||t.enabled===!1||!t.text||!s||a==="range"&&!o){i.visible=!1;return}i.visible=!0;const{axisInnerRadius:n,axisOuterRadius:l}=this;let c,h,p,u;if(a==="line"){const d=normalizeAngle360(s.convert(this.value)),g=1.5*Math.PI,y=(0,import_ag_charts_core2.isNumberEqual)(d,g)||d>g||d<Math.PI/2,m=(n+l)/2*Math.cos(d),f=(n+l)/2*Math.sin(d);c=m+t.padding*Math.cos(d+Math.PI/2),h=f+t.padding*Math.sin(d+Math.PI/2),u=y?"top":"bottom",p=y?d:d-Math.PI}else{const[d,g]=o.map(b=>normalizeAngle360(s.convert(b)));let y=(d+g)/2;d>g&&(y-=Math.PI),y=normalizeAngle360(y);const m=((0,import_ag_charts_core2.isNumberEqual)(y,0)||y>0)&&y<Math.PI;let f;this.shape==="circle"||r.length<3?f=l-t.padding:f=l*Math.cos(Math.PI/r.length)-t.padding,c=f*Math.cos(y),h=f*Math.sin(y),u=m?"bottom":"top",p=m?y-Math.PI/2:y+Math.PI/2}this.setLabelNodeProps(i,c,h,u,p)}};AngleCrossLine.className="AngleCrossLine";var{ChartAxisDirection:ChartAxisDirection3,Property:Property3,toRadians,normalizeAngle360:normalizeAngle3602,normalizeAngle360Inclusive,Path:Path2,RotatableText:RotatableText2,Transformable,BBox,Selection,Line}=import_ag_charts_community4._ModuleSupport,AngleAxisLabel=class extends import_ag_charts_community4._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.orientation="fixed"}};__decorateClass([Property3],AngleAxisLabel.prototype,"orientation",2);var AngleAxis=class extends import_ag_charts_community4._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.startAngle=0,this.endAngle=void 0,this.tickLineGroupSelection=Selection.select(this.tickLineGroup,Line,!1),this.gridLineGroupSelection=Selection.select(this.gridLineGroup,Line,!1),this.labelData=[],this.tickData=[],this.radiusLineGroup=this.axisGroup.appendChild(new import_ag_charts_community4._ModuleSupport.TransformableGroup),this.radiusLine=this.radiusLineGroup.appendChild(new Path2),this.includeInvisibleDomains=!0}get direction(){return ChartAxisDirection3.Angle}createLabel(){return new AngleAxisLabel}calculateRotations(){const e=toRadians(this.startAngle),t=normalizeAngle3602(e),i=normalizeAngle3602(e-Math.PI/2);return{rotation:e,parallelFlipRotation:t,regularFlipRotation:i}}calculateTickLayout(e){const{nice:t,scale:i}=this,o={nice:t,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0},s=t?i.niceDomain(o,e):e,a=this.generateAngleTicks(s);this.tickData=a;const r=a.map(l=>l.value),n=r.reduce((l,c)=>Math.max(typeof c=="number"?(0,import_ag_charts_core3.countFractionDigits)(c):0,l),0);return{niceDomain:s,tickDomain:s,ticks:r,rawTickCount:void 0,fractionDigits:n,timeInterval:void 0,bbox:this.getBBox()}}update(){super.update(),this.updateRadiusLine(),this.updateGridLines(),this.updateTickLines()}normalizedAngles(){const e=normalizeAngle3602(-Math.PI/2+toRadians(this.startAngle)),t=this.endAngle!=null?normalizeAngle360Inclusive(toRadians(this.endAngle)-toRadians(this.startAngle)):2*Math.PI,i=e+t;return[e,i]}computeRange(){this.range=this.normalizedAngles()}updateSelections(){const e=this.tickData;this.gridLineGroupSelection.update(this.gridLength&&this.gridLine.enabled?e:[]),this.tickLineGroupSelection.update(this.tick.enabled?e:[]),this.tickLabelGroupSelection.update(this.label.enabled?e:[]),this.gridLineGroupSelection.cleanup(),this.tickLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup()}updatePosition(){super.updatePosition();const{translation:e,radiusLineGroup:t}=this,i=Math.floor(e.x),o=Math.floor(e.y);t.translationX=i,t.translationY=o}updateRadiusLine(){const e=this.radiusLine,{path:t}=e;t.clear(!0);const{points:i,closePath:o}=this.getAxisLinePoints();i.forEach(({x:s,y:a,moveTo:r,arc:n,radius:l=0,startAngle:c=0,endAngle:h=0})=>{n?t.arc(s,a,l,c,h):r?t.moveTo(s,a):t.lineTo(s,a)}),o&&t.closePath(),e.visible=this.line.enabled,e.stroke=this.line.stroke,e.strokeWidth=this.line.width,e.fill=void 0}getAxisLinePoints(){const{scale:e,shape:t,gridLength:i}=this,[o,s]=this.range,a=(0,import_ag_charts_core3.isNumberEqual)(s-o,2*Math.PI),r=[];if(t==="circle")a?r.push({x:i,y:0,moveTo:!0},{x:0,y:0,radius:i,startAngle:0,endAngle:2*Math.PI,arc:!0,moveTo:!1}):r.push({x:i*Math.cos(o),y:i*Math.sin(o),moveTo:!0},{x:0,y:0,radius:i,startAngle:normalizeAngle3602(o),endAngle:normalizeAngle3602(s),arc:!0,moveTo:!1});else if(t==="polygon"){const n=e.ticks({nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.map(l=>e.convert(l));n&&n.length>2&&n.forEach((l,c)=>{const h=i*Math.cos(l),p=i*Math.sin(l),u=c===0;r.push({x:h,y:p,moveTo:u})})}return{points:r,closePath:a}}updateGridLines(){const{scale:e,gridLength:t,gridLine:{style:i,width:o},innerRadiusRatio:s}=this;if(!(i&&t>0))return;const a=t*s,r=i.length;this.gridLineGroupSelection.each((n,l,c)=>{const{value:h}=l,{stroke:p,lineDash:u}=i[c%r],d=e.convert(h);n.x1=a*Math.cos(d),n.y1=a*Math.sin(d),n.x2=t*Math.cos(d),n.y2=t*Math.sin(d),n.stroke=p,n.strokeWidth=o,n.lineDash=u,n.fill=void 0}),this.gridLineGroupSelection.cleanup()}updateLabels(){const{label:e,tickLabelGroupSelection:t}=this;t.each((i,o,s)=>{const a=this.labelData[s];if(!a||a.hidden){i.visible=!1;return}i.text=a.text,i.setFont(e),i.fill=e.color,i.x=a.x,i.y=a.y,i.setAlign(a),i.setBoxing(e),i.visible=!0,a.rotation?(i.rotation=a.rotation,i.rotationCenterX=a.x,i.rotationCenterY=a.y):i.rotation=0})}updateTickLines(){const{scale:e,gridLength:t,tick:i,tickLineGroupSelection:o}=this;o.each((s,a)=>{const{value:r}=a,n=e.convert(r),l=Math.cos(n),c=Math.sin(n);s.x1=t*l,s.y1=t*c,s.x2=(t+i.size)*l,s.y2=(t+i.size)*c,s.stroke=i.stroke,s.strokeWidth=i.width})}createLabelNodeData(e,t,i){const{label:o,gridLength:s,scale:a,tick:r}=this;if(!o.enabled)return[];const n=new RotatableText2,l=i.x-this.translation.x,c=i.x+i.width-this.translation.x,{fractionDigits:h}=this.layout.label,p=this.tickFormatter(this.scale.domain,this.tickData,!1,h),u=e.map((d,g)=>{const{value:y}=d,m=s+o.spacing+r.size,f=a.convert(y),b=Math.cos(f),v=Math.sin(f),S=m*b,D=m*v,{textAlign:_,textBaseline:k}=this.getLabelAlign(f),x=g===e.length-1&&y!==e[0]&&(0,import_ag_charts_core3.isNumberEqual)(normalizeAngle3602(f),normalizeAngle3602(a.convert(e[0]))),M=this.getLabelRotation(f);let A=p(y,g);n.text=A,n.x=S,n.y=D,n.setFont(o),n.textAlign=_,n.textBaseline=k,n.rotation=M,M&&(n.rotationCenterX=S,n.rotationCenterY=D);let I=M?Transformable.toCanvas(n):n.getBBox();if(I&&t.hideWhenNecessary&&!M){const L=l-I.x,R=I.x+I.width-c,C=1;if(L>C||R>C){const w={maxWidth:I.width-Math.max(L,R),font:o,textWrap:"never"};A=(0,import_ag_charts_core3.isArray)(A)?(0,import_ag_charts_core3.wrapTextSegments)(A,w):(0,import_ag_charts_core3.wrapText)(A,w),n.text=A,I=n.getBBox()}}return{text:A,x:S,y:D,textAlign:_,textBaseline:k,hidden:A===""||d.hidden||x,rotation:M,box:I}});return o.avoidCollisions&&this.avoidLabelCollisions(u),u}computeLabelsBBox(e,t){this.labelData=this.createLabelNodeData(this.tickData,e,t);const i=this.labelData.map(({box:o})=>o).filter(o=>o!=null);return!this.label.enabled||i.length===0?null:BBox.merge(i)}getLabelOrientation(){const{label:e}=this;return e instanceof AngleAxisLabel?e.orientation:"fixed"}getLabelRotation(e){let t=toRadians(this.label.rotation??0);e=normalizeAngle3602(e);const i=this.getLabelOrientation();return i==="parallel"?(t+=e,e>=0&&e<Math.PI?t-=Math.PI/2:t+=Math.PI/2):i==="perpendicular"&&(t+=e,e>=Math.PI/2&&e<1.5*Math.PI&&(t+=Math.PI)),t}getLabelAlign(e){const t=Math.cos(e),i=Math.sin(e);let o,s;const a=this.getLabelOrientation(),r=(0,import_ag_charts_core3.isNumberEqual)(t,0),n=(0,import_ag_charts_core3.isNumberEqual)(i,0),l=(0,import_ag_charts_core3.isNumberEqual)(t,1),c=(0,import_ag_charts_core3.isNumberEqual)(i,-1),h=t>0&&!r,p=i>0&&!n;return a==="parallel"?(o="center",s=l&&n||p?"top":"bottom"):a==="perpendicular"?(o=c||h?"left":"right",s="middle"):(o="right",r?o="center":h&&(o="left"),s="bottom",n?s="middle":p&&(s="top")),{textAlign:o,textBaseline:s}}updateCrossLines(){const{shape:e,gridLength:t,innerRadiusRatio:i}=this;this.crossLines.forEach(o=>{o instanceof AngleCrossLine&&(o.ticks=this.tickData.map(s=>s.value),o.shape=e,o.axisOuterRadius=t,o.axisInnerRadius=t*i)}),super.updateCrossLines()}};AngleAxis.CrossLineConstructor=AngleCrossLine,__decorateClass([Property3],AngleAxis.prototype,"startAngle",2),__decorateClass([Property3],AngleAxis.prototype,"endAngle",2);var{Property:Property4,CategoryScale}=import_ag_charts_community5._ModuleSupport,AngleCategoryAxis=class extends AngleAxis{constructor(e){super(e,new CategoryScale),this.groupPaddingInner=0,this.paddingInner=0,this.interval=new AngleAxisInterval}hasDefinedDomain(){return!1}generateAngleTicks(e){const{scale:t,gridLength:i}=this,{values:o,minSpacing:s}=this.interval,a={nice:this.nice,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0},r=o??t.ticks(a,e)?.ticks??[];if(r.length<2||s==null)return r.map(p=>({value:p,visible:!0}));const n=r[0],l=t.convert(n),c=i*Math.cos(l),h=i*Math.sin(l);for(let p=1;p<r.length-1;p++){const u=r[p],d=t.convert(u);if(d-l>Math.PI)break;const g=i*Math.cos(d),y=i*Math.sin(d);if(Math.sqrt((g-c)**2+(y-h)**2)>s){const f=new Set([n]);return loopSymmetrically(r,p,(b,v)=>{f.add(v)}),r.map(b=>{const v=f.has(b);return{value:b,visible:v}})}}return[{value:n,visible:!0}]}avoidLabelCollisions(e){const{minSpacing:t}=this.label;if(e.length<3)return;const i=(l,c)=>{if(l.hidden||c.hidden)return!1;if(t==null)return l.box.collidesBBox(c.box);const h=l.box.clone().grow(t/2),p=c.box.clone().grow(t/2);return h.collidesBBox(p)},o=e[0],s=e.at(-1),a=new Set([o]),r=(0,import_ag_charts_core4.isNumberEqual)(o.x,s.x)&&(0,import_ag_charts_core4.isNumberEqual)(o.y,s.y),n=Math.floor(e.length/2);for(let l=1;l<=n;l++){const c=r?e.slice(0,-1):e;if(!loopSymmetrically(c,l,i)){loopSymmetrically(c,l,(p,u)=>{a.add(u)});break}}e.forEach(l=>{a.has(l)||(l.hidden=!0,l.box=void 0)})}tickFormatParams(){return{type:"category"}}datumFormatParams(e,t){const{datum:i,seriesId:o,legendItemName:s,key:a,source:r,property:n,domain:l,boundSeries:c}=t;return{type:"category",value:e,datum:i,seriesId:o,legendItemName:s,key:a,source:r,property:n,domain:l,boundSeries:c}}};AngleCategoryAxis.className="AngleCategoryAxis",AngleCategoryAxis.type="angle-category",__decorateClass([Property4],AngleCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([Property4],AngleCategoryAxis.prototype,"paddingInner",2),__decorateClass([Property4],AngleCategoryAxis.prototype,"interval",2);var import_ag_charts_community7=require("ag-charts-community"),import_ag_charts_core6=require("ag-charts-core"),import_ag_charts_community6=require("ag-charts-community"),import_ag_charts_core5=require("ag-charts-core"),{range,isDenseInterval,LinearScale}=import_ag_charts_community6._ModuleSupport,LinearAngleScale=class pe extends LinearScale{constructor(){super(...arguments),this.arcLength=0}static getNiceStepAndTickCount(t,i){const[o,s]=i;let a=LinearScale.getTickStep(o,s,t);const r=isNaN(t.maxTickCount)?1/0:t.maxTickCount,n=Math.abs(s-o)/a;let l=Math.pow(2,Math.ceil(Math.log(n)/Math.log(2)));return l>r&&(l/=2,a*=2),{count:l,step:a}}ticks(t,i=this.domain){const{arcLength:o}=this;if(!i||i.length<2||i.some(c=>!isFinite(c))||o<=0)return{ticks:[],count:0};const{nice:s,interval:a}=t,[r,n]=i;if(a){const c=Math.abs(a),h=this.getPixelRange();if(!isDenseInterval((n-r)/c,h))return range(r,n,c)}let l;if(s&&this.hasNiceRange()){const c=super.niceDomain(t,i);l=pe.getNiceStepAndTickCount(t,c).step}else l=LinearScale.getTickStep(r,n,t);return range(r,n,l)}hasNiceRange(){const t=this.range.slice().sort((o,s)=>o-s);return[Math.PI,2*Math.PI].some(o=>(0,import_ag_charts_core5.isNumberEqual)(o,t[1]-t[0]))}niceDomain(t,i=this.domain){const o=super.niceDomain(t,i);if(!this.hasNiceRange())return o;const s=o[0]>o[1],a=s?o[1]:o[0],{step:r,count:n}=pe.getNiceStepAndTickCount(t,o),l=1/r,c=r>=1?Math.ceil(a/r+n)*r:Math.ceil((a+n*r)*l)/l;return s?[c,a]:[a,c]}getPixelRange(){return this.arcLength}},{Property:Property5,angleBetween,normalisedExtentWithMetadata,findMinMax}=import_ag_charts_community7._ModuleSupport,AngleNumberAxis=class extends AngleAxis{constructor(e){super(e,new LinearAngleScale),this.shape="circle",this.interval=new AngleAxisInterval}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:o,clipped:s}=normalisedExtentWithMetadata(e,t,i);return{domain:o,clipped:s}}updateScale(){super.updateScale(),this.scale.arcLength=this.getRangeArcLength()}getRangeArcLength(){const{range:e}=this,t=Math.min(...e),i=Math.max(...e),o=angleBetween(t,i)||2*Math.PI,s=this.gridLength;return o*s}generateAngleTicks(e){const{scale:t,range:i,nice:o}=this,{values:s,step:a,minSpacing:r,maxSpacing:n}=this.interval;let l;if(s==null){const{arcLength:c}=t,h=n?Math.floor(c/n):1,p=r?Math.floor(c/r):1/0,u=Math.floor(4/Math.PI*Math.abs(i[0]-i[1])),d=Math.max(h,Math.min(p,u)),g={nice:o,interval:a,tickCount:d,minTickCount:h,maxTickCount:p};l=t.ticks(g,e)?.ticks??[]}else{const[c,h]=findMinMax(e.map(Number));l=s.filter(p=>p>=c&&p<=h).sort((p,u)=>p-u)}return l.map(c=>({value:c,visible:!0}))}avoidLabelCollisions(e){const{minSpacing:t}=this.label,i=(a,r)=>{if(a.hidden||r.hidden)return!1;if(t==null)return a.box.collidesBBox(r.box);const n=a.box.clone().grow(t/2),l=r.box.clone().grow(t/2);return n.collidesBBox(l)},o=e[0],s=e.at(-1);o!==s&&(0,import_ag_charts_core6.isNumberEqual)(o.x,s.x)&&(0,import_ag_charts_core6.isNumberEqual)(o.y,s.y)&&(s.hidden=!0);for(let a=1;a<e.length;a*=2){let r=!1;for(let n=a;n<e.length;n+=a){const l=e[n],c=e[n-a];if(i(c,l)){r=!0;break}}if(!r){e.forEach((n,l)=>{l%a>0&&(n.hidden=!0,n.box=void 0)});return}}e.forEach((a,r)=>{r>0&&(a.hidden=!0,a.box=void 0)})}tickFormatParams(e,t,i){return{type:"number",fractionDigits:i}}datumFormatParams(e,t,i){const{datum:o,seriesId:s,legendItemName:a,key:r,source:n,property:l,domain:c,boundSeries:h}=t;return{type:"number",value:e,datum:o,seriesId:s,legendItemName:a,key:r,source:n,property:l,domain:c,boundSeries:h,fractionDigits:i}}};AngleNumberAxis.className="AngleNumberAxis",AngleNumberAxis.type="angle-number",__decorateClass([Property5],AngleNumberAxis.prototype,"min",2),__decorateClass([Property5],AngleNumberAxis.prototype,"max",2),__decorateClass([Property5],AngleNumberAxis.prototype,"interval",2);var import_ag_charts_community8=require("ag-charts-community"),{OrdinalTimeScale,Property:Property6,TimeAxisParentLevel,lowestGranularityUnitForTicks,lowestGranularityUnitForValue,minimumTimeAxisDatumGranularity,dateTruncationForDomain,intervalUnit,intervalStep,intervalEpoch,intervalMilliseconds}=import_ag_charts_community8._ModuleSupport,OrdinalTimeAxis=class extends import_ag_charts_community8._ModuleSupport.DiscreteTimeAxis{constructor(e){super(e,new OrdinalTimeScale),this.parentLevel=new TimeAxisParentLevel}get primaryLabel(){return this.parentLevel.enabled?this.parentLevel.label:void 0}get primaryTick(){return this.parentLevel.enabled?this.parentLevel.tick:void 0}processData(){super.processData();const{boundSeries:e,direction:t}=this;this.minimumTimeGranularity=minimumTimeAxisDatumGranularity(e,t,void 0,void 0)}tickFormatParams(e,t,i,o){o??(o=lowestGranularityUnitForTicks(t));const s=dateTruncationForDomain(e),a=intervalUnit(o),r=intervalStep(o),n=intervalEpoch(o);return{type:"date",unit:a,step:r,epoch:n,truncateDate:s}}datumFormatParams(e,t,i,o,s){if(typeof e=="number"&&(e=new Date(e)),o==null){const{minimumTimeGranularity:m}=this,f=lowestGranularityUnitForValue(e);m!=null&&intervalMilliseconds(m)<intervalMilliseconds(f)?o=m:o=f}const{datum:a,seriesId:r,legendItemName:n,key:l,source:c,property:h,domain:p,boundSeries:u}=t,d=intervalUnit(o),g=intervalStep(o),y=intervalEpoch(o);return{type:"date",value:e,datum:a,seriesId:r,legendItemName:n,key:l,source:c,property:h,domain:p,boundSeries:u,unit:d,step:g,epoch:y,style:s}}};OrdinalTimeAxis.className="OrdinalTimeAxis",OrdinalTimeAxis.type="ordinal-time",__decorateClass([Property6],OrdinalTimeAxis.prototype,"parentLevel",2);var import_ag_charts_community11=require("ag-charts-community"),import_ag_charts_community10=require("ag-charts-community"),import_ag_charts_core8=require("ag-charts-core"),import_ag_charts_community9=require("ag-charts-community"),import_ag_charts_core7=require("ag-charts-core"),{ChartAxisDirection:ChartAxisDirection4,Property:Property7,validateCrossLineValue:validateCrossLineValue2,normalizeAngle360FromDegrees,Group:Group3,Path:Path3,Sector:Sector2,RotatableText:RotatableText3}=import_ag_charts_community9._ModuleSupport,RadiusCrossLineLabel=class extends PolarCrossLineLabel{constructor(){super(...arguments),this.positionAngle=void 0}};__decorateClass([Property7],RadiusCrossLineLabel.prototype,"positionAngle",2);var RadiusCrossLine=class extends PolarCrossLine{constructor(){super(),this.direction=ChartAxisDirection4.Radius,this.label=new RadiusCrossLineLabel,this.polygonNode=new Path3,this.sectorNode=new Sector2,this.crossLineRange=new Group3,this.labelNode=new RotatableText3,this.outerRadius=0,this.innerRadius=0,this.crossLineRange.append(this.polygonNode),this.crossLineRange.append(this.sectorNode),this.labelGroup.append(this.labelNode)}update(e){const{scale:t}=this;if(!t||!validateCrossLineValue2(this,t)){this.rangeGroup.visible=!1,this.lineGroup.visible=!1,this.labelGroup.visible=!1;return}this.updateRadii();const{innerRadius:i,outerRadius:o}=this;e&&(e=i>=this.axisInnerRadius&&o<=this.axisOuterRadius),this.rangeGroup.visible=e,this.lineGroup.visible=e,this.labelGroup.visible=e,this.updatePolygonNode(e),this.updateSectorNode(e),this.updateLabelNode(e),this.assignCrossLineGroup(this.type==="range",this.crossLineRange)}updateRadii(){const{range:e,scale:t,type:i,axisInnerRadius:o,axisOuterRadius:s}=this;if(!t)return{innerRadius:0,outerRadius:0};const a=l=>s+o-l;let r,n;if(i==="line")r=a(t.convert(this.value)),n=r;else{const l=Math.abs(t?.bandwidth??0),c=e.map(h=>t.convert(h));r=a(Math.max(...c)),n=a(Math.min(...c))+l}this.outerRadius=r,this.innerRadius=n}drawPolygon(e,t,i){t.forEach((o,s)=>{const a=e*Math.cos(o),r=e*Math.sin(o);s===0?i.path.moveTo(a,r):i.path.lineTo(a,r)}),i.path.closePath()}updatePolygonNode(e){const{gridAngles:t,polygonNode:i,scale:o,shape:s,type:a,innerRadius:r,outerRadius:n}=this;if(!e||s!=="polygon"||!o||!t){i.visible=!1;return}i.visible=!0;const l=this.getPadding();i.path.clear(!0),this.drawPolygon(n-l,t,i);const c=t.slice().reverse(),h=a==="line"?n-l:r+l;this.drawPolygon(h,c,i),this.setSectorNodeProps(i)}updateSectorNode(e){const{axisInnerRadius:t,axisOuterRadius:i,scale:o,sectorNode:s,shape:a,innerRadius:r,outerRadius:n}=this;if(!e||a!=="circle"||!o){s.visible=!1;return}s.visible=!0,s.startAngle=0,s.endAngle=2*Math.PI;const l=this.getPadding(),c=(0,import_ag_charts_core7.clamp)(t,r+l,i),h=(0,import_ag_charts_core7.clamp)(t,n-l,i);s.innerRadius=Math.min(c,h),s.outerRadius=Math.max(c,h),this.setSectorNodeProps(s)}updateLabelNode(e){const{innerRadius:t,label:i,labelNode:o,scale:s,shape:a,type:r}=this;if(!e||i.enabled===!1||!i.text||!s){o.visible=!1;return}const n=normalizeAngle360FromDegrees((i.positionAngle??0)-90),l=((0,import_ag_charts_core7.isNumberEqual)(n,0)||n>0)&&n<Math.PI,c=l?n-Math.PI/2:n+Math.PI/2;let h;const p=this.gridAngles??[];r==="line"?h=t+i.padding:a==="circle"||p.length<3?h=t-i.padding:h=t*Math.cos(Math.PI/p.length)-i.padding;const u=h*Math.cos(n),d=h*Math.sin(n);let g;r==="line"?g=l?"top":"bottom":g=l?"bottom":"top",this.setLabelNodeProps(o,u,d,g,c)}getPadding(){const{scale:e}=this;if(!e)return 0;const t=Math.abs(e.bandwidth??0),i=Math.abs(e.step??0);return e instanceof import_ag_charts_community9._ModuleSupport.BandScale?(i-t)/2:0}};RadiusCrossLine.className="RadiusCrossLine";var{ChartAxisDirection:ChartAxisDirection5,ZIndexMap,Property:Property8,normalizeAngle360:normalizeAngle3603,toRadians:toRadians2,Caption,Group:Group4,TransformableGroup,Path:Path4,Line:Line2,Selection:Selection2,generateTicks,AxisGroupZIndexMap}=import_ag_charts_community10._ModuleSupport,RadiusAxisLabel=class extends import_ag_charts_community10._ModuleSupport.AxisLabel{constructor(){super(...arguments),this.autoRotateAngle=335}};__decorateClass([Property8],RadiusAxisLabel.prototype,"autoRotate",2),__decorateClass([Property8],RadiusAxisLabel.prototype,"autoRotateAngle",2);var RadiusAxis=class extends import_ag_charts_community10._ModuleSupport.PolarAxis{constructor(e,t){super(e,t),this.positionAngle=0,this.gridLineGroupSelection=Selection2.select(this.gridLineGroup,Line2,!1),this.generatedTicks=void 0,this.headingLabelGroup=this.axisGroup.appendChild(new TransformableGroup({name:`${this.id}-Axis-heading`})),this.lineNodeGroup=this.axisGroup.appendChild(new TransformableGroup({name:`${this.id}-Axis-line`})),this.lineNode=this.lineNodeGroup.appendChild(new Line2({name:`${this.id}-Axis-line`,zIndex:AxisGroupZIndexMap.AxisLine})),this.gridPathGroup=this.gridGroup.appendChild(new Group4({name:`${this.id}-gridPaths`,zIndex:ZIndexMap.AXIS_GRID})),this.gridPathSelection=Selection2.select(this.gridPathGroup,Path4),this.headingLabelGroup.appendChild(this.title.caption.node),this.cleanup.register(this.title.caption.registerInteraction(this.moduleCtx,"afterend"))}get direction(){return ChartAxisDirection5.Radius}getAxisTransform(){const e=this.scale.range[0],{translation:t,positionAngle:i,innerRadiusRatio:o}=this,s=e*o,a=toRadians2(i);return{translationX:t.x,translationY:t.y-e-s,rotation:a,rotationCenterX:0,rotationCenterY:e+s}}update(){super.update(),this.updateTitle(),this.updateGridLines();const{enabled:e,stroke:t,width:i}=this.line;this.lineNode.setProperties({stroke:t,strokeWidth:e?i:0,x1:0,y1:this.range[0],x2:0,y2:this.range[1]})}updatePosition(){super.updatePosition();const e=this.getAxisTransform();this.tickLineGroup.setProperties(e),this.tickLabelGroup.setProperties(e),this.lineNodeGroup.setProperties(e),this.headingLabelGroup.setProperties(e)}calculateRotations(){return{rotation:0,parallelFlipRotation:0,regularFlipRotation:-Math.PI/2}}calculateTickLayout(e,t,i){const o=[0,1],s=this.label.getSideFlag(),a=s*(this.getTickSize()+this.label.spacing+this.seriesAreaPadding),{range:r,reverse:n,defaultTickMinSpacing:l}=this,c=generateTicks({scale:this.scale,label:this.label,interval:this.interval,tickFormatter:(...b)=>this.tickFormatter(...b),domain:e,range:r,reverse:n,niceMode:t,visibleRange:o,defaultTickMinSpacing:l,labelOffset:a,sideFlag:s,axisRotation:0,sizeLimit:void 0,primaryTickCount:void 0}),{tickData:h}=c,{ticks:p,rawTicks:u,rawTickCount:d,tickDomain:g,fractionDigits:y,niceDomain:m=e}=h,f=p.map(b=>this.getTickLabelProps(b,c));return this.generatedTicks={ticks:p,labels:f},{ticks:u,tickDomain:g,niceDomain:m,rawTickCount:d,fractionDigits:y,timeInterval:void 0}}updateSelections(){const{generatedTicks:e}=this;if(!e)return;const{ticks:t,labels:i}=e;this.gridLineGroupSelection.update(this.gridLength?t:[]),this.tickLabelGroupSelection.update(i),this.gridPathSelection.update(this.gridLine.enabled?this.prepareGridPathTickData(t):[]),this.gridLineGroupSelection.cleanup(),this.tickLabelGroupSelection.cleanup(),this.gridPathSelection.cleanup()}updateLabels(){if(!this.label.enabled)return;const e=import_ag_charts_community10._ModuleSupport.resetAxisLabelSelectionFn();this.tickLabelGroupSelection.each((t,i)=>{t.fill=i.color,t.text=i.text,t.textBaseline=i.textBaseline,t.textAlign=i.textAlign??"center",t.setFont(i),t.setBoxing(i),t.setProperties(e(t,i))})}updateGridLines(){const{gridLine:{style:e,width:t},shape:i,generatedTicks:o}=this;if(!e||!o)return;const s=e.length,a=(u,d)=>{const{stroke:g,lineDash:y}=e[d%s];u.stroke=g,u.strokeWidth=t,u.lineDash=y,u.fill=void 0},[r,n]=this.gridRange??[0,2*Math.PI],l=(0,import_ag_charts_core8.isNumberEqual)(n-r,2*Math.PI),p=i==="circle"?(u,d)=>{const{path:g}=u;g.clear(!0);const y=this.getTickRadius(d);l?(g.moveTo(y,0),g.arc(0,0,y,0,2*Math.PI)):(g.moveTo(y*Math.cos(r),y*Math.sin(r)),g.arc(0,0,y,normalizeAngle3603(r),normalizeAngle3603(n))),l&&g.closePath()}:(u,d)=>{const{path:g}=u,y=this.gridAngles;if(g.clear(!0),!y||y.length<3)return;const m=this.getTickRadius(d);y.forEach((f,b)=>{const v=m*Math.cos(f),S=m*Math.sin(f);b===0?g.moveTo(v,S):g.lineTo(v,S),y.forEach((D,_)=>{const k=m*Math.cos(D),x=m*Math.sin(D);_===0?g.moveTo(k,x):g.lineTo(k,x)}),g.closePath()}),g.closePath()};this.gridPathSelection.each((u,d,g)=>{a(u,g),p(u,d)})}updateTitle(){const e=r=>r.defaultValue,{title:t,range:i}=this,{formatter:o=e}=this.title;t.caption.enabled=t.enabled,t.caption.fontFamily=t.fontFamily,t.caption.fontSize=t.fontSize,t.caption.fontStyle=t.fontStyle,t.caption.fontWeight=t.fontWeight,t.caption.color=t.color,t.caption.wrapping=t.wrapping;let s=!1;const a=t.caption.node;t.enabled&&(s=!0,a.rotation=Math.PI/2,a.x=Math.floor((i[0]+i[1])/2),a.y=-Caption.SMALL_PADDING,a.textAlign="center",a.textBaseline="bottom",a.text=this.cachedCallWithContext(o,this.getTitleFormatterParams(this.scale.domain))),a.visible=s}updateCrossLines(){this.crossLines.forEach(e=>{if(e instanceof RadiusCrossLine){const{shape:t,gridAngles:i,range:o,innerRadiusRatio:s}=this,a=o[0];e.shape=t,e.gridAngles=i,e.axisOuterRadius=a,e.axisInnerRadius=a*s}}),super.updateCrossLines()}createLabel(){return new RadiusAxisLabel}getTickLabelProps(e,t){const{label:i}=this,{rotation:o,textBaseline:s,textAlign:a}=t,r=this.scale.range,n=e.tickLabel??"",c=i.getSideFlag()*(this.getTickSize()+i.spacing+this.seriesAreaPadding),h=n!==""&&n!=null,p=o;return{...this.getLabelStyles({value:e.tick,formattedValue:e.tickLabel}),tickId:e.tickId,rotation:p,text:n,textAlign:a,textBaseline:s,visible:h,x:c,y:e.translation,rotationCenterX:c,rotationCenterY:e.translation,range:r}}};RadiusAxis.CrossLineConstructor=RadiusCrossLine,__decorateClass([Property8],RadiusAxis.prototype,"positionAngle",2);var{ProxyPropertyOnWrite,Property:Property9,CategoryScale:CategoryScale2}=import_ag_charts_community11._ModuleSupport,RadiusCategoryAxis=class extends RadiusAxis{constructor(e){super(e,new CategoryScale2),this.shape="circle",this.groupPaddingInner=0,this.paddingInner=0,this.paddingOuter=0}hasDefinedDomain(){return!1}normaliseDataDomain(e){return{domain:e,clipped:!1}}prepareGridPathTickData(e){return e.slice().reverse()}getTickRadius(e){const{scale:t,innerRadiusRatio:i}=this,o=t.range[0],s=o*i;if(CategoryScale2.is(t)){const a=t.domain,r=a.length-1-a.indexOf(e.tick);return r===0?s:t.inset+t.step*(r-.5)+t.bandwidth/2}else{const a=(o-s)/t.domain.length;return o-e.translation+s-a/2}}tickFormatParams(){return{type:"category"}}datumFormatParams(e,t){const{datum:i,seriesId:o,legendItemName:s,key:a,source:r,property:n,domain:l,boundSeries:c}=t;return{type:"category",value:e,datum:i,seriesId:o,legendItemName:s,key:a,source:r,property:n,domain:l,boundSeries:c}}};RadiusCategoryAxis.className="RadiusCategoryAxis",RadiusCategoryAxis.type="radius-category",__decorateClass([Property9],RadiusCategoryAxis.prototype,"groupPaddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingInner"),Property9],RadiusCategoryAxis.prototype,"paddingInner",2),__decorateClass([ProxyPropertyOnWrite("scale","paddingOuter"),Property9],RadiusCategoryAxis.prototype,"paddingOuter",2);var import_ag_charts_community12=require("ag-charts-community"),{Property:Property10,normalisedExtentWithMetadata:normalisedExtentWithMetadata2,LinearScale:LinearScale2}=import_ag_charts_community12._ModuleSupport,RadiusNumberAxis=class extends RadiusAxis{constructor(e){super(e,new LinearScale2),this.shape="polygon"}hasDefinedDomain(){const{min:e,max:t}=this;return e!=null&&t!=null&&e<t}prepareGridPathTickData(e){const{scale:t}=this,i=t.domain[1];return e.filter(({tick:o})=>o!==i).sort((o,s)=>s.tick-o.tick)}getTickRadius(e){const{scale:t}=this,i=t.range[0],o=i*this.innerRadiusRatio;return i-e.translation+o}normaliseDataDomain(e){const{min:t,max:i}=this,{extent:o,clipped:s}=normalisedExtentWithMetadata2(e,t,i);return{domain:o,clipped:s}}tickFormatParams(e,t,i){return{type:"number",fractionDigits:i}}datumFormatParams(e,t,i){const{datum:o,seriesId:s,legendItemName:a,key:r,source:n,property:l,domain:c,boundSeries:h}=t;return{type:"number",value:e,datum:o,seriesId:s,legendItemName:a,key:r,source:n,property:l,domain:c,boundSeries:h,fractionDigits:i}}};RadiusNumberAxis.className="RadiusNumberAxis",RadiusNumberAxis.type="radius-number",__decorateClass([Property10],RadiusNumberAxis.prototype,"min",2),__decorateClass([Property10],RadiusNumberAxis.prototype,"max",2);var{ordinalTimeAxisOptionsDefs,angleNumberAxisOptionsDefs,angleCategoryAxisOptionsDefs,radiusNumberAxisOptionsDefs,radiusCategoryAxisOptionsDefs}=import_ag_charts_community13._ModuleSupport,OrdinalTimeAxisModule={type:"axis",name:"ordinal-time",chartType:"cartesian",enterprise:!0,options:ordinalTimeAxisOptionsDefs,create:e=>new OrdinalTimeAxis(e)},AngleNumberAxisModule={type:"axis",name:"angle-number",chartType:"polar",enterprise:!0,options:angleNumberAxisOptionsDefs,create:e=>new AngleNumberAxis(e)},AngleCategoryAxisModule={type:"axis",name:"angle-category",chartType:"polar",enterprise:!0,options:angleCategoryAxisOptionsDefs,create:e=>new AngleCategoryAxis(e)},RadiusNumberAxisModule={type:"axis",name:"radius-number",chartType:"polar",enterprise:!0,options:radiusNumberAxisOptionsDefs,create:e=>new RadiusNumberAxis(e)},RadiusCategoryAxisModule={type:"axis",name:"radius-category",chartType:"polar",enterprise:!0,options:radiusCategoryAxisOptionsDefs,create:e=>new RadiusCategoryAxis(e)},import_ag_charts_community15=require("ag-charts-community"),import_ag_charts_community14=require("ag-charts-community"),{Chart}=import_ag_charts_community14._ModuleSupport,StandaloneChart=class extends Chart{getChartType(){return"standalone"}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:o}=e,s=o.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=s,this.animationRect=s;for(const a of[t,i])a.translationX=Math.floor(s.x),a.translationY=Math.floor(s.y);t.visible=this.series[0].visible,this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:!0,rect:s,paddedRect:o}})}getAriaLabel(){const e=this.series[0]?.type;if(e==null)return"";const t=this.getCaptionText();switch(e){case"radial-gauge":case"linear-gauge":{const i=[];t.length!==0&&i.push(t);for(const o of this.series)i.push(o.getCaptionText());return this.ctx.localeManager.t("ariaAnnounceGaugeChart",{caption:i.join(". ")})}case"treemap":case"sunburst":return this.ctx.localeManager.t("ariaAnnounceHierarchyChart",{caption:t});default:return this.ctx.localeManager.t("ariaAnnounceStandaloneChart",{caption:t})}}};StandaloneChart.className="StandaloneChart",StandaloneChart.type="standalone";var{isAgStandaloneChartOptions,standaloneChartOptionsDefs}=import_ag_charts_community15._ModuleSupport,StandaloneChartModule={type:"chart",name:"standalone",enterprise:!0,options:standaloneChartOptionsDefs,detect:isAgStandaloneChartOptions,create(e,t){return new StandaloneChart(e,t)}},import_ag_charts_community17=require("ag-charts-community"),import_ag_charts_community16=require("ag-charts-community"),{Chart:Chart2,MercatorScale,ChartAxisDirection:ChartAxisDirection6,Property:Property11}=import_ag_charts_community16._ModuleSupport;function isTopologySeries(e){return e.type==="map-shape"||e.type==="map-line"||e.type==="map-marker"||e.type==="map-shape-background"||e.type==="map-line-background"}var TopologyChart=class extends Chart2{constructor(e,t){super(e,t),this.ctx.zoomManager.updateAxes([ChartAxisDirection6.X,ChartAxisDirection6.Y])}getChartType(){return"topology"}async updateData(){await super.updateData();const e=this.getOptions();this.topology!==e.topology&&(this.topology=e.topology);const{topology:t}=this;this.series.forEach(i=>{isTopologySeries(i)&&i.setChartTopology(t)})}performLayout(e){const{seriesRoot:t,annotationRoot:i}=this,{layoutBox:o}=e,s=o.clone().shrink(this.modulesManager.getModule("seriesArea").getPadding());this.seriesRect=s,this.animationRect=s;const a=this.series.filter(isTopologySeries),r=a.reduce((c,h)=>{if(!h.visible)return c;const p=h.topologyBounds;return p==null?c:c==null?p:c.merge(p)},void 0);let n;if(r!=null){const{lon0:c,lat0:h,lon1:p,lat1:u}=r,d=[[c,h],[p,u]],g=MercatorScale.bounds(d),{width:y,height:m}=s,f=Math.min(y/g.width,m/g.height),b=g.width*f,v=g.height*f,S=(y-b)/2,D=(m-v)/2,_=S,k=D,x=S+b,M=D+v,A=this.ctx.zoomManager.getAxisZoom(ChartAxisDirection6.X),I=this.ctx.zoomManager.getAxisZoom(ChartAxisDirection6.Y),L=(x-_)/(A.max-A.min),R=_-L*A.min,C=(M-k)/(1-I.min-(1-I.max)),N=k-C*(1-I.max);n=new MercatorScale(d,[[R,N],[R+L,N+C]])}a.forEach(c=>{c.scale=n});const l=this.series.some(c=>c.visible);t.visible=l;for(const c of[t,i])c.translationX=Math.floor(s.x),c.translationY=Math.floor(s.y),c.setClipRect(s.clone());this.ctx.layoutManager.emitLayoutComplete(e,{series:{visible:l,rect:s,paddedRect:o}})}};TopologyChart.className="TopologyChart",TopologyChart.type="topology",__decorateClass([Property11],TopologyChart.prototype,"topology",2);var{isAgTopologyChartOptions,topologyChartOptionsDefs}=import_ag_charts_community17._ModuleSupport,TopologyChartModule={type:"chart",name:"topology",enterprise:!0,options:topologyChartOptionsDefs,detect:isAgTopologyChartOptions,create(e,t){return new TopologyChart(e,t)}},import_ag_charts_community63=require("ag-charts-community"),import_ag_charts_community18=require("ag-charts-community"),import_ag_charts_core9=require("ag-charts-core"),{annotationCalloutStylesDefs,annotationNoteStylesDefs,annotationTextStylesDef,annotationCommentStylesDefs,annotationMeasurerStylesDefs,annotationShapeStylesDefs,annotationChannelTextDefs,annotationCrossLineStyleDefs,annotationFibonacciStylesDefs,annotationLineStyleDefs,annotationLineTextDefs,annotationDisjointChannelStyleDefs,annotationParallelChannelStyleDefs}=import_ag_charts_community18._ModuleSupport,serializableDate=(0,import_ag_charts_core9.optionsDefs)({__type:(0,import_ag_charts_core9.required)((0,import_ag_charts_core9.constant)("date")),value:(0,import_ag_charts_core9.or)(import_ag_charts_core9.string,import_ag_charts_core9.number)},"a serializable date object"),xValue=(0,import_ag_charts_core9.or)(import_ag_charts_core9.string,import_ag_charts_core9.number,serializableDate),annotationValue=(0,import_ag_charts_core9.or)(xValue,(0,import_ag_charts_core9.optionsDefs)({value:xValue,groupPercentage:(0,import_ag_charts_core9.numberRange)(-1,2)})),channelAnnotationTextOptionsDef={...annotationChannelTextDefs,label:import_ag_charts_core9.string},lineAnnotationTextOptionsDef={...annotationLineTextDefs,label:import_ag_charts_core9.string},annotationPointOptionsDef={x:annotationValue,y:import_ag_charts_core9.number},annotationInitialStateOptionsDef=(0,import_ag_charts_core9.typeUnion)({line:{...annotationLineStyleDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:lineAnnotationTextOptionsDef},"horizontal-line":{...annotationCrossLineStyleDefs,value:annotationValue,text:lineAnnotationTextOptionsDef},"vertical-line":{...annotationCrossLineStyleDefs,value:annotationValue,text:lineAnnotationTextOptionsDef},"disjoint-channel":{...annotationDisjointChannelStyleDefs,startHeight:import_ag_charts_core9.number,endHeight:import_ag_charts_core9.number,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:channelAnnotationTextOptionsDef},"parallel-channel":{...annotationParallelChannelStyleDefs,height:import_ag_charts_core9.number,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:channelAnnotationTextOptionsDef},"fibonacci-retracement":{...annotationFibonacciStylesDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:lineAnnotationTextOptionsDef,reverse:import_ag_charts_core9.boolean},"fibonacci-retracement-trend-based":{...annotationFibonacciStylesDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,endRetracement:annotationPointOptionsDef,text:lineAnnotationTextOptionsDef,reverse:import_ag_charts_core9.boolean},callout:{...annotationCalloutStylesDefs,start:annotationPointOptionsDef,end:annotationPointOptionsDef,text:import_ag_charts_core9.string},comment:{...annotationCommentStylesDefs,...annotationPointOptionsDef,text:import_ag_charts_core9.string},note:{...annotationNoteStylesDefs,...annotationPointOptionsDef,text:import_ag_charts_core9.string},text:{...annotationTextStylesDef,...annotationPointOptionsDef,text:import_ag_charts_core9.string},arrow:{...annotationLineStyleDefs,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef},"arrow-up":{...annotationShapeStylesDefs,...annotationPointOptionsDef},"arrow-down":{...annotationShapeStylesDefs,...annotationPointOptionsDef},"date-range":{...annotationMeasurerStylesDefs,extendAbove:import_ag_charts_core9.boolean,extendBelow:import_ag_charts_core9.boolean,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef},"price-range":{...annotationMeasurerStylesDefs,extendLeft:import_ag_charts_core9.boolean,extendRight:import_ag_charts_core9.boolean,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef},"date-price-range":{...annotationMeasurerStylesDefs,text:lineAnnotationTextOptionsDef,start:annotationPointOptionsDef,end:annotationPointOptionsDef}},"an annotation initial state object"),initialStateOptionsDef={chartType:(0,import_ag_charts_core9.union)("candlestick","hollow-candlestick","ohlc","line","step-line","hlc","high-low"),annotations:(0,import_ag_charts_core9.arrayOfDefs)(annotationInitialStateOptionsDef),legend:(0,import_ag_charts_core9.arrayOfDefs)({visible:import_ag_charts_core9.boolean,seriesId:import_ag_charts_core9.string,itemId:import_ag_charts_core9.string,legendItemName:import_ag_charts_core9.string},"legend state array"),zoom:{rangeX:{start:(0,import_ag_charts_core9.or)(import_ag_charts_core9.number,serializableDate),end:(0,import_ag_charts_core9.or)(import_ag_charts_core9.number,serializableDate)},rangeY:{start:(0,import_ag_charts_core9.or)(import_ag_charts_core9.number,serializableDate),end:(0,import_ag_charts_core9.or)(import_ag_charts_core9.number,serializableDate)},ratioX:{start:(0,import_ag_charts_core9.and)(import_ag_charts_core9.ratio,(0,import_ag_charts_core9.lessThan)("end")),end:(0,import_ag_charts_core9.and)(import_ag_charts_core9.ratio,(0,import_ag_charts_core9.greaterThan)("start"))},ratioY:{start:(0,import_ag_charts_core9.and)(import_ag_charts_core9.ratio,(0,import_ag_charts_core9.lessThan)("end")),end:(0,import_ag_charts_core9.and)(import_ag_charts_core9.ratio,(0,import_ag_charts_core9.greaterThan)("start"))},autoScaledAxes:(0,import_ag_charts_core9.arrayOf)((0,import_ag_charts_core9.constant)("y"))}},import_ag_charts_community62=require("ag-charts-community"),import_ag_charts_core20=require("ag-charts-core"),import_ag_charts_community24=require("ag-charts-community"),import_ag_charts_community21=require("ag-charts-community");function prepareBoxPlotFromTo(e){return{from:e?{scalingX:1,scalingY:0}:{scalingX:0,scalingY:1},to:{scalingX:1,scalingY:1}}}function resetBoxPlotSelectionsScalingCenterFn(e){return(t,i)=>e?{scalingCenterY:i.scaledValues.medianValue}:{scalingCenterX:i.scaledValues.medianValue}}var import_ag_charts_community19=require("ag-charts-community"),{Path:Path5,Scalable,ExtendedPath2D,SceneChangeDetection,SceneArrayChangeDetection,BBox:BBox2,clippedRoundRect:baseClippedRoundRect}=import_ag_charts_community19._ModuleSupport,BoxPlotNode=class extends Scalable(Path5){constructor(){super(...arguments),this.wickPath=new ExtendedPath2D,this.horizontal=!1,this.center=0,this.thickness=0,this.min=0,this.q1=0,this.median=0,this.q3=0,this.max=0,this.cornerRadius=0,this.crisp=!1,this.strokeAlignment=0,this.wickStroke=void 0,this.wickStrokeWidth=void 0,this.wickStrokeOpacity=void 0,this.capLengthRatio=1}computeBBox(){const{horizontal:e,center:t,thickness:i,min:o,max:s}=this;return e?new BBox2(Math.min(o,s),t-i/2,Math.abs(s-o),i):new BBox2(t-i/2,Math.min(o,s),i,Math.abs(s-o))}computeDefaultGradientFillBBox(){const{horizontal:e,center:t,thickness:i,q1:o,q3:s}=this;return e?new BBox2(Math.min(o,s),t-i/2,Math.abs(s-o),i):new BBox2(t-i/2,Math.min(o,s),i,Math.abs(s-o))}isPointInPath(e,t){return this.getBBox().containsPoint(e,t)}distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}get midPoint(){return this.horizontal?{x:(this.min+this.max)/2,y:this.center}:{x:this.center,y:(this.min+this.max)/2}}alignedCoordinates(){const{thickness:e,crisp:t,strokeAlignment:i}=this;let{center:o,min:s,q1:a,median:r,q3:n,max:l}=this,c=o-e/2,h=o+e/2;if(t&&e>1){s=this.align(s),a=this.align(a),r=this.align(r),n=this.align(n),l=s+this.align(s,l-s);const u=this.align(e/2);o=this.align(o),c=o-u,h=o+u}const p=(s+l)/2;return c+=i,h+=i,s+=s<p?i:-i,l+=l<p?i:-i,a+=a<p?-i:i,r+=r<p?-i:i,n+=n<p?-i:i,{center:o,x0:c,x1:h,min:s,max:l,q1:a,median:r,q3:n}}updatePath(){const{path:e,stroke:t,strokeWidth:i,strokeOpacity:o,lineDash:s,lineDashOffset:a,wickStroke:r,wickStrokeWidth:n,wickStrokeOpacity:l,wickLineDash:c,wickLineDashOffset:h,strokeAlignment:p,cornerRadius:u,capLengthRatio:d,horizontal:g}=this,{center:y,x0:m,x1:f,min:b,max:v,q1:S,median:D,q3:_}=this.alignedCoordinates();this.path.clear(),this.wickPath.clear();const x=r!=null&&r!==t||n!=null&&n!==i||l!=null&&l!==o||c!=null&&c!==s||h!=null&&h!==a?this.wickPath:e;if(Math.abs(f-m)<=3){moveTo(x,g,y,b),lineTo(x,g,y,v);return}const M=Math.min(b,v),A=Math.max(b,v),I=Math.min(S,_),L=Math.max(S,_),R=y-Math.abs((f-m)*d)/2,C=y+Math.abs((f-m)*d)/2;moveTo(x,g,R,M),lineTo(x,g,C,M),moveTo(x,g,y,M),lineTo(x,g,y,I+i/2),moveTo(x,g,y,A),lineTo(x,g,y,L-i/2),moveTo(x,g,R,A),lineTo(x,g,C,A);const N=i/2+p,w=i/2-p,P=L-I-2*w;if(P>0){const T=m+N,E=I+w,O=f-m-2*N,F={topLeft:u,topRight:u,bottomRight:u,bottomLeft:u};clippedRoundRect(e,g,T,E,O,P,F,new BBox2(T,E,O,D-E)),clippedRoundRect(e,g,T,E,O,P,F,new BBox2(T,D,O,E+P-D))}else{const T=(I+L)/2;moveTo(e,g,m,T),lineTo(e,g,f,T)}}drawPath(e){super.drawPath(e);const{wickPath:t}=this;if(t.isEmpty())return;const{stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,wickStroke:n=i,wickStrokeWidth:l=o,wickStrokeOpacity:c=s,wickLineDash:h=a,wickLineDashOffset:p=r}=this;l!==0&&(e.globalAlpha*=c,typeof n=="string"&&(e.strokeStyle=n),e.lineWidth=l,h!=null&&e.setLineDash([...h]),e.lineDashOffset=p,e.stroke(t.getPath2D()))}};__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"horizontal",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"center",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"thickness",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"min",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"q1",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"median",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"q3",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"max",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"cornerRadius",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"crisp",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"strokeAlignment",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"wickStroke",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"wickStrokeWidth",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"wickStrokeOpacity",2),__decorateClass([SceneArrayChangeDetection()],BoxPlotNode.prototype,"wickLineDash",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"wickLineDashOffset",2),__decorateClass([SceneChangeDetection()],BoxPlotNode.prototype,"capLengthRatio",2);function moveTo(e,t,i,o){t?e.moveTo(o,i):e.moveTo(i,o)}function lineTo(e,t,i,o){t?e.lineTo(o,i):e.lineTo(i,o)}function clippedRoundRect(e,t,i,o,s,a,r,n){t?baseClippedRoundRect(e,o,i,a,s,r,n!=null?new BBox2(n.y,n.x,n.height,n.width):void 0):baseClippedRoundRect(e,i,o,s,a,r,n)}var import_ag_charts_community20=require("ag-charts-community"),{BaseProperties:BaseProperties2,AbstractBarSeriesProperties,makeSeriesTooltip,Property:Property12,mergeDefaults}=import_ag_charts_community20._ModuleSupport,BoxPlotSeriesCap=class extends BaseProperties2{constructor(){super(...arguments),this.lengthRatio=.5}};__decorateClass([Property12],BoxPlotSeriesCap.prototype,"lengthRatio",2);var BoxPlotSeriesWhisker=class extends BaseProperties2{};__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"stroke",2),__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"strokeWidth",2),__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"strokeOpacity",2),__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"lineDash",2),__decorateClass([Property12],BoxPlotSeriesWhisker.prototype,"lineDashOffset",2);var BoxPlotSeriesProperties=class extends AbstractBarSeriesProperties{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.cap=new BoxPlotSeriesCap,this.whisker=new BoxPlotSeriesWhisker,this.tooltip=makeSeriesTooltip()}toJson(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:o,lineDashOffset:s}=this,a=super.toJson();return a.whisker=mergeDefaults(a.whisker,{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:o,lineDashOffset:s}),a}getStyle(){const{fill:e,fillOpacity:t,strokeWidth:i,strokeOpacity:o,stroke:s,lineDash:a,lineDashOffset:r,cornerRadius:n,cap:l,whisker:c}=this;return{fill:e,fillOpacity:t,strokeWidth:i,strokeOpacity:o,stroke:s,lineDash:a,lineDashOffset:r,cornerRadius:n,cap:l,whisker:c,opacity:1}}};__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"xKey",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"minKey",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"q1Key",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"medianKey",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"q3Key",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"maxKey",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"xName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"yName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"minName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"q1Name",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"medianName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"q3Name",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"maxName",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"fill",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"stroke",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"lineDash",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"cap",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"whisker",2),__decorateClass([Property12],BoxPlotSeriesProperties.prototype,"tooltip",2);var{fixNumericExtent,keyProperty,mergeDefaults:mergeDefaults2,SeriesNodePickMode,SMALLEST_KEY_INTERVAL,valueProperty,diff,animationValidation,computeBarFocusBounds,createDatumId,HighlightState,ContinuousScale:ContinuousScale2,ChartAxisDirection:ChartAxisDirection7,motion,getItemStyles,applyShapeFillBBox,calculateSegments}=import_ag_charts_community21._ModuleSupport,BoxPlotSeriesNodeEvent=class extends import_ag_charts_community21._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.minKey=o.properties.minKey,this.q1Key=o.properties.q1Key,this.medianKey=o.properties.medianKey,this.q3Key=o.properties.q3Key,this.maxKey=o.properties.maxKey}},BoxPlotSeries=class extends import_ag_charts_community21._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode.NEAREST_NODE,SeriesNodePickMode.EXACT_SHAPE_MATCH],propertyKeys:{x:["xKey"],y:["medianKey","q1Key","q3Key","minKey","maxKey"]},propertyNames:{x:["xName"],y:["medianName","q1Name","q3Name","minName","maxName"]},categoryKey:"xValue",pathsPerSeries:[]}),this.properties=new BoxPlotSeriesProperties,this.NodeEvent=BoxPlotSeriesNodeEvent}async processData(e){if(!this.visible)return;const{xKey:t,minKey:i,q1Key:o,medianKey:s,q3Key:a,maxKey:r}=this.properties,n=!this.ctx.animationManager.isSkipped(),l=this.getCategoryAxis()?.scale,c=this.getValueAxis()?.scale,{isContinuousX:h,xScaleType:p,yScaleType:u}=this.getScaleInformation({xScale:l,yScale:c}),d=[];n&&this.processedData&&d.push(diff(this.id,this.processedData)),n&&d.push(animationValidation());const{processedData:g}=await this.requestDataModel(e,this.data,{props:[keyProperty(t,p,{id:"xValue"}),valueProperty(i,u,{id:"minValue"}),valueProperty(o,u,{id:"q1Value"}),valueProperty(s,u,{id:"medianValue"}),valueProperty(a,u,{id:"q3Value"}),valueProperty(r,u,{id:"maxValue"}),...h?[SMALLEST_KEY_INTERVAL]:[],...d]});this.smallestDataInterval=g.reduced?.smallestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];if(e!==this.getBarDirection()){const{index:s,def:a}=i.resolveProcessedDataDefById(this,"xValue"),r=t.domain.keys[s];return a.type==="key"&&a.valueType==="category"?r:this.padBandExtent(r)}const o=this.domainForClippedRange(e,["minValue","maxValue"],"xValue");return fixNumericExtent(o)}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection7.Y,["maxValue","minValue"],"xValue",t)}createNodeData(){const{visible:e,dataModel:t,processedData:i}=this,o=this.getCategoryAxis(),s=this.getValueAxis();if(!(t&&i&&o&&s))return;const{xKey:a}=this.properties,r=[],n=t.resolveKeysById(this,"xValue",i),l=t.resolveColumnById(this,"minValue",i),c=t.resolveColumnById(this,"q1Value",i),h=t.resolveColumnById(this,"medianValue",i),p=t.resolveColumnById(this,"q3Value",i),u=t.resolveColumnById(this,"maxValue",i),{barWidth:d,groupIndex:g}=this.updateGroupScale(o),y=ContinuousScale2.is(o.scale)?d*-.5:0,{groupScale:m}=this,f=this.isVertical(),b=calculateSegments(this.properties.segmentation,o,s,this.chart.seriesRect,this.ctx.scene),v={itemId:a,nodeData:r,labelData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible,styles:getItemStyles(this.getItemStyle.bind(this)),segments:b};return e&&(i.dataSources.get(this.id)??[]).forEach((D,_)=>{const k=n[_];if(k==null)return;const x=l[_],M=c[_],A=h[_],I=p[_],L=u[_];if([x,M,A,I,L].some(O=>typeof O!="number")||x>M||M>A||A>I||I>L)return;const R={xValue:o.scale.convert(k),minValue:s.scale.convert(x),q1Value:s.scale.convert(M),medianValue:s.scale.convert(A),q3Value:s.scale.convert(I),maxValue:s.scale.convert(L)},C=d;R.xValue+=m.convert(String(g))+y+C/2;const N=Math.abs(R.q3Value-R.q1Value),w=R.xValue,P=Math.min(R.q3Value,R.q1Value)+N/2,T={x:f?w:P,y:f?P:w};let E;f?E={x:T.x-C/2,y:R.minValue,width:C,height:R.maxValue-R.minValue}:E={x:R.minValue,y:T.y-C/2,width:R.maxValue-R.minValue,height:C},r.push({series:this,itemId:k,datum:D,datumIndex:_,xKey:a,bandwidth:C,scaledValues:R,midPoint:T,focusRect:E})}),v}legendItemSymbol(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r}=this.properties;return{marker:{fill:import_ag_charts_community21._ModuleSupport.deepClone(e),fillOpacity:t,stroke:i,strokeOpacity:s,strokeWidth:o,lineDash:a,lineDashOffset:r}}}getLegendData(e){const{id:t,ctx:{legendManager:i},visible:o}=this,{xKey:s,yName:a,showInLegend:r,legendItemName:n}=this.properties;return!s||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:o&&i.getItemEnabled({seriesId:t,itemId:t}),label:{text:n??a??t},symbol:this.legendItemSymbol(),legendItemName:n,hideInLegend:!r}]}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:s}=this,{xKey:a,xName:r,yName:n,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:u,q3Name:d,minKey:g,minName:y,maxKey:m,maxName:f,legendItemName:b,tooltip:v}=s,S=this.getCategoryAxis(),D=this.getValueAxis();if(!i||!o||!S||!D)return;const _=o.dataSources.get(this.id)?.[e],k=i.resolveKeysById(this,"xValue",o)[e],x=i.resolveColumnById(this,"minValue",o)[e],M=i.resolveColumnById(this,"q1Value",o)[e],A=i.resolveColumnById(this,"medianValue",o)[e],I=i.resolveColumnById(this,"q3Value",o)[e],L=i.resolveColumnById(this,"maxValue",o)[e];if(k==null)return;const R=this.getItemStyle(e,!1),C=[{label:y,fallbackLabel:g,value:this.getAxisValueText(D,"tooltip",x,_,g,b)},{label:p,fallbackLabel:h,value:this.getAxisValueText(D,"tooltip",M,_,h,b)},{label:c,fallbackLabel:l,value:this.getAxisValueText(D,"tooltip",A,_,l,b)},{label:d,fallbackLabel:u,value:this.getAxisValueText(D,"tooltip",I,_,u,b)},{label:f,fallbackLabel:m,value:this.getAxisValueText(D,"tooltip",L,_,m,b)}];return this.formatTooltipWithContext(v,{heading:this.getAxisValueText(S,"tooltip",k,_,a,b),title:b??n,symbol:this.legendItemSymbol(),data:C},{seriesId:t,datum:_,title:n,xKey:a,xName:r,yName:n,medianKey:l,medianName:c,q1Key:h,q1Name:p,q3Key:u,q3Name:d,minKey:g,minName:y,maxKey:m,maxName:f,...R})}animateEmptyUpdateReady({datumSelection:e}){const t=this.isVertical(),{from:i,to:o}=prepareBoxPlotFromTo(t);motion.resetMotion([e],resetBoxPlotSelectionsScalingCenterFn(t)),motion.staticFromToMotion(this.id,"datums",this.ctx.animationManager,[e],i,o,{phase:"initial"})}isLabelEnabled(){return!1}updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}getItemStyle(e,t,i){const{id:o,properties:s}=this,{xKey:a,minKey:r,q1Key:n,medianKey:l,q3Key:c,maxKey:h,itemStyler:p}=s,u=this.getHighlightStyle(t,e,i);let d=mergeDefaults2(u,s.getStyle());if(p!=null&&e!=null){const v=this.cachedDatumCallback(createDatumId(e,t?"highlight":"node"),()=>{const S=this.processedData?.dataSources.get(o)?.[e],D=this.ctx.highlightManager?.getActiveHighlight(),_=this.getHighlightStateString(D,t,e);return this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`],this.callWithContext(p,{seriesId:o,datum:S,xKey:a,minKey:r,q1Key:n,medianKey:l,q3Key:c,maxKey:h,highlighted:t,highlightState:_,...d}))});v&&(d=mergeDefaults2(v,d))}const{stroke:g,strokeWidth:y,strokeOpacity:m,lineDash:f,lineDashOffset:b}=d;return d.whisker=mergeDefaults2(d.whisker,{stroke:g,strokeWidth:y,strokeOpacity:m,lineDash:f,lineDashOffset:b}),d}updateDatumStyles({datumSelection:e,isHighlight:t}){e.each((i,o)=>{o.style=this.getItemStyle(o.datumIndex,t)})}updateDatumNodes({datumSelection:e,isHighlight:t}){const{contextNodeData:i}=this;if(!i)return;const o=this.isVertical(),s=this.ctx.highlightManager.getActiveHighlight(),a=this.getShapeFillBBox();e.each((r,n)=>{const l=n.style??i.styles[this.getHighlightState(s,t,n.datumIndex)];applyShapeFillBBox(r,l.fill,a),r.fill=l.fill,r.fillOpacity=l.fillOpacity,r.stroke=l.stroke,r.strokeWidth=l.strokeWidth,r.strokeOpacity=l.strokeOpacity,r.lineDash=l.lineDash,r.lineDashOffset=l.lineDashOffset,r.wickStroke=l.whisker.stroke,r.wickStrokeWidth=l.whisker.strokeWidth,r.wickStrokeOpacity=l.whisker.strokeOpacity,r.wickLineDash=l.whisker.lineDash,r.wickLineDashOffset=l.whisker.lineDashOffset,r.cornerRadius=l.cornerRadius,r.crisp=!0,r.horizontal=!o,r.center=n.scaledValues.xValue,r.thickness=n.bandwidth,r.min=n.scaledValues.minValue,r.q1=n.scaledValues.q1Value,r.median=n.scaledValues.medianValue,r.q3=n.scaledValues.q3Value,r.max=n.scaledValues.maxValue,r.capLengthRatio=l.cap.lengthRatio,r.strokeAlignment=(i.styles[HighlightState.None].strokeWidth??0)/2})}updateLabelNodes(){}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}nodeFactory(){return new BoxPlotNode}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds(this,this.contextNodeData?.nodeData[e].focusRect)}hasItemStylers(){return this.properties.itemStyler!=null}};BoxPlotSeries.className="BoxPlotSeries",BoxPlotSeries.type="box-plot";var import_ag_charts_community22=require("ag-charts-community"),import_ag_charts_core10=require("ag-charts-core"),{boxPlotSeriesThemeableOptionsDef,commonSeriesOptionsDefs}=import_ag_charts_community22._ModuleSupport,boxPlotSeriesOptionsDef={...commonSeriesOptionsDefs,...boxPlotSeriesThemeableOptionsDef,type:(0,import_ag_charts_core10.required)((0,import_ag_charts_core10.constant)("box-plot")),xKey:(0,import_ag_charts_core10.required)(import_ag_charts_core10.string),minKey:(0,import_ag_charts_core10.required)(import_ag_charts_core10.string),q1Key:(0,import_ag_charts_core10.required)(import_ag_charts_core10.string),medianKey:(0,import_ag_charts_core10.required)(import_ag_charts_core10.string),q3Key:(0,import_ag_charts_core10.required)(import_ag_charts_core10.string),maxKey:(0,import_ag_charts_core10.required)(import_ag_charts_core10.string),xName:import_ag_charts_core10.string,yName:import_ag_charts_core10.string,minName:import_ag_charts_core10.string,q1Name:import_ag_charts_core10.string,medianName:import_ag_charts_core10.string,q3Name:import_ag_charts_core10.string,maxName:import_ag_charts_core10.string,grouped:import_ag_charts_core10.boolean,legendItemName:import_ag_charts_core10.string,segmentation:import_ag_charts_core10.shapeSegmentation},import_ag_charts_community23=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE},multiSeriesHighlightStyle,FILL_GRADIENT_LINEAR_DEFAULTS,FILL_IMAGE_DEFAULTS,FILL_PATTERN_DEFAULTS,SAFE_FILL_OPERATION,SEGMENTATION_DEFAULTS}=import_ag_charts_community23._ModuleSupport,BOX_PLOT_SERIES_THEME={series:{direction:"vertical",fill:{$applySwitch:[{$path:"type"},{$if:[{$or:[{$isGradient:{$palette:"fill"}},{$isPattern:{$palette:"fill"}},{$isImage:{$palette:"fill"}}]},{$palette:"fill"},{$mix:[SAFE_FILL_OPERATION,{$ref:"chartBackgroundColor"},.7]}]},["gradient",FILL_GRADIENT_LINEAR_DEFAULTS],["image",FILL_IMAGE_DEFAULTS],["pattern",FILL_PATTERN_DEFAULTS]]},stroke:{$palette:"stroke"},strokeWidth:2,fillOpacity:1,strokeOpacity:1,lineDash:void 0,lineDashOffset:0,highlight:multiSeriesHighlightStyle(),segmentation:SEGMENTATION_DEFAULTS},axes:{[CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE.CATEGORY]:{groupPaddingInner:.2,crosshair:{enabled:!1,snap:!1}}}},BoxPlotModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"box-plot",moduleFactory:e=>new BoxPlotSeries(e),predictAxis:import_ag_charts_community24._ModuleSupport.predictCartesianTimeAxis,defaultAxes:import_ag_charts_community24._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:BOX_PLOT_SERIES_THEME,groupable:!0},BoxPlotSeriesModule={type:"series",name:"box-plot",chartType:"cartesian",enterprise:!0,options:boxPlotSeriesOptionsDef,create:e=>new BoxPlotSeries(e)},import_ag_charts_community34=require("ag-charts-community"),import_ag_charts_community31=require("ag-charts-community"),import_ag_charts_community26=require("ag-charts-community"),import_ag_charts_core11=require("ag-charts-core"),import_ag_charts_community25=require("ag-charts-community"),{AGGREGATION_SPAN,AGGREGATION_INDEX_X_MAX,AGGREGATION_INDEX_X_MIN,AGGREGATION_INDEX_Y_MAX,AGGREGATION_INDEX_Y_MIN,aggregationDomain,aggregationRangeFittingPoints,compactAggregationIndices,createAggregationIndices}=import_ag_charts_community25._ModuleSupport,AGGREGATION_THRESHOLD=1e3,OPEN=AGGREGATION_INDEX_X_MIN,HIGH=AGGREGATION_INDEX_Y_MAX,LOW=AGGREGATION_INDEX_Y_MIN,CLOSE=AGGREGATION_INDEX_X_MAX;function aggregateOhlcData(e,t,i,o,s,a){if(t.length<AGGREGATION_THRESHOLD)return;const[r,n]=aggregationDomain(e,s);let l=aggregationRangeFittingPoints(t,r,n,{smallestKeyInterval:a}),{indexData:c,valueData:h}=createAggregationIndices(t,i,o,r,n,l);const p=[{maxRange:l,indexData:c}];for(;l>64;)({indexData:c,valueData:h,maxRange:l}=compactAggregationIndices(c,h,l)),p.push({maxRange:l,indexData:c});return p.reverse(),p}var{fixNumericExtent:fixNumericExtent2,keyProperty:keyProperty2,createDatumId:createDatumId2,SeriesNodePickMode:SeriesNodePickMode2,ChartAxisDirection:ChartAxisDirection8,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL2,valueProperty:valueProperty2,diff:diff2,animationValidation:animationValidation2,computeBarFocusBounds:computeBarFocusBounds2,visibleRangeIndices,BandScale,processedDataIsAnimatable,mergeDefaults:mergeDefaults3,simpleMemorize2,getItemStylesPerItemId}=import_ag_charts_community26._ModuleSupport,memoizedAggregateOhlcData=simpleMemorize2(aggregateOhlcData),OhlcSeriesNodeEvent=class extends import_ag_charts_community26._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.openKey=o.properties.openKey,this.closeKey=o.properties.closeKey,this.highKey=o.properties.highKey,this.lowKey=o.properties.lowKey}},OhlcSeriesBase=class extends import_ag_charts_community26._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode2.AXIS_ALIGNED,SeriesNodePickMode2.EXACT_SHAPE_MATCH],propertyKeys:{x:["xKey"],y:["lowKey","highKey","openKey","closeKey"]},propertyNames:{x:["xName"],y:["lowName","highName","openName","closeName"]},categoryKey:"xValue",pathsPerSeries:[]}),this.NodeEvent=OhlcSeriesNodeEvent,this.dataAggregationFilters=void 0}async processData(e){if(!this.visible)return;const{xKey:t,openKey:i,closeKey:o,highKey:s,lowKey:a}=this.properties,r=!this.ctx.animationManager.isSkipped(),n=this.getCategoryAxis()?.scale,l=this.getValueAxis()?.scale,{isContinuousX:c,xScaleType:h,yScaleType:p}=this.getScaleInformation({xScale:n,yScale:l}),u=[];r&&(this.processedData&&u.push(diff2(this.id,this.processedData)),u.push(animationValidation2())),i&&u.push(valueProperty2(i,p,{id:"openValue",invalidValue:void 0,missingValue:void 0}));const{dataModel:d,processedData:g}=await this.requestDataModel(e,this.data,{props:[keyProperty2(t,h,{id:"xValue"}),valueProperty2(o,p,{id:"closeValue"}),valueProperty2(s,p,{id:"highValue"}),valueProperty2(a,p,{id:"lowValue"}),...c?[SMALLEST_KEY_INTERVAL2]:[],...u]});this.smallestDataInterval=g.reduced?.smallestKeyInterval,this.dataAggregationFilters=this.aggregateData(d,g),this.animationState.transition("updateData")}aggregateData(e,t){if(t.type!=="ungrouped"||processedDataIsAnimatable(t))return;const i=this.axes[ChartAxisDirection8.X];if(i==null)return;const o=e.resolveKeysById(this,"xValue",t),s=e.resolveColumnById(this,"highValue",t),a=e.resolveColumnById(this,"lowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return memoizedAggregateOhlcData(i.scale.type,o,s,a,n,t.reduced?.smallestKeyInterval)}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];if(e!==this.getBarDirection()){const{index:s,def:a}=i.resolveProcessedDataDefById(this,"xValue"),r=t.domain.keys[s];return a.type==="key"&&a.valueType==="category"?r:this.padBandExtent(r)}const o=this.domainForClippedRange(e,["highValue","lowValue"],"xValue");return fixNumericExtent2(o)}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection8.Y,["highValue","lowValue"],"xValue",t)}getZoomRangeFittingItems(e,t,i){return this.zoomFittingVisibleItems("xValue",["highValue","lowValue"],e,t,i)}getVisibleItems(e,t,i){return this.countVisibleItems("xValue",["highValue","lowValue"],e,t,i)}createNodeData(){const{visible:e,dataModel:t,processedData:i}=this,o=this.getCategoryAxis(),s=this.getValueAxis();if(!(t&&i&&o&&s))return;const a=[],{xKey:r,highKey:n,lowKey:l}=this.properties,c=i.dataSources.get(this.id)??[],h=t.resolveKeysById(this,"xValue",i),p=t.resolveColumnById(this,"openValue",i),u=t.resolveColumnById(this,"closeValue",i),d=t.resolveColumnById(this,"highValue",i),g=t.resolveColumnById(this,"lowValue",i),{groupScale:y}=this,{barWidth:m,groupIndex:f}=this.updateGroupScale(o),b=y.convert(String(f)),v=m>=1?m:y.rawBandwidth,S=BandScale.is(o.scale),D={itemId:r,nodeData:a,labelData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible,styles:getItemStylesPerItemId(this.getItemStyle.bind(this),"up","down")};if(!e)return D;const _=(C,N,w,P,T,E,O,F)=>{const G=c[C],B=S?O/2:0,V=o.scale.convert(N)+b+B,z=s.scale.convert(w),K=s.scale.convert(P),W=s.scale.convert(T),$=s.scale.convert(E),J=P>w,Z=J?"up":"down",q=Math.min(W,$),H=Math.max(W,$)-q,Y={x:V,y:q+H/2};a.push({series:this,itemId:Z,datum:G,datumIndex:C,xKey:r,xValue:N,openValue:w,closeValue:P,highValue:T,lowValue:E,midPoint:Y,aggregatedValue:P,isRising:J,centerX:V,width:O,y:q,height:H,yOpen:z,yClose:K,crisp:F})},{dataAggregationFilters:k}=this,x=o.scale,[M,A]=x.range,I=Math.abs(A-M),L=C=>x.convert(h[C])+b,R=k?.find(C=>C.maxRange>I);if(R==null){const C=i.invalidData?.get(this.id);let[N,w]=visibleRangeIndices(1,c.length,o.range,P=>{const T=S?0:-v/2,E=L(P)+T;return[E,E+v]});i.input.count<1e3&&(N=0,w=i.input.count);for(let P=N;P<w;P+=1){if(C?.[P]===!0)continue;const T=h[P];if(T==null)continue;const E=p[P],O=u[P],F=d[P],G=g[P],B=G!=null&&G<=E&&G<=O,V=F!=null&&F>=E&&F>=O;if(!B){import_ag_charts_core11.Logger.warnOnce(`invalid low value for key [${l}] in data element, low value cannot be higher than datum open or close values`);continue}if(!V){import_ag_charts_core11.Logger.warnOnce(`invalid high value for key [${n}] in data element, high value cannot be lower than datum open or close values.`);continue}_(P,T,E,O,F,G,v,!0)}}else{const{maxRange:C,indexData:N}=R,[w,P]=visibleRangeIndices(1,C,o.range,T=>{const E=T*AGGREGATION_SPAN,O=N[E+OPEN],F=N[E+CLOSE];if(O===-1)return;const G=S?0:-v/2;return[L(O)+G,L(F)+G+v]});for(let T=w;T<P;T+=1){const E=T*AGGREGATION_SPAN,O=N[E+OPEN],F=N[E+CLOSE],G=N[E+HIGH],B=N[E+LOW];if(O===-1)continue;const V=(O+F)/2|0,z=h[V];if(z==null)continue;const K=p[O],W=u[F],$=d[G],J=g[B],Z=Math.abs(L(F)-L(O))+v;_(V,z,K,W,$,J,Z,!1)}}return D}isVertical(){return!0}isLabelEnabled(){return!1}updateDatumSelection(e){const t=e.nodeData??[];return e.datumSelection.update(t)}updateLabelNodes(e){}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t)}getItemStyle(e,t,i,o="up"){const{id:s,properties:a,dataModel:r,processedData:n}=this,{itemStyler:l}=a,c=this.getHighlightStyle(t,e,i);let p=mergeDefaults3(c,a.getStyle(o));if(l&&r!=null&&n!=null&&e!=null){const u=n.dataSources.get(s)?.[e],d=r.resolveKeysById(this,"xValue",n)[e],{xKey:g,openKey:y,closeKey:m,highKey:f,lowKey:b}=a,v=this.ctx.highlightManager?.getActiveHighlight(),S=this.cachedDatumCallback(createDatumId2(createDatumId2(d),t?"highlight":"node"),()=>{const D=this.getHighlightStateString(v,t,e);return this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`,"item",o],this.callWithContext(l,{seriesId:s,datum:u,itemId:o,xKey:g,openKey:y,closeKey:m,highKey:f,lowKey:b,highlighted:t,highlightState:D,...p}))});S&&(p=mergeDefaults3(S,p))}return p}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:s}=this,{xKey:a,xName:r,yName:n,openKey:l,openName:c,highKey:h,highName:p,lowKey:u,lowName:d,closeKey:g,closeName:y,legendItemName:m,tooltip:f}=s,b=this.getCategoryAxis(),v=this.getValueAxis();if(!i||!o||!b||!v)return;const S=o.dataSources.get(this.id)?.[e],D=i.resolveKeysById(this,"xValue",o)[e],_=i.resolveColumnById(this,"openValue",o)[e],k=i.resolveColumnById(this,"highValue",o)[e],x=i.resolveColumnById(this,"lowValue",o)[e],M=i.resolveColumnById(this,"closeValue",o)[e];if(D==null)return;const A=M>=_?"up":"down",I=this.properties.item[A],L=this.getItemStyle(e,!1),R={fill:I.fill??I.stroke,fillOpacity:I.fillOpacity??I.strokeOpacity??1,stroke:I.stroke,strokeWidth:I.strokeWidth??1,strokeOpacity:I.strokeOpacity??1,lineDash:I.lineDash??[0],lineDashOffset:I.lineDashOffset??0};return this.formatTooltipWithContext(f,{heading:this.getAxisValueText(b,"tooltip",D,S,a,m),title:m,symbol:{marker:R},data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(v,"tooltip",_,S,l,m)},{label:p,fallbackLabel:h,value:this.getAxisValueText(v,"tooltip",k,S,h,m)},{label:d,fallbackLabel:u,value:this.getAxisValueText(v,"tooltip",x,S,u,m)},{label:y,fallbackLabel:g,value:this.getAxisValueText(v,"tooltip",M,S,g,m)}]},{seriesId:t,datum:S,title:n,itemId:A,xKey:a,xName:r,yName:n,openKey:l,openName:c,highKey:h,highName:p,lowKey:u,lowName:d,closeKey:g,closeName:y,...L})}computeFocusBounds(e){const t=this.getNodeData()?.at(e.datumIndex);if(t==null)return;const{centerX:i,y:o,width:s,height:a}=t,r={x:i-s/2,y:o,width:s,height:a};return computeBarFocusBounds2(this,r)}},import_ag_charts_community28=require("ag-charts-community"),import_ag_charts_community27=require("ag-charts-community"),{Path:Path6,SceneChangeDetection:SceneChangeDetection2,BBox:BBox3}=import_ag_charts_community27._ModuleSupport,OhlcBaseNode=class extends Path6{constructor(){super(...arguments),this.centerX=0,this.y=0,this.width=0,this.height=0,this.yOpen=0,this.yClose=0,this.crisp=!1}computeBBox(){const{centerX:e,y:t,width:i,height:o}=this;return new BBox3(e-i/2,t,i,o)}isPointInPath(e,t){return this.getBBox().containsPoint(e,t)}distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}get midPoint(){return{x:this.centerX,y:this.y+this.height/2}}alignedCoordinates(){const{y:e,width:t,height:i,crisp:o}=this;let{centerX:s,yOpen:a,yClose:r}=this,n=s-t/2,l=s+t/2,c=e,h=e+i;if(o&&t>1){s=this.align(s),a<=r?(a=this.align(a),r=a+this.align(a,r-a)):(a=r+this.align(r,a-r),r=this.align(r));const p=this.align(t/2);n=s-p,l=s+p,c=this.align(e),h=c+this.align(c,i)}return{centerX:s,x0:n,x1:l,y0:c,y1:h,yOpen:a,yClose:r}}executeStroke(e,t){const{width:i,strokeWidth:o}=this;i<o&&(e.lineWidth=i),super.executeStroke(e,t)}};__decorateClass([SceneChangeDetection2()],OhlcBaseNode.prototype,"centerX",2),__decorateClass([SceneChangeDetection2()],OhlcBaseNode.prototype,"y",2),__decorateClass([SceneChangeDetection2()],OhlcBaseNode.prototype,"width",2),__decorateClass([SceneChangeDetection2()],OhlcBaseNode.prototype,"height",2),__decorateClass([SceneChangeDetection2()],OhlcBaseNode.prototype,"yOpen",2),__decorateClass([SceneChangeDetection2()],OhlcBaseNode.prototype,"yClose",2),__decorateClass([SceneChangeDetection2()],OhlcBaseNode.prototype,"crisp",2);var OhlcNode=class extends OhlcBaseNode{updatePath(){const{path:e}=this,{centerX:t,x0:i,x1:o,y0:s,y1:a,yOpen:r,yClose:n}=this.alignedCoordinates();e.clear(),e.moveTo(t,s),e.lineTo(t,a),Math.abs(o-i)>1&&(e.moveTo(i,r),e.lineTo(t,r),e.moveTo(t,n),e.lineTo(o,n))}},{SceneArrayChangeDetection:SceneArrayChangeDetection2,SceneChangeDetection:SceneChangeDetection3,ExtendedPath2D:ExtendedPath2D2,BBox:BBox4}=import_ag_charts_community28._ModuleSupport,CandlestickNode=class extends OhlcBaseNode{constructor(){super(...arguments),this.wickPath=new ExtendedPath2D2,this.wickStroke=void 0,this.wickStrokeWidth=void 0,this.wickStrokeOpacity=void 0}computeDefaultGradientFillBBox(){const{width:e,centerX:t,yOpen:i,yClose:o}=this,s=Math.min(i,o),r=Math.max(i,o)-s,n=t-e/2,l=t+e/2;return new BBox4(n,s,l-n,r)}updatePath(){const{path:e,stroke:t,strokeWidth:i,strokeOpacity:o,lineDash:s,lineDashOffset:a,wickStroke:r,wickStrokeWidth:n,wickStrokeOpacity:l,wickLineDash:c,wickLineDashOffset:h}=this,{centerX:p,x0:u,x1:d,y0:g,y1:y,yOpen:m,yClose:f}=this.alignedCoordinates();this.path.clear(),this.wickPath.clear();const v=r!=null&&r!==t||n!=null&&n!==i||l!=null&&l!==o||c!=null&&c!==s||h!=null&&h!==a?this.wickPath:e;if(Math.abs(d-u)<=3){v.moveTo(p,g),v.lineTo(p,y);return}const S=Math.min(m,f),D=Math.max(m,f),_=i/2;v.moveTo(p,g),v.lineTo(p,S+_),v.moveTo(p,y),v.lineTo(p,D-_);const k=D-S-2*_;if(k>0)e.rect(u+_,S+_,d-u-2*_,k);else{const x=(S+D)/2;e.moveTo(u,x),e.lineTo(d,x)}}drawPath(e){super.drawPath(e);const{wickPath:t}=this;if(t.isEmpty())return;const{stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,wickStroke:n=i,wickStrokeWidth:l=o,wickStrokeOpacity:c=s,wickLineDash:h=a,wickLineDashOffset:p=r}=this;l!==0&&(e.globalAlpha*=c,typeof n=="string"&&(e.strokeStyle=n),e.lineWidth=l,h!=null&&e.setLineDash([...h]),e.lineDashOffset=p,e.stroke(t.getPath2D()))}};__decorateClass([SceneChangeDetection3()],CandlestickNode.prototype,"wickStroke",2),__decorateClass([SceneChangeDetection3()],CandlestickNode.prototype,"wickStrokeWidth",2),__decorateClass([SceneChangeDetection3()],CandlestickNode.prototype,"wickStrokeOpacity",2),__decorateClass([SceneArrayChangeDetection2()],CandlestickNode.prototype,"wickLineDash",2),__decorateClass([SceneChangeDetection3()],CandlestickNode.prototype,"wickLineDashOffset",2);var import_ag_charts_community30=require("ag-charts-community"),import_ag_charts_community29=require("ag-charts-community"),{BaseProperties:BaseProperties3,Property:Property13,AbstractBarSeriesProperties:AbstractBarSeriesProperties2,makeSeriesTooltip:makeSeriesTooltip2}=import_ag_charts_community29._ModuleSupport,OhlcSeriesItem=class extends BaseProperties3{constructor(){super(...arguments),this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property13],OhlcSeriesItem.prototype,"stroke",2),__decorateClass([Property13],OhlcSeriesItem.prototype,"strokeWidth",2),__decorateClass([Property13],OhlcSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Property13],OhlcSeriesItem.prototype,"lineDash",2),__decorateClass([Property13],OhlcSeriesItem.prototype,"lineDashOffset",2);var OhlcSeriesItems=class extends BaseProperties3{constructor(){super(...arguments),this.up=new OhlcSeriesItem,this.down=new OhlcSeriesItem}};__decorateClass([Property13],OhlcSeriesItems.prototype,"up",2),__decorateClass([Property13],OhlcSeriesItems.prototype,"down",2);var OhlcSeriesBaseProperties=class extends AbstractBarSeriesProperties2{};__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"xKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"openKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"closeKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"highKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"lowKey",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"xName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"yName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"openName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"closeName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"highName",2),__decorateClass([Property13],OhlcSeriesBaseProperties.prototype,"lowName",2);var OhlcSeriesProperties=class extends OhlcSeriesBaseProperties{constructor(){super(...arguments),this.tooltip=makeSeriesTooltip2(),this.item=new OhlcSeriesItems}getStyle(e){const{strokeWidth:t,strokeOpacity:i,stroke:o,lineDash:s,lineDashOffset:a}=this.item[e];return{stroke:o,strokeWidth:t,strokeOpacity:i,lineDash:s,lineDashOffset:a,opacity:1}}};__decorateClass([Property13],OhlcSeriesProperties.prototype,"tooltip",2),__decorateClass([Property13],OhlcSeriesProperties.prototype,"item",2),__decorateClass([Property13],OhlcSeriesProperties.prototype,"itemStyler",2);var{BaseProperties:BaseProperties4,makeSeriesTooltip:makeSeriesTooltip3,Property:Property14}=import_ag_charts_community30._ModuleSupport,CandlestickSeriesWick=class extends BaseProperties4{};__decorateClass([Property14],CandlestickSeriesWick.prototype,"stroke",2),__decorateClass([Property14],CandlestickSeriesWick.prototype,"strokeWidth",2),__decorateClass([Property14],CandlestickSeriesWick.prototype,"strokeOpacity",2),__decorateClass([Property14],CandlestickSeriesWick.prototype,"lineDash",2),__decorateClass([Property14],CandlestickSeriesWick.prototype,"lineDashOffset",2);var CandlestickSeriesItem=class extends BaseProperties4{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#333",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.wick=new CandlestickSeriesWick}};__decorateClass([Property14],CandlestickSeriesItem.prototype,"fill",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"fillOpacity",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"stroke",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"strokeWidth",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"lineDash",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"cornerRadius",2),__decorateClass([Property14],CandlestickSeriesItem.prototype,"wick",2);var CandlestickSeriesItems=class extends BaseProperties4{constructor(){super(...arguments),this.up=new CandlestickSeriesItem,this.down=new CandlestickSeriesItem}};__decorateClass([Property14],CandlestickSeriesItems.prototype,"up",2),__decorateClass([Property14],CandlestickSeriesItems.prototype,"down",2);var CandlestickSeriesProperties=class extends OhlcSeriesBaseProperties{constructor(){super(),this.item=new CandlestickSeriesItems,this.tooltip=makeSeriesTooltip3(),this.highlightStyle.deprecated=!1}getStyle(e){const{fill:t,fillOpacity:i,strokeWidth:o,strokeOpacity:s,stroke:a,lineDash:r,lineDashOffset:n,cornerRadius:l,wick:c}=this.item[e];return{fill:t,fillOpacity:i,stroke:a,strokeWidth:o,strokeOpacity:s,lineDash:r,lineDashOffset:n,cornerRadius:l,opacity:1,wick:c}}};__decorateClass([Property14],CandlestickSeriesProperties.prototype,"item",2),__decorateClass([Property14],CandlestickSeriesProperties.prototype,"tooltip",2),__decorateClass([Property14],CandlestickSeriesProperties.prototype,"itemStyler",2);var{isGradientFill,isPatternFill,isImageFill,applyShapeStyle}=import_ag_charts_community31._ModuleSupport,CandlestickSeries=class extends OhlcSeriesBase{constructor(){super(...arguments),this.properties=new CandlestickSeriesProperties}nodeFactory(){const e=new CandlestickNode;return e.lineCap="butt",e}updateDatumStyles({datumSelection:e,isHighlight:t}){e.each((i,o)=>{o.style=this.getItemStyle(o.datumIndex,t,void 0,o.itemId)})}updateDatumNodes({datumSelection:e,isHighlight:t}){const{contextNodeData:i}=this;if(!i)return;const o=this.ctx.highlightManager.getActiveHighlight();e.each((s,a)=>{const{centerX:r,width:n,y:l,height:c,yOpen:h,yClose:p,crisp:u}=a,d=a.style??i.styles[a.itemId][this.getHighlightState(o,t,a.datumIndex)];s.centerX=r,s.width=n,s.y=l,s.height=c,s.yOpen=h,s.yClose=p,s.crisp=u,applyShapeStyle(s,d,this.getShapeFillBBox());const g=d?.wick;s.wickStroke=g?.stroke,s.wickStrokeWidth=g?.strokeWidth,s.wickStrokeOpacity=g?.strokeOpacity,s.wickLineDash=g?.lineDash,s.wickLineDashOffset=g?.lineDashOffset})}legendItemSymbol(){const{up:e,down:t}=this.properties.item,i=isGradientFill(e.fill)?e.fill.colorStops.map(r=>typeof r=="string"?r:{color:r.color,stop:r.stop!=null?r.stop*.5:void 0}):[{color:isPatternFill(e.fill)||isImageFill(e.fill)?e.stroke:e.fill,stop:0},{color:isPatternFill(e.fill)||isImageFill(e.fill)?e.stroke:e.fill,stop:.5}],o=isGradientFill(t.fill)?t.fill.colorStops.map(r=>typeof r=="string"?r:{color:r.color,stop:r.stop!=null?r.stop*.5:void 0}):[{color:isPatternFill(t.fill)||isImageFill(t.fill)?t.stroke:t.fill,stop:.5}],s={type:"gradient",gradient:"linear",rotation:90,colorStops:[...i,...o],reverse:!1},a={type:"gradient",gradient:"linear",rotation:90,colorStops:[{color:e.stroke,stop:0},{color:e.stroke,stop:.5},{color:t.stroke,stop:.5}],reverse:!1};return{marker:{fill:s,fillOpacity:e.fillOpacity,stroke:a,strokeWidth:e.strokeWidth??1,strokeOpacity:e.strokeOpacity??1,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset}}}getLegendData(e){const{id:t,data:i,visible:o,ctx:{legendManager:s}}=this,{xKey:a,yName:r,showInLegend:n,legendItemName:l}=this.properties;return!i?.length||!a||e!=="category"?[]:[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:o&&s.getItemEnabled({seriesId:t,itemId:t}),label:{text:l??r??t},symbol:this.legendItemSymbol(),legendItemName:l,hideInLegend:!n}]}hasItemStylers(){return this.properties.itemStyler!=null}};CandlestickSeries.className="CandleStickSeries",CandlestickSeries.type="candlestick";var import_ag_charts_community32=require("ag-charts-community"),import_ag_charts_core12=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs2,candlestickSeriesThemeableOptionsDef}=import_ag_charts_community32._ModuleSupport,candlestickSeriesOptionsDef={...commonSeriesOptionsDefs2,...candlestickSeriesThemeableOptionsDef,type:(0,import_ag_charts_core12.required)((0,import_ag_charts_core12.constant)("candlestick")),xKey:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),openKey:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),highKey:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),lowKey:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),closeKey:(0,import_ag_charts_core12.required)(import_ag_charts_core12.string),xName:import_ag_charts_core12.string,yName:import_ag_charts_core12.string,openName:import_ag_charts_core12.string,highName:import_ag_charts_core12.string,lowName:import_ag_charts_core12.string,closeName:import_ag_charts_core12.string};candlestickSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core12.undocumented)(import_ag_charts_core12.boolean),candlestickSeriesOptionsDef.focusPriority=(0,import_ag_charts_core12.undocumented)(import_ag_charts_core12.number);var import_ag_charts_community33=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE2},multiSeriesHighlightStyle:multiSeriesHighlightStyle2,FILL_GRADIENT_LINEAR_SHADED_DEFAULTS,FILL_IMAGE_DEFAULTS:FILL_IMAGE_DEFAULTS2,FILL_PATTERN_DEFAULTS:FILL_PATTERN_DEFAULTS2}=import_ag_charts_community33._ModuleSupport;function itemTheme(e){return{fill:{$applySwitch:[{$path:"type"},{$if:[{$eq:[{$palette:"type"},"user-indexed"]},e==="up"?"transparent":{$palette:"fill"},{$palette:`${e}.fill`}]},["gradient",FILL_GRADIENT_LINEAR_SHADED_DEFAULTS(e)],["image",FILL_IMAGE_DEFAULTS2],["pattern",FILL_PATTERN_DEFAULTS2]]},stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:`${e}.stroke`}]}}}var CANDLESTICK_SERIES_THEME={series:{item:{up:itemTheme("up"),down:itemTheme("down")},highlightStyle:{item:{strokeWidth:3}},tooltip:{range:{$path:["/tooltip/range","nearest"]}},highlight:multiSeriesHighlightStyle2()},animation:{enabled:!1},axes:{[CARTESIAN_AXIS_TYPE2.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE2.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE3,CARTESIAN_POSITION}=import_ag_charts_community34._ModuleSupport.ThemeConstants,CandlestickModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"candlestick",moduleFactory:e=>new CandlestickSeries(e),defaultAxes:[{type:CARTESIAN_AXIS_TYPE3.NUMBER,position:CARTESIAN_POSITION.LEFT},{type:CARTESIAN_AXIS_TYPE3.ORDINAL_TIME,position:CARTESIAN_POSITION.BOTTOM}],themeTemplate:CANDLESTICK_SERIES_THEME,groupable:!1},CandlestickSeriesModule={type:"series",name:"candlestick",chartType:"cartesian",enterprise:!0,options:candlestickSeriesOptionsDef,create:e=>new CandlestickSeries(e)},import_ag_charts_community40=require("ag-charts-community"),import_ag_charts_community37=require("ag-charts-community"),import_ag_charts_core14=require("ag-charts-core"),import_ag_charts_core13=require("ag-charts-core");function generateLabelSecondaryLabelFontSizeCandidates(e,t){const{fontSize:i,minimumFontSize:o=i}=e,{fontSize:s,minimumFontSize:a=s}=t,r=i-o,n=s-a;let l=e.fontSize,c=t.fontSize;const h=[{labelFontSize:i,secondaryLabelFontSize:s}];for(;l>o||c>a;){const p=r>0?(l-o)/r:-1,u=n>0?(c-a)/n:-1;p>u?l--:c--,h.push({labelFontSize:l,secondaryLabelFontSize:c})}return h.reverse(),h}function formatStackedLabels(e,t,i,o,{padding:s},a){const{spacing:r=0}=t,n=2*s,l=2*s+r,c=(t.minimumFontSize??t.fontSize)+(o.minimumFontSize??o.fontSize);if(c>a(c+l,!1).height-l)return;const h=generateLabelSecondaryLabelFontSizeCandidates(t,o),p={fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontWeight:t.fontWeight},u={fontFamily:o.fontFamily,fontStyle:o.fontStyle,fontWeight:o.fontWeight};let d,g;return(0,import_ag_charts_core13.findMaxValue)(0,h.length-1,y=>{const{labelFontSize:m,secondaryLabelFontSize:f}=h[y],b=y===0,v={...p,fontSize:m},S={...u,fontSize:f},D=(0,import_ag_charts_core13.cachedTextMeasurer)(v).lineHeight(),_=(0,import_ag_charts_core13.cachedTextMeasurer)(S).lineHeight(),k=a(D+_+l,b),x=k.width-n,M=k.height-l;if(D+_>M||((d==null||d.fontSize!==m)&&(d=wrapLabel(t,e,x,M,v,t.wrapping,b?t.overflowStrategy:"hide")),d==null||d.width>x||d.height>M)||((g==null||g.fontSize!==f)&&(g=wrapLabel(o,i,x,M,S,o.wrapping,b?o.overflowStrategy:"hide")),g==null))return;const A=d.height+g.height;if(!(g.width>x||A>M))return{width:Math.max(d.width,g.width),height:A+r,meta:k.meta,label:d,secondaryLabel:g}})}function formatSingleLabel(e,t,{padding:i},o){const s=2*i,a=Math.min(t.minimumFontSize??t.fontSize,t.fontSize),r={fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontWeight:t.fontWeight};return(0,import_ag_charts_core13.findMaxValue)(a,t.fontSize,n=>{const l={...r,fontSize:n},c=(0,import_ag_charts_core13.cachedTextMeasurer)(l),h=n===a,p=t.lineHeight??c.lineHeight(),u=o(p+s,h),d=u.width-s,g=u.height-s;if(p>g||d<0)return;const y=(0,import_ag_charts_core13.wrapLines)(e,{maxWidth:d,maxHeight:g,font:l,textWrap:t.wrapping,overflow:(h?t.overflowStrategy:null)??"hide"});if(!y.length)return;const{width:m,height:f}=c.measureLines(y),b=y.join(`
`);return[{width:m,height:f,text:b,fontSize:n,lineHeight:p},u.meta]})}function hasInvalidFontSize(e){return e?.minimumFontSize!=null&&e?.fontSize!=null&&e?.minimumFontSize>e?.fontSize}function formatLabels(e,t,i,o,s,a){const r=t.enabled?e:void 0,n=o.enabled?i:void 0;(hasInvalidFontSize(t)||hasInvalidFontSize(o))&&import_ag_charts_core13.Logger.warnOnce("minimumFontSize should be set to a value less than or equal to the font size");let l;r!=null&&n!=null&&(l=formatStackedLabels(r,t,n,o,s,a));let c;if(l==null&&r!=null&&(c=formatSingleLabel(r,t,s,a)),c!=null){const[p,u]=c;l={width:p.width,height:p.height,meta:u,label:p,secondaryLabel:void 0}}let h;if(l==null&&r==null&&n!=null&&(h=formatSingleLabel(n,o,s,a)),h!=null){const[p,u]=h;l={width:p.width,height:p.height,meta:u,label:void 0,secondaryLabel:p}}return l}function wrapLabel(e,t,i,o,s,a,r){const n=(0,import_ag_charts_core13.wrapLines)(t,{maxWidth:i,maxHeight:o,font:s,textWrap:a,overflow:r});if(!n.length)return;const l=(0,import_ag_charts_core13.cachedTextMeasurer)(s),c=e.lineHeight??l.lineHeight(),{width:h}=l.measureLines(n);return{width:h,lineHeight:c,text:n.join(`
`),height:n.length*c,fontSize:s.fontSize}}var import_ag_charts_community36=require("ag-charts-community"),import_ag_charts_community35=require("ag-charts-community"),{Property:Property15}=import_ag_charts_community35._ModuleSupport,BaseAutoSizedLabel=class extends import_ag_charts_community35._ModuleSupport.Label{constructor(){super(...arguments),this.wrapping="on-space",this.overflowStrategy="ellipsis"}};__decorateClass([Property15],BaseAutoSizedLabel.prototype,"wrapping",2),__decorateClass([Property15],BaseAutoSizedLabel.prototype,"overflowStrategy",2),__decorateClass([Property15],BaseAutoSizedLabel.prototype,"lineHeight",2),__decorateClass([Property15],BaseAutoSizedLabel.prototype,"minimumFontSize",2);var AutoSizedLabel=class extends BaseAutoSizedLabel{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property15],AutoSizedLabel.prototype,"spacing",2);var AutoSizedSecondaryLabel=class extends BaseAutoSizedLabel{},{CartesianSeriesProperties,makeSeriesTooltip:makeSeriesTooltip4,Property:Property16}=import_ag_charts_community36._ModuleSupport,HeatmapSeriesProperties=class extends CartesianSeriesProperties{constructor(){super(...arguments),this.colorRange=["black","black"],this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.textAlign="center",this.verticalAlign="middle",this.itemPadding=0,this.label=new AutoSizedLabel,this.tooltip=makeSeriesTooltip4()}};__decorateClass([Property16],HeatmapSeriesProperties.prototype,"title",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"xKey",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"yKey",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"colorKey",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"xName",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"yName",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"colorName",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"colorRange",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"stroke",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"textAlign",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"verticalAlign",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"itemPadding",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"label",2),__decorateClass([Property16],HeatmapSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode3,computeBarFocusBounds:computeBarFocusBounds3,getMissCount,valueProperty:valueProperty3,ChartAxisDirection:ChartAxisDirection9,DEFAULT_CARTESIAN_DIRECTION_KEYS,DEFAULT_CARTESIAN_DIRECTION_NAMES,createDatumId:createDatumId3,ColorScale,Rect,PointerEvents,applyShapeStyle:applyShapeStyle2,mergeDefaults:mergeDefaults4,formatValue,addHitTestersToQuadtree,findQuadtreeMatch,updateLabelNode}=import_ag_charts_community37._ModuleSupport,HeatmapSeriesNodeEvent=class extends import_ag_charts_community37._ModuleSupport.CartesianSeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.colorKey=o.properties.colorKey}},textAlignFactors={left:-.5,center:0,right:-.5},verticalAlignFactors={top:-.5,middle:0,bottom:-.5},HeatmapSeries=class extends import_ag_charts_community37._ModuleSupport.CartesianSeries{constructor(e){super({moduleCtx:e,propertyKeys:{...DEFAULT_CARTESIAN_DIRECTION_KEYS,color:["colorKey"]},propertyNames:{...DEFAULT_CARTESIAN_DIRECTION_NAMES,color:["colorName"]},categoryKey:void 0,pickModes:[SeriesNodePickMode3.NEAREST_NODE,SeriesNodePickMode3.EXACT_SHAPE_MATCH],pathsPerSeries:[]}),this.properties=new HeatmapSeriesProperties,this.NodeEvent=HeatmapSeriesNodeEvent,this.colorScale=new ColorScale}async processData(e){const t=this.axes[ChartAxisDirection9.X],i=this.axes[ChartAxisDirection9.Y];if(!t||!i||!this.data?.length)return;const{xKey:o,yKey:s,colorRange:a,colorKey:r}=this.properties,n=this.axes[ChartAxisDirection9.X]?.scale,l=this.axes[ChartAxisDirection9.Y]?.scale,{xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:n,yScale:l}),p=this.colorScale.type,{dataModel:u,processedData:d}=await this.requestDataModel(e,this.data,{props:[valueProperty3(o,c,{id:"xValue"}),valueProperty3(s,h,{id:"yValue"}),...r?[valueProperty3(r,p,{id:"colorValue",invalidValue:void 0})]:[]]});if(this.isColorScaleValid()){const g=u.resolveProcessedDataIndexById(this,"colorValue"),y=d.domain.values[g].filter(f=>f!=null),m=import_ag_charts_community37._ModuleSupport.extent(y);if(this.colorScale.domain=m??[],m?.length&&m[0]===m[1]){const f=Math.floor(a.length/2);this.colorScale.range=[a[f],a[f]]}else this.colorScale.range=a;this.colorScale.update()}}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=getMissCount(this,i.defs.values[o].missing),r=t.resolveProcessedDataIndexById(this,"colorValue"),n=i.domain.values[r].filter(c=>c!=null).length;return!(s===0||s===a||n===0)}xCoordinateRange(e,t){const i=this.axes[ChartAxisDirection9.X].scale,o=t*(i.bandwidth??0)/2,s=i.convert(e)+o,a=t*(i.bandwidth??10);return[s,s+a]}yCoordinateRange(e,t){const i=this.axes[ChartAxisDirection9.Y].scale,o=t*(i.bandwidth??0)/2,s=i.convert(e[0])+o,a=t*(i.bandwidth??10);return[s,s+a]}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;return!t||!i?[]:e===ChartAxisDirection9.X?t.getDomain(this,"xValue","value",i):t.getDomain(this,"yValue","value",i)}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{data:e,visible:t,axes:i,dataModel:o,processedData:s}=this,a=i[ChartAxisDirection9.X],r=i[ChartAxisDirection9.Y];if(!(e&&o&&s&&t&&a&&r))return;if(a.type!=="category"||r.type!=="category"){import_ag_charts_core14.Logger.warnOnce(`Heatmap series expected axes to have "category" type, but received "${a.type}" and "${r.type}" instead.`);return}const{xKey:n,xName:l,yKey:c,yName:h,colorKey:p,colorName:u,textAlign:d,verticalAlign:g,itemPadding:y,label:m}=this.properties,f=o.resolveColumnById(this,"xValue",s),b=o.resolveColumnById(this,"yValue",s),v=p?o.resolveColumnById(this,"colorValue",s):void 0,S=p?o.getDomain(this,"colorValue","value",s):[],D=a.scale,_=r.scale,k=(D.bandwidth??0)/2,x=(_.bandwidth??0)/2,M=[],A=[],I=D.bandwidth??10,L=_.bandwidth??10,R=(I-2*y)*textAlignFactors[d],C=(L-2*y)*verticalAlignFactors[g],N=()=>({width:I,height:L,meta:null});return(s.dataSources.get(this.id)??[]).forEach((P,T)=>{const E=f[T],O=b[T],F=D.convert(E)+k,G=_.convert(O)+x,B=v?.[T],V=m.enabled&&B!=null?this.getLabelText(B,P,p,"color",S,m,{value:B,datum:P,colorKey:p,colorName:u,xKey:n,yKey:c,xName:l,yName:h}):void 0,z=formatLabels(V,this.properties.label,void 0,this.properties.label,{padding:y},N),K={x:F,y:G,size:0},W=this.getItemStyle({datumIndex:T,datum:P,colorValue:B},!1);if(M.push({series:this,itemId:c,datumIndex:T,yKey:c,xKey:n,xValue:E,yValue:O,colorValue:B,datum:P,point:K,width:I,height:L,midPoint:{x:F,y:G},missing:v!=null&&B==null,style:W}),z?.label!=null){const{text:$,fontSize:J,lineHeight:Z,height:q}=z.label,{fontStyle:H,fontFamily:Y,fontWeight:ee,color:j}=this.properties.label,X=K.x+R*(I-2*y),te=K.y+C*(L-2*y)-(z.height-q)*.5;A.push({series:this,itemId:c,datum:P,datumIndex:T,text:$,fontSize:J,lineHeight:Z,fontStyle:H,fontFamily:Y,fontWeight:ee,color:j,textAlign:d,textBaseline:g,x:X,y:te,style:W})}}),{itemId:this.properties.yKey??this.id,nodeData:M,labelData:A,scales:this.calculateScaling(),visible:this.visible}}nodeFactory(){return new Rect}update(e){return this.ctx.animationManager.skipCurrentBatch(),super.update(e)}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,o=t??[];return i.update(o)}getItemStyle({datumIndex:e,datum:t,colorValue:i},o){const{id:s,properties:a}=this,{xKey:r,yKey:n,itemStyler:l,stroke:c,strokeWidth:h,strokeOpacity:p}=a,u=this.getHighlightStyle(o,e),d=mergeDefaults4(u,{fill:this.isColorScaleValid()&&i!=null?this.colorScale.convert(i):"transparent",fillOpacity:1,stroke:c,strokeWidth:h,strokeOpacity:p,opacity:1});let g;return l!=null&&e!=null&&(g=this.cachedDatumCallback(createDatumId3(e,o?"highlight":"node"),()=>{const y=this.ctx.highlightManager?.getActiveHighlight(),m=this.getHighlightStateString(y,o,e);return this.callWithContext(l,{seriesId:s,datum:t,xKey:r,yKey:n,highlighted:o,highlightState:m,...d})})),g?mergeDefaults4(g,d):d}updateDatumStyles({datumSelection:e,isHighlight:t}){e.each((i,o)=>{o.style=this.getItemStyle(o,t)})}updateDatumNodes({datumSelection:e}){const t=this.axes[ChartAxisDirection9.X],[i,o]=t?.visibleRange??[],a=!(i!==0||o!==1);e.each((r,n)=>{const{point:l,width:c,height:h,style:p}=n;applyShapeStyle2(r,p),r.crisp=a,r.x=Math.floor(l.x-c/2),r.y=Math.floor(l.y-h/2),r.width=Math.ceil(c),r.height=Math.ceil(h)})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e,{enabled:o}=this.properties.label,s=o?t:[];return i.update(s)}updateLabelNodes(e){const t=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((i,o)=>{i.pointerEvents=PointerEvents.None,i.text=o.text,i.fillOpacity=this.getHighlightStyle(!1,o.datumIndex)?.opacity??1,updateLabelNode(this,i,this.properties,this.properties.label,o,!1,t)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,axes:s,properties:a,colorScale:r,ctx:n}=this,{formatManager:l}=n,{xKey:c,xName:h,yKey:p,yName:u,colorKey:d,colorName:g,colorRange:y,title:m,legendItemName:f,tooltip:b}=a,v=s[ChartAxisDirection9.X],S=s[ChartAxisDirection9.Y];if(!i||!o||!v||!S)return;const D=o.dataSources.get(this.id)?.[e],_=i.resolveColumnById(this,"xValue",o)[e],k=i.resolveColumnById(this,"yValue",o)[e],x=d!=null&&this.isColorScaleValid()?i.resolveColumnById(this,"colorValue",o)[e]:void 0;if(_==null)return;const M=[];let A;if(x==null)A=y[0];else{A=r.convert(x);const R=i.getDomain(this,"colorValue","value",o),C=l.format(this.callWithContext.bind(this),{type:"number",value:x,datum:D,seriesId:t,legendItemName:f,key:d,source:"tooltip",property:"color",domain:R,boundSeries:this.getFormatterContext("color"),fractionDigits:void 0});M.push({label:g,fallbackLabel:d,value:C??formatValue(x)})}M.push({label:h,fallbackLabel:c,value:this.getAxisValueText(v,"tooltip",_,D,c,f)},{label:u,fallbackLabel:p,value:this.getAxisValueText(S,"tooltip",k,D,p,f)});const I=this.getItemStyle({datumIndex:e,datum:D,colorValue:x},!1);I.fill!=null&&(A=I.fill);const L=A!=null?{marker:{shape:"square",fill:A,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}}:void 0;return this.formatTooltipWithContext(b,{title:m??f,symbol:L,data:M},{seriesId:t,datum:D,title:m,xKey:c,xName:h,yKey:p,yName:u,colorKey:d,colorName:g,...I})}getLegendData(e){return e!=="gradient"||!this.isColorScaleValid()||!this.dataModel?[]:[{legendType:"gradient",enabled:this.visible,seriesId:this.id,series:this.getFormatterContext("color"),colorDomain:this.colorScale.domain,colorRange:this.colorScale.range}]}isLabelEnabled(){return this.properties.label.enabled&&!!this.properties.colorKey}getBandScalePadding(){return{inner:0,outer:0}}computeFocusBounds({datumIndex:e}){const t=this.contextNodeData?.nodeData[e];if(t===void 0)return;const{width:i,height:o,midPoint:s}=t,a={x:s.x-i/2,y:s.y-o/2,width:i,height:o};return computeBarFocusBounds3(this,a)}initQuadTree(e){addHitTestersToQuadtree(e,this.datumNodesIter())}pickNodesExactShape(e){const t=findQuadtreeMatch(this,e);return t!=null&&t.distance<=0?[t.datum]:[]}pickNodeClosestDatum(e){return findQuadtreeMatch(this,e)}hasItemStylers(){return this.properties.itemStyler!=null}};HeatmapSeries.className="HeatmapSeries",HeatmapSeries.type="heatmap";var import_ag_charts_community38=require("ag-charts-community"),import_ag_charts_core15=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs3,heatmapSeriesThemeableOptionsDef,without}=import_ag_charts_community38._ModuleSupport,heatmapSeriesOptionsDef={...without(heatmapSeriesThemeableOptionsDef,["showInLegend"]),...without(commonSeriesOptionsDefs3,["showInLegend"]),type:(0,import_ag_charts_core15.required)((0,import_ag_charts_core15.constant)("heatmap")),xKey:(0,import_ag_charts_core15.required)(import_ag_charts_core15.string),yKey:(0,import_ag_charts_core15.required)(import_ag_charts_core15.string),colorKey:import_ag_charts_core15.string,xName:import_ag_charts_core15.string,yName:import_ag_charts_core15.string,colorName:import_ag_charts_core15.string,colorRange:(0,import_ag_charts_core15.arrayOf)(import_ag_charts_core15.color)},import_ag_charts_community39=require("ag-charts-community"),HEATMAP_SERIES_THEME={series:{stroke:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$ref:"chartBackgroundColor"},{$path:["/0",{$palette:"stroke"},{$palette:"strokes"}]}]},strokeWidth:{$isUserOption:["./stroke",2,void 0]},colorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"divergingColors"},import_ag_charts_community39._ModuleSupport.SAFE_RANGE2_OPERATION]},label:{...import_ag_charts_community39._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,color:{$ref:"textColor"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},wrapping:"on-space",overflowStrategy:"ellipsis"},itemPadding:3,highlight:import_ag_charts_community39._ModuleSupport.singleSeriesHighlightStyle()},gradientLegend:{enabled:!0,...import_ag_charts_community39._ModuleSupport.LEGEND_CONTAINER_THEME}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE4,CARTESIAN_POSITION:CARTESIAN_POSITION2}}=import_ag_charts_community40._ModuleSupport,HeatmapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"heatmap",moduleFactory:e=>new HeatmapSeries(e),defaultAxes:[{type:CARTESIAN_AXIS_TYPE4.CATEGORY,position:CARTESIAN_POSITION2.LEFT},{type:CARTESIAN_AXIS_TYPE4.CATEGORY,position:CARTESIAN_POSITION2.BOTTOM}],themeTemplate:HEATMAP_SERIES_THEME},HeatmapSeriesModule={type:"series",name:"heatmap",chartType:"cartesian",enterprise:!0,options:heatmapSeriesOptionsDef,create:e=>new HeatmapSeries(e)},import_ag_charts_community43=require("ag-charts-community"),import_ag_charts_community41=require("ag-charts-community"),{applyShapeStyle:applyShapeStyle3}=import_ag_charts_community41._ModuleSupport,OhlcSeries=class extends OhlcSeriesBase{constructor(){super(...arguments),this.properties=new OhlcSeriesProperties}nodeFactory(){const e=new OhlcNode;return e.lineCap="square",e}updateDatumStyles({datumSelection:e,isHighlight:t}){e.each((i,o)=>{o.style=this.getItemStyle(o.datumIndex,t,void 0,o.itemId)})}updateDatumNodes({datumSelection:e,isHighlight:t}){const{contextNodeData:i}=this;if(!i)return;const o=this.ctx.highlightManager.getActiveHighlight();e.each((s,a)=>{const{centerX:r,width:n,y:l,height:c,yOpen:h,yClose:p,crisp:u}=a;s.centerX=r,s.width=n,s.y=l,s.height=c,s.yOpen=h,s.yClose=p,s.crisp=u;const d=a.style??i.styles[a.itemId][this.getHighlightState(o,t,a.datumIndex)];applyShapeStyle3(s,d)})}getLegendData(e){const{id:t,data:i,ctx:{legendManager:o},visible:s}=this,{xKey:a,yName:r,item:{up:n,down:l},showInLegend:c,legendItemName:h}=this.properties;if(!i?.length||!a||e!=="category")return[];const p={type:"gradient",gradient:"linear",colorSpace:"rgb",colorStops:[{color:n.stroke,stop:0},{color:n.stroke,stop:.5},{color:l.stroke,stop:.5}],rotation:90};return[{legendType:"category",id:t,itemId:t,seriesId:t,enabled:s&&o.getItemEnabled({seriesId:t,itemId:t}),label:{text:h??r??t},symbol:{marker:{fill:p,fillOpacity:n.strokeOpacity,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0}},legendItemName:h,hideInLegend:!c}]}hasItemStylers(){return this.properties.itemStyler!=null}};OhlcSeries.className="ohlc",OhlcSeries.type="ohlc";var import_ag_charts_community42=require("ag-charts-community"),import_ag_charts_core16=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs4,ohlcSeriesThemeableOptionsDef}=import_ag_charts_community42._ModuleSupport,ohlcSeriesOptionsDef={...commonSeriesOptionsDefs4,...ohlcSeriesThemeableOptionsDef,type:(0,import_ag_charts_core16.required)((0,import_ag_charts_core16.constant)("ohlc")),xKey:(0,import_ag_charts_core16.required)(import_ag_charts_core16.string),openKey:(0,import_ag_charts_core16.required)(import_ag_charts_core16.string),highKey:(0,import_ag_charts_core16.required)(import_ag_charts_core16.string),lowKey:(0,import_ag_charts_core16.required)(import_ag_charts_core16.string),closeKey:(0,import_ag_charts_core16.required)(import_ag_charts_core16.string),xName:import_ag_charts_core16.string,yName:import_ag_charts_core16.string,openName:import_ag_charts_core16.string,highName:import_ag_charts_core16.string,lowName:import_ag_charts_core16.string,closeName:import_ag_charts_core16.string};ohlcSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core16.undocumented)(import_ag_charts_core16.boolean),ohlcSeriesOptionsDef.focusPriority=(0,import_ag_charts_core16.undocumented)(import_ag_charts_core16.number);var{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE5,CARTESIAN_POSITION:CARTESIAN_POSITION3},multiSeriesHighlightStyle:multiSeriesHighlightStyle3}=import_ag_charts_community43._ModuleSupport,OhlcModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"ohlc",moduleFactory:e=>new OhlcSeries(e),defaultAxes:[{type:CARTESIAN_AXIS_TYPE5.NUMBER,position:CARTESIAN_POSITION3.LEFT},{type:CARTESIAN_AXIS_TYPE5.ORDINAL_TIME,position:CARTESIAN_POSITION3.BOTTOM}],themeTemplate:{animation:{enabled:!1},series:{item:{up:{stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:"up.stroke"}]}},down:{stroke:{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$palette:"stroke"},{$palette:"down.stroke"}]}}},tooltip:{range:{$path:["/tooltip/range","nearest"]}},highlight:multiSeriesHighlightStyle3(!1)},axes:{[CARTESIAN_AXIS_TYPE5.NUMBER]:{crosshair:{snap:!1}},[CARTESIAN_AXIS_TYPE5.ORDINAL_TIME]:{groupPaddingInner:0,crosshair:{enabled:!0}}}},groupable:!1},OhlcSeriesModule={type:"series",name:"ohlc",chartType:"cartesian",enterprise:!0,options:ohlcSeriesOptionsDef,create:e=>new OhlcSeries(e)},import_ag_charts_community50=require("ag-charts-community"),import_ag_charts_community47=require("ag-charts-community"),import_ag_charts_community44=require("ag-charts-community"),{AGGREGATION_INDEX_Y_MAX:AGGREGATION_INDEX_Y_MAX2,AGGREGATION_INDEX_Y_MIN:AGGREGATION_INDEX_Y_MIN2,aggregationDomain:aggregationDomain2,aggregationIndexForXRatio,aggregationRangeFittingPoints:aggregationRangeFittingPoints2,aggregationXRatioForXValue,compactAggregationIndices:compactAggregationIndices2,createAggregationIndices:createAggregationIndices2}=import_ag_charts_community44._ModuleSupport,AGGREGATION_THRESHOLD2=1e3;function aggregationContainsTopIndex(e,t,i,o,s,a){const r=e[a];if(r==null)return!1;const n=aggregationXRatioForXValue(r,t,i),l=aggregationIndexForXRatio(n,s);return a===o[l+AGGREGATION_INDEX_Y_MAX2]}function aggregationContainsBottomIndex(e,t,i,o,s,a){const r=e[a];if(r==null)return!1;const n=aggregationXRatioForXValue(r,t,i),l=aggregationIndexForXRatio(n,s);return a===o[l+AGGREGATION_INDEX_Y_MIN2]}function aggregateRangeAreaData(e,t,i,o,s){if(t.length<AGGREGATION_THRESHOLD2)return;const[a,r]=aggregationDomain2(e,s);let n=aggregationRangeFittingPoints2(t,a,r);const{indexData:l,valueData:c}=createAggregationIndices2(t,i,o,a,r,n);let h=[],p=[];for(let d=0;d<t.length;d+=1)aggregationContainsTopIndex(t,a,r,l,n,d)&&h.push(d),aggregationContainsBottomIndex(t,a,r,l,n,d)&&p.push(d);const u=[{maxRange:n,topIndices:h,bottomIndices:p}];for(;n>64;)({maxRange:n}=compactAggregationIndices2(l,c,n,{inPlace:!0})),h=h.filter(aggregationContainsTopIndex.bind(null,t,a,r,l,n)),p=p.filter(aggregationContainsBottomIndex.bind(null,t,a,r,l,n)),u.push({maxRange:n,topIndices:h,bottomIndices:p});return u.reverse(),u}var import_ag_charts_community45=require("ag-charts-community"),{CartesianSeriesProperties:CartesianSeriesProperties2,InterpolationProperties,SeriesMarker,makeSeriesTooltip:makeSeriesTooltip5,Property:Property17,DropShadow,Label}=import_ag_charts_community45._ModuleSupport,RangeAreaSeriesLabel=class extends Label{constructor(){super(...arguments),this.placement="outside",this.spacing=0}};__decorateClass([Property17],RangeAreaSeriesLabel.prototype,"placement",2),__decorateClass([Property17],RangeAreaSeriesLabel.prototype,"spacing",2);var RangeAreaProperties=class extends CartesianSeriesProperties2{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new InterpolationProperties,this.shadow=new DropShadow().set({enabled:!1}),this.marker=new SeriesMarker,this.label=new RangeAreaSeriesLabel,this.tooltip=makeSeriesTooltip5(),this.connectMissingData=!1}};__decorateClass([Property17],RangeAreaProperties.prototype,"xKey",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yLowKey",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yHighKey",2),__decorateClass([Property17],RangeAreaProperties.prototype,"xName",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yName",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yLowName",2),__decorateClass([Property17],RangeAreaProperties.prototype,"yHighName",2),__decorateClass([Property17],RangeAreaProperties.prototype,"fill",2),__decorateClass([Property17],RangeAreaProperties.prototype,"fillOpacity",2),__decorateClass([Property17],RangeAreaProperties.prototype,"stroke",2),__decorateClass([Property17],RangeAreaProperties.prototype,"strokeWidth",2),__decorateClass([Property17],RangeAreaProperties.prototype,"strokeOpacity",2),__decorateClass([Property17],RangeAreaProperties.prototype,"lineDash",2),__decorateClass([Property17],RangeAreaProperties.prototype,"lineDashOffset",2),__decorateClass([Property17],RangeAreaProperties.prototype,"interpolation",2),__decorateClass([Property17],RangeAreaProperties.prototype,"styler",2),__decorateClass([Property17],RangeAreaProperties.prototype,"shadow",2),__decorateClass([Property17],RangeAreaProperties.prototype,"marker",2),__decorateClass([Property17],RangeAreaProperties.prototype,"label",2),__decorateClass([Property17],RangeAreaProperties.prototype,"tooltip",2),__decorateClass([Property17],RangeAreaProperties.prototype,"connectMissingData",2);var import_ag_charts_community46=require("ag-charts-community"),{CollapseMode,isScaleValid,pairUpSpans,prepareAreaFillAnimationFns,plotInterpolatedLinePathStroke,prepareLinePathPropertyAnimation,areScalingEqual}=import_ag_charts_community46._ModuleSupport;function prepareRangeAreaPathStrokeAnimationFns(e,t,i,o){const s=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.removed),plotInterpolatedLinePathStroke(l,c,i.removed)},a=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.moved),plotInterpolatedLinePathStroke(l,c,i.moved)},r=(l,c)=>{plotInterpolatedLinePathStroke(l,c,t.added),plotInterpolatedLinePathStroke(l,c,i.added)},n=prepareLinePathPropertyAnimation(e,o);return{status:e,path:{addPhaseFn:r,updatePhaseFn:a,removePhaseFn:s},pathProperties:n}}function prepareRangeAreaPathAnimation(e,t,i){const o=e.scales.x?.type==="category",s=t.scales.x?.type==="category";if(o!==s||!isScaleValid(e.scales.x)||!isScaleValid(t.scales.x))return;let a="updated";t.visible&&!e.visible?a="removed":!t.visible&&e.visible&&(a="added");const r=pairUpSpans({scales:e.scales,data:e.fillData.spans},{scales:t.scales,data:t.fillData.spans},CollapseMode.Split);if(r==null)return;const n=pairUpSpans({scales:e.scales,data:e.fillData.phantomSpans},{scales:t.scales,data:t.fillData.phantomSpans},CollapseMode.Split);if(n==null)return;const l=pairUpSpans({scales:e.scales,data:e.highStrokeData.spans},{scales:t.scales,data:t.highStrokeData.spans},CollapseMode.Split);if(l==null)return;const c=pairUpSpans({scales:e.scales,data:e.lowStrokeData.spans},{scales:t.scales,data:t.lowStrokeData.spans},CollapseMode.Split);if(c==null)return;const h="fade",p=prepareAreaFillAnimationFns(a,r,n,h),u=prepareRangeAreaPathStrokeAnimationFns(a,l,c,h),d=(i?.changed??!0)||!areScalingEqual(e.scales.x,t.scales.x)||!areScalingEqual(e.scales.y,t.scales.y)||a!=="updated";return{status:a,fill:p,stroke:u,hasMotion:d}}var{valueProperty:valueProperty4,keyProperty:keyProperty3,ChartAxisDirection:ChartAxisDirection10,mergeDefaults:mergeDefaults5,updateLabelNode:updateLabelNode2,fixNumericExtent:fixNumericExtent3,buildResetPathFn,resetLabelFn,resetMarkerFn,resetMarkerPositionFn,pathSwipeInAnimation,resetMotion,markerSwipeScaleInAnimation,seriesLabelFadeInAnimation,animationValidation:animationValidation3,diff:diff3,updateClipPath,computeMarkerFocusBounds,plotAreaPathFill,plotLinePathStroke,interpolatePoints,pathFadeInAnimation,markerFadeInAnimation,fromToMotion,pathMotion,extent,applyShapeFillBBox:applyShapeFillBBox2,PointerEvents:PointerEvents2,Marker,BBox:BBox5,findMinMax:findMinMax2,applyShapeStyle:applyShapeStyle4,processedDataIsAnimatable:processedDataIsAnimatable2,simpleMemorize2:simpleMemorize22,markerEnabled,getMarkerStyles,calculateSegments:calculateSegments2}=import_ag_charts_community47._ModuleSupport,memoizedAggregateRangeAreaData=simpleMemorize22(aggregateRangeAreaData),RangeAreaSeriesNodeEvent=class extends import_ag_charts_community47._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},RangeAreaSeries=class extends import_ag_charts_community47._ModuleSupport.CartesianSeries{constructor(e){super({moduleCtx:e,pathsPerSeries:["fill","stroke"],pickModes:[import_ag_charts_community47._ModuleSupport.SeriesNodePickMode.AXIS_ALIGNED],propertyKeys:{[ChartAxisDirection10.X]:["xKey"],[ChartAxisDirection10.Y]:["yLowKey","yHighKey"]},propertyNames:{[ChartAxisDirection10.X]:["xName"],[ChartAxisDirection10.Y]:["yLowName","yHighName","yName"]},categoryKey:"xValue",animationResetFns:{path:buildResetPathFn({getVisible:()=>this.visible,getOpacity:()=>this.getOpacity()}),label:resetLabelFn,datum:(t,i)=>({...resetMarkerFn(t),...resetMarkerPositionFn(t,i)})},clipFocusBox:!1}),this.properties=new RangeAreaProperties,this.NodeEvent=RangeAreaSeriesNodeEvent,this.dataAggregationFilters=void 0}async processData(e){const{xKey:t,yLowKey:i,yHighKey:o}=this.properties,s=this.axes[ChartAxisDirection10.X]?.scale,a=this.axes[ChartAxisDirection10.Y]?.scale,{xScaleType:r,yScaleType:n}=this.getScaleInformation({xScale:s,yScale:a}),l=[],c=!this.ctx.animationManager.isSkipped();!this.ctx.animationManager.isSkipped()&&this.processedData&&l.push(diff3(this.id,this.processedData)),c&&l.push(animationValidation3());const{dataModel:h,processedData:p}=await this.requestDataModel(e,this.data,{props:[keyProperty3(t,r,{id:"xValue"}),valueProperty4(i,n,{id:"yLowValue"}),valueProperty4(o,n,{id:"yHighValue"}),...l]});this.dataAggregationFilters=this.aggregateData(h,p),this.animationState.transition("updateData")}aggregateData(e,t){if(t.type!=="ungrouped"||processedDataIsAnimatable2(t))return;const i=this.axes[ChartAxisDirection10.X];if(i==null)return;const o=e.resolveKeysById(this,"xValue",t),s=e.resolveColumnById(this,"yHighValue",t),a=e.resolveColumnById(this,"yLowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return memoizedAggregateRangeAreaData(i.scale.type,o,s,a,n)}xCoordinateRange(e){const t=this.axes[ChartAxisDirection10.X].scale.convert(e);return[t,t]}yCoordinateRange(e){const t=this.axes[ChartAxisDirection10.Y].scale.convert(e[0]);return[t,t]}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!(t&&i))return[];const{domain:{keys:[o]}}=t;if(e===ChartAxisDirection10.X){const s=i.resolveProcessedDataDefById(this,"xValue");return s?.def.type==="key"&&s.def.valueType==="category"?o:fixNumericExtent3(extent(o))}else{const s=this.domainForClippedRange(ChartAxisDirection10.Y,["yHighValue","yLowValue"],"xValue"),a=findMinMax2(s);return fixNumericExtent3(a)}}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection10.Y,["yHighValue","yLowValue"],"xValue",t)}createNodeData(){const{data:e,dataModel:t,processedData:i,axes:o}=this,s=o[ChartAxisDirection10.X],a=o[ChartAxisDirection10.Y];if(!(e&&s&&a&&t&&i&&this.chart?.seriesRect))return;const r=s.scale,n=a.scale,{xKey:l,yLowKey:c,yHighKey:h,connectMissingData:p,marker:u,interpolation:d,fill:g,fillOpacity:y,stroke:m,strokeWidth:f,strokeOpacity:b}=this.properties,v=i.dataSources.get(this.id)??[],S=(r.bandwidth??0)/2,D=t.resolveKeysById(this,"xValue",i),_=t.resolveColumnById(this,"yHighValue",i),k=t.resolveColumnById(this,"yLowValue",i),x=K=>r.convert(D[K])+S,M=[],A=[],I=[],L=(K,W,$)=>{const J=v[K],Z=D[K];if(Z==null)return;const q=I[I.length-1];if(Number.isFinite(W)&&Number.isFinite($)){const H=(ie,Q,oe)=>{A.push({index:K,series:this,itemId:ie,datum:J,datumIndex:K,midPoint:{x:ee,y:oe},yHighValue:W,yLowValue:$,xValue:Z,xKey:l,yLowKey:c,yHighKey:h,point:{x:ee,y:oe,size:te},enabled:!0});const se=this.createLabelData({datumIndex:K,point:{x:ee,y:oe},value:Q,yLowValue:$,yHighValue:W,itemId:ie,inverted:Y,datum:J,series:this});M.push(se)},Y=$>W,ee=x(K),j=n.convert(W),X=n.convert($),{size:te}=u;H("high",W,j),H("low",$,X);const U={high:{point:{x:ee,y:j},xDatum:Z,yDatum:W},low:{point:{x:ee,y:X},xDatum:Z,yDatum:$}};Array.isArray(q)?q.push(U):q!=null?(q.skip+=1,I.push([U])):I.push([U])}else p||(Array.isArray(q)||q==null?I.push({skip:0}):q.skip+=1)},{dataAggregationFilters:R}=this,[C,N]=r.range,w=Math.abs(N-C),P=R?.find(K=>K.maxRange>w),T=P?.topIndices,E=P?.bottomIndices;let[O,F]=this.visibleRangeIndices("xValue",s.range,T);O=Math.max(O-1,0),F=Math.min(F+1,T?.length??D.length),i.input.count<1e3&&(O=0,F=i.input.count);for(let K=O;K<F;K+=1){const W=T?.[K]??K,$=E?.[K]??K;L(W,_[W],k[$])}const G=I.flatMap(K=>{if(!Array.isArray(K))return[];const W=K.map($=>$.high);return interpolatePoints(W,d)}),B=I.flatMap(K=>{if(!Array.isArray(K))return[];const W=K.map($=>$.low);return interpolatePoints(W,d)}),V=calculateSegments2(this.properties.segmentation,s,a,this.chart.seriesRect,this.ctx.scene,!1);return{itemId:`${c}-${h}`,labelData:M,nodeData:A,fillData:{itemId:"high",spans:G,phantomSpans:B},highStrokeData:{itemId:"high",spans:G},lowStrokeData:{itemId:"low",spans:B},scales:this.calculateScaling(),visible:this.visible,styles:getMarkerStyles(this,u,{fill:g,fillOpacity:y,stroke:m,strokeWidth:f,strokeOpacity:b}),segments:V}}createLabelData({datumIndex:e,point:t,value:i,itemId:o,inverted:s,datum:a,series:r}){const{xKey:n,yLowKey:l,yHighKey:c,xName:h,yName:p,yLowName:u,yHighName:d,label:g}=this.properties,{placement:y}=g,m=g.spacing+(typeof g.padding=="number"?g.padding:0);let f=o;s&&(f=o==="low"?"high":"low");const b=y==="outside"&&f==="high"||y==="inside"&&f==="low"?-1:1,v=this.getSeriesDomain(ChartAxisDirection10.Y);return{x:t.x,y:t.y+m*b,series:r,itemId:o,datum:a,datumIndex:e,text:this.getLabelText(i,a,o==="high"?c:l,"y",v,g,{value:i,datum:a,itemId:o,xKey:n,yLowKey:l,yHighKey:c,xName:h,yLowName:u,yHighName:d,yName:p}),textAlign:"center",textBaseline:b===-1?"bottom":"top"}}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}updatePathNodes(e){const{visible:t}=e,[i,o]=e.paths,s=this.contextNodeData?.segments,{strokeWidth:a,stroke:r,strokeOpacity:n,lineDash:l,lineDashOffset:c,fill:h,fillOpacity:p,opacity:u}=mergeDefaults5(this.getHighlightStyle(),this.properties);o.setProperties({segments:s,fill:void 0,lineCap:"round",lineJoin:"round",pointerEvents:PointerEvents2.None,stroke:r,strokeWidth:a,strokeOpacity:n,lineDash:l,lineDashOffset:c,opacity:u,visible:t}),o.datum=s;const d=this.getShapeFillBBox();applyShapeFillBBox2(i,h,d),applyShapeStyle4(i,{stroke:void 0,fill:h,fillOpacity:p,lineDash:l,lineDashOffset:c,strokeOpacity:n,strokeWidth:a,opacity:u},d),i.setProperties({segments:s,pointerEvents:PointerEvents2.None,lineJoin:"round",fillShadow:this.properties.shadow,opacity:u,visible:t}),i.datum=s,updateClipPath(this,o),updateClipPath(this,i)}updatePaths(e){this.updateAreaPaths(e.paths,e.contextData)}updateAreaPaths(e,t){for(const i of e)i.visible=t.visible;if(t.visible)this.updateFillPath(e,t),this.updateStrokePath(e,t);else for(const i of e)i.path.clear(),i.markDirty("RangeArea")}updateFillPath(e,t){const[i]=e;i.path.clear(),plotAreaPathFill(i,t.fillData),i.markDirty("RangeArea")}updateStrokePath(e,t){const[,i]=e;i.path.clear(),plotLinePathStroke(i,t.highStrokeData.spans),plotLinePathStroke(i,t.lowStrokeData.spans),i.markDirty("RangeArea")}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,{processedData:o,axes:s,properties:a}=this,{marker:r}=a,n=markerEnabled(o.input.count,s[ChartAxisDirection10.X].scale,r);return r.isDirty()&&(i.clear(),i.cleanup()),i.update(n?t:[])}updateDatumStyles({datumSelection:e,isHighlight:t}){const{xKey:i,yLowKey:o,yHighKey:s,marker:a,fill:r,stroke:n,strokeWidth:l,fillOpacity:c,strokeOpacity:h}=this.properties;e.each((p,u)=>{u.style=this.getMarkerStyle(a,u,{xKey:i,yHighKey:s,yLowKey:o},{isHighlight:t},void 0,{fill:r,fillOpacity:c,stroke:n,strokeWidth:l,strokeOpacity:h})})}updateDatumNodes(e){const{contextNodeData:t}=this;if(!t)return;const{datumSelection:i,isHighlight:o}=e,s=this.getShapeFillBBox(),a=this.ctx.highlightManager.getActiveHighlight();i.each((r,n)=>{const l=n.style??t.styles[this.getHighlightState(a,o,n.datumIndex)];this.applyMarkerStyle(l,r,n.point,s)}),o||this.properties.marker.markClean()}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;return i.update(t,o=>{o.pointerEvents=PointerEvents2.None})}updateLabelNodes(e){const t={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yName:this.properties.yName,yLowKey:this.properties.yLowKey,yLowName:this.properties.yLowName??this.properties.yLowKey,yHighKey:this.properties.yHighKey,yHighName:this.properties.yHighName??this.properties.yHighKey},i=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((o,s)=>{o.fillOpacity=this.getHighlightStyle(!1,s.datumIndex).opacity??1,updateLabelNode2(this,o,t,this.properties.label,s,!1,i)})}getHighlightData(e,t){const i=e.filter(o=>o.datum===t.datum);return i.length>0?i:void 0}makeStylerParams(e,t){throw new Error("not implemented")}getTooltipContent(e,t){const i=t?.itemId??"high",{id:o,dataModel:s,processedData:a,axes:r,properties:n}=this,{xName:l,yName:c,yLowKey:h,yLowName:p,xKey:u,yHighKey:d,yHighName:g,tooltip:y,legendItemName:m}=n,f=r[ChartAxisDirection10.X],b=r[ChartAxisDirection10.Y];if(!s||!a||!f||!b)return;const v=a.dataSources.get(this.id)?.[e],S=s.resolveKeysById(this,"xValue",a)[e],D=s.resolveColumnById(this,"yHighValue",a)[e],_=s.resolveColumnById(this,"yLowValue",a)[e];if(S==null)return;const k=this.getMarkerStyle(this.properties.marker,{datumIndex:e,datum:v},{xKey:u,yLowKey:h,yHighKey:d}),x=`${this.getAxisValueText(b,"tooltip",_,v,h,m)} - ${this.getAxisValueText(b,"tooltip",D,v,d,m)}`;return this.formatTooltipWithContext(y,{heading:this.getAxisValueText(f,"tooltip",S,v,u,m),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:`${p??h} - ${g??d}`,value:x}]},{seriesId:o,datum:v,title:c,itemId:i,xName:l,yName:c,yLowKey:h,yLowName:p,xKey:u,yHighKey:d,yHighName:g,...k})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,strokeOpacity:o,lineDash:s,marker:a}=this.properties;return{marker:{shape:a.shape,fill:a.fill??e,stroke:a.stroke??t,fillOpacity:a.fillOpacity,strokeOpacity:a.strokeOpacity,strokeWidth:a.strokeWidth,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset},line:{stroke:t,strokeOpacity:o,strokeWidth:i,lineDash:s}}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{yLowKey:o,yHighKey:s,yName:a,yLowName:r,yHighName:n,showInLegend:l}=this.properties,c=a??`${r??o} - ${n??s}`,h=`${o}-${s}`;return[{legendType:"category",id:t,itemId:h,seriesId:t,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}nodeFactory(){return new Marker}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:i,contextData:o,paths:s}=e,{animationManager:a}=this.ctx;this.updateAreaPaths(s,o),pathSwipeInAnimation(this,a,...s),resetMotion([t],resetMarkerPositionFn),markerSwipeScaleInAnimation(this,a,t),seriesLabelFadeInAnimation(this,"labels",a,i)}animateReadyResize(e){const{contextData:t,paths:i}=e;this.updateAreaPaths(i,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){const{animationManager:t}=this.ctx,{datumSelection:i,labelSelection:o,contextData:s,paths:a,previousContextData:r}=e,[n,l]=a;if(n==null&&l==null)return;this.resetDatumAnimation(e),this.resetLabelAnimation(e);const c=()=>{this.resetPathAnimation(e),this.updateAreaPaths(a,s)},h=()=>{t.skipCurrentBatch(),c()};if(s==null||r==null){c(),markerFadeInAnimation(this,t,"added",i),pathFadeInAnimation(this,"fill_path_properties",t,"add",n),pathFadeInAnimation(this,"stroke_path_properties",t,"add",l),seriesLabelFadeInAnimation(this,"labels",t,o);return}const p=prepareRangeAreaPathAnimation(s,r,this.processedData?.reduced?.diff?.[this.id]);if(p===void 0){h();return}else if(p.status==="no-op")return;fromToMotion(this.id,"fill_path_properties",t,[n],p.fill.pathProperties),fromToMotion(this.id,"stroke_path_properties",t,[l],p.stroke.pathProperties),p.status==="added"?this.updateAreaPaths(a,s):p.status==="removed"?this.updateAreaPaths(a,r):(pathMotion(this.id,"fill_path_update",t,[n],p.fill.path),pathMotion(this.id,"stroke_path_update",t,[l],p.stroke.path)),p.hasMotion&&(markerFadeInAnimation(this,t,void 0,i),seriesLabelFadeInAnimation(this,"labels",t,o)),this.ctx.animationManager.animate({id:this.id,groupId:"reset_after_animation",phase:"trailing",from:{},to:{},onComplete:()=>this.updateAreaPaths(a,s)})}getFormattedMarkerStyle(e){const{xKey:t,yLowKey:i,yHighKey:o}=this.properties;return this.getMarkerStyle(this.properties.marker,e,{xKey:t,yLowKey:i,yHighKey:o},{isHighlight:!0})}computeFocusBounds(e){const t=computeMarkerFocusBounds(this,e),i=computeMarkerFocusBounds(this,{...e,datumIndex:e.datumIndex+1});if(t&&i)return BBox5.merge([t,i])}isDatumEnabled(e,t){return t%2===0&&super.isDatumEnabled(e,t)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}};RangeAreaSeries.className="RangeAreaSeries",RangeAreaSeries.type="range-area";var import_ag_charts_community48=require("ag-charts-community"),import_ag_charts_core17=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs5,rangeAreaSeriesThemeableOptionsDef}=import_ag_charts_community48._ModuleSupport,rangeAreaSeriesOptionsDef={...commonSeriesOptionsDefs5,...rangeAreaSeriesThemeableOptionsDef,type:(0,import_ag_charts_core17.required)((0,import_ag_charts_core17.constant)("range-area")),xKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),yLowKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),yHighKey:(0,import_ag_charts_core17.required)(import_ag_charts_core17.string),xName:import_ag_charts_core17.string,yName:import_ag_charts_core17.string,yLowName:import_ag_charts_core17.string,yHighName:import_ag_charts_core17.string,segmentation:import_ag_charts_core17.shapeSegmentation};rangeAreaSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core17.undocumented)(import_ag_charts_core17.boolean),rangeAreaSeriesOptionsDef.focusPriority=(0,import_ag_charts_core17.undocumented)(import_ag_charts_core17.number);var import_ag_charts_community49=require("ag-charts-community"),RANGE_AREA_SERIES_THEME={series:{fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",import_ag_charts_community49._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS],["pattern",import_ag_charts_community49._ModuleSupport.FILL_PATTERN_DEFAULTS]]},stroke:{$palette:"stroke"},fillOpacity:.7,nodeClickRange:"nearest",strokeWidth:1,marker:{enabled:!1,fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",import_ag_charts_community49._ModuleSupport.FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS],["image",import_ag_charts_community49._ModuleSupport.FILL_IMAGE_DEFAULTS],["pattern",import_ag_charts_community49._ModuleSupport.FILL_PATTERN_DEFAULTS]]},stroke:{$palette:"stroke"},size:6,strokeWidth:2},label:{...import_ag_charts_community49._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,placement:"outside",padding:{$isUserOption:["./spacing",0,10]},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},interpolation:{type:"linear"},tooltip:{range:{$path:["/tooltip/range","nearest"]}},highlight:import_ag_charts_community49._ModuleSupport.multiSeriesHighlightStyle(),segmentation:import_ag_charts_community49._ModuleSupport.SEGMENTATION_DEFAULTS},axes:{[import_ag_charts_community49._ModuleSupport.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE6,CARTESIAN_POSITION:CARTESIAN_POSITION4}}=import_ag_charts_community50._ModuleSupport,RangeAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-area",moduleFactory:e=>new RangeAreaSeries(e),predictAxis:import_ag_charts_community50._ModuleSupport.predictCartesianTimeAxis,defaultAxes:[{type:CARTESIAN_AXIS_TYPE6.NUMBER,position:CARTESIAN_POSITION4.LEFT},{type:CARTESIAN_AXIS_TYPE6.CATEGORY,position:CARTESIAN_POSITION4.BOTTOM}],themeTemplate:RANGE_AREA_SERIES_THEME},RangeAreaSeriesModule={type:"series",name:"range-area",chartType:"cartesian",enterprise:!0,options:rangeAreaSeriesOptionsDef,create:e=>new RangeAreaSeries(e)},import_ag_charts_community56=require("ag-charts-community"),import_ag_charts_community53=require("ag-charts-community"),import_ag_charts_community51=require("ag-charts-community"),{aggregationDomain:aggregationDomain3,aggregationRangeFittingPoints:aggregationRangeFittingPoints3,compactAggregationIndices:compactAggregationIndices3,createAggregationIndices:createAggregationIndices3}=import_ag_charts_community51._ModuleSupport,AGGREGATION_THRESHOLD3=1e3;function aggregateRangeBarData(e,t,i,o,s,a){if(t.length<AGGREGATION_THRESHOLD3)return;const[r,n]=aggregationDomain3(e,s);let l=aggregationRangeFittingPoints3(t,r,n,{smallestKeyInterval:a}),{indexData:c,valueData:h}=createAggregationIndices3(t,i,o,r,n,l);const p=[{maxRange:l,indexData:c}];for(;l>64;)({indexData:c,valueData:h,maxRange:l}=compactAggregationIndices3(c,h,l)),p.push({maxRange:l,indexData:c});return p.reverse(),p}var import_ag_charts_community52=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties3,makeSeriesTooltip:makeSeriesTooltip6,Property:Property18,DropShadow:DropShadow2,Label:Label2}=import_ag_charts_community52._ModuleSupport,RangeBarSeriesLabel=class extends Label2{constructor(){super(...arguments),this.placement="inside",this.spacing=0}};__decorateClass([Property18],RangeBarSeriesLabel.prototype,"placement",2),__decorateClass([Property18],RangeBarSeriesLabel.prototype,"spacing",2);var RangeBarProperties=class extends AbstractBarSeriesProperties3{constructor(){super(...arguments),this.fill="#99CCFF",this.fillOpacity=1,this.stroke="#99CCFF",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.shadow=new DropShadow2().set({enabled:!1}),this.label=new RangeBarSeriesLabel,this.tooltip=makeSeriesTooltip6()}getStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,cornerRadius:n}=this;return{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,cornerRadius:n,opacity:1}}};__decorateClass([Property18],RangeBarProperties.prototype,"xKey",2),__decorateClass([Property18],RangeBarProperties.prototype,"yLowKey",2),__decorateClass([Property18],RangeBarProperties.prototype,"yHighKey",2),__decorateClass([Property18],RangeBarProperties.prototype,"xName",2),__decorateClass([Property18],RangeBarProperties.prototype,"yName",2),__decorateClass([Property18],RangeBarProperties.prototype,"yLowName",2),__decorateClass([Property18],RangeBarProperties.prototype,"yHighName",2),__decorateClass([Property18],RangeBarProperties.prototype,"fill",2),__decorateClass([Property18],RangeBarProperties.prototype,"fillOpacity",2),__decorateClass([Property18],RangeBarProperties.prototype,"stroke",2),__decorateClass([Property18],RangeBarProperties.prototype,"strokeWidth",2),__decorateClass([Property18],RangeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Property18],RangeBarProperties.prototype,"lineDash",2),__decorateClass([Property18],RangeBarProperties.prototype,"lineDashOffset",2),__decorateClass([Property18],RangeBarProperties.prototype,"cornerRadius",2),__decorateClass([Property18],RangeBarProperties.prototype,"itemStyler",2),__decorateClass([Property18],RangeBarProperties.prototype,"shadow",2),__decorateClass([Property18],RangeBarProperties.prototype,"label",2),__decorateClass([Property18],RangeBarProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode4,valueProperty:valueProperty5,keyProperty:keyProperty4,ChartAxisDirection:ChartAxisDirection11,checkCrisp,updateLabelNode:updateLabelNode3,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL3,LARGEST_KEY_INTERVAL,diff:diff4,prepareBarAnimationFunctions,midpointStartingBarPosition,resetBarSelectionsFn,fixNumericExtent:fixNumericExtent4,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation2,resetLabelFn:resetLabelFn2,animationValidation:animationValidation4,computeBarFocusBounds:computeBarFocusBounds4,visibleRangeIndices:visibleRangeIndices2,createDatumId:createDatumId4,ContinuousScale:ContinuousScale3,Rect:Rect2,PointerEvents:PointerEvents3,motion:motion2,applyShapeStyle:applyShapeStyle5,findMinMax:findMinMax3,areScalingEqual:areScalingEqual2,processedDataIsAnimatable:processedDataIsAnimatable3,AGGREGATION_SPAN:AGGREGATION_SPAN2,AGGREGATION_INDEX_X_MAX:AGGREGATION_INDEX_X_MAX2,AGGREGATION_INDEX_X_MIN:AGGREGATION_INDEX_X_MIN2,AGGREGATION_INDEX_Y_MAX:AGGREGATION_INDEX_Y_MAX3,AGGREGATION_INDEX_Y_MIN:AGGREGATION_INDEX_Y_MIN3,mergeDefaults:mergeDefaults6,simpleMemorize2:simpleMemorize23,getItemStyles:getItemStyles2,calculateSegments:calculateSegments3}=import_ag_charts_community53._ModuleSupport,memoizedAggregateRangeBarData=simpleMemorize23(aggregateRangeBarData),RangeBarSeriesNodeEvent=class extends import_ag_charts_community53._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.xKey,this.yLowKey=o.properties.yLowKey,this.yHighKey=o.properties.yHighKey}},RangeBarSeries=class extends import_ag_charts_community53._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode4.AXIS_ALIGNED,SeriesNodePickMode4.EXACT_SHAPE_MATCH],propertyKeys:{x:["xKey"],y:["yLowKey","yHighKey"]},propertyNames:{x:["xName"],y:["yLowName","yHighName","yName"]},categoryKey:"xValue",datumSelectionGarbageCollection:!1,animationResetFns:{datum:resetBarSelectionsFn,label:resetLabelFn2}}),this.properties=new RangeBarProperties,this.dataAggregationFilters=void 0,this.NodeEvent=RangeBarSeriesNodeEvent}async processData(e){const{xKey:t,yLowKey:i,yHighKey:o}=this.properties,s=this.getCategoryAxis()?.scale,a=this.getValueAxis()?.scale,{isContinuousX:r,xScaleType:n,yScaleType:l}=this.getScaleInformation({xScale:s,yScale:a}),c=[];this.ctx.animationManager.isSkipped()||(this.processedData&&c.push(diff4(this.id,this.processedData)),c.push(animationValidation4()));const h=this.visible?{}:{forceValue:0},{dataModel:p,processedData:u}=await this.requestDataModel(e,this.data,{props:[keyProperty4(t,n,{id:"xValue"}),valueProperty5(i,l,{id:"yLowValue",invalidValue:null,...h}),valueProperty5(o,l,{id:"yHighValue",invalidValue:null,...h}),...r?[SMALLEST_KEY_INTERVAL3,LARGEST_KEY_INTERVAL]:[],...c],groupByKeys:!1});this.smallestDataInterval=u.reduced?.smallestKeyInterval,this.largestDataInterval=u.reduced?.largestKeyInterval,this.dataAggregationFilters=this.aggregateData(p,u),this.animationState.transition("updateData")}aggregateData(e,t){if(t.type!=="ungrouped"||processedDataIsAnimatable3(t))return;const i=this.axes[ChartAxisDirection11.X];if(i==null)return;const o=e.resolveKeysById(this,"xValue",t),s=e.resolveColumnById(this,"yHighValue",t),a=e.resolveColumnById(this,"yLowValue",t),{index:r}=e.resolveProcessedDataDefById(this,"xValue"),n=t.domain.keys[r];return memoizedAggregateRangeBarData(i.scale.type,o,s,a,n,t.reduced?.smallestKeyInterval)}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[o]}=t.domain;if(e===this.getCategoryDirection()){const s=i.resolveProcessedDataDefById(this,"xValue");return s?.def.type==="key"&&s?.def.valueType==="category"?o:this.padBandExtent(o)}else{const s=this.domainForClippedRange(e,["yHighValue","yLowValue"],"xValue"),a=findMinMax3(s);return fixNumericExtent4(a)}}getSeriesRange(e,t){return this.domainForVisibleRange(ChartAxisDirection11.Y,["yHighValue","yLowValue"],"xValue",t)}createNodeData(){const{data:e,dataModel:t,groupScale:i,processedData:o,visible:s}=this,a=this.getCategoryAxis(),r=this.getValueAxis();if(!(e&&a&&r&&t&&o?.dataSources&&this.chart?.seriesRect))return;const n=a.scale,l=r.scale,c=this.getBarDirection()===ChartAxisDirection11.X,{xKey:h,yLowKey:p,yHighKey:u,strokeWidth:d}=this.properties,g=`${p}-${u}`,y=calculateSegments3(this.properties.segmentation,a,r,this.chart.seriesRect,this.ctx.scene),m={itemId:g,nodeData:[],labelData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible,styles:getItemStyles2(this.getItemStyle.bind(this)),segments:y};if(!s)return m;const f=o.dataSources.get(this.id)??[],b=t.resolveKeysById(this,"xValue",o),v=t.resolveColumnById(this,"yLowValue",o),S=t.resolveColumnById(this,"yHighValue",o),{barWidth:D,groupIndex:_}=this.updateGroupScale(a),k=ContinuousScale3.is(n)?D*-.5:0,x=i.convert(String(_)),M=checkCrisp(a?.scale,a?.visibleRange,this.smallestDataInterval,this.largestDataInterval),A=P=>Math.round(n.convert(b[P]))+x+k,I=(P,T,E,O,F,G,B)=>{const V=f[P],z=b[P];if(z==null)return;const K=v[P],W=S[P];if(!Number.isFinite(K?.valueOf())||!Number.isFinite(W?.valueOf()))return;const[$,J]=K<W?[K,W]:[W,K],Z=Math.round(l.convert(G)),q=Math.round(l.convert(F)),H=Math.max(d,Math.abs(q-Z)),Y={x:c?Math.min(Z,q):E,y:c?E:Math.min(Z,q),width:c?H:O,height:c?O:H},ee={x:Y.x+Y.width/2,y:Y.y+Y.height/2},j=this.createLabelData({datumIndex:P,rect:Y,barAlongX:c,yLowValue:$,yHighValue:J,datum:V,series:this}),X={index:T,series:this,itemId:g,datum:V,datumIndex:P,xValue:z,yLowValue:K,yHighValue:W,yLowKey:p,yHighKey:u,xKey:h,x:Y.x,y:Y.y,width:Y.width,height:Y.height,midPoint:ee,crisp:B,labels:j};m.nodeData.push(X),m.labelData.push(...j)},{dataAggregationFilters:L}=this,[R,C]=n.range,N=Math.abs(C-R),w=L?.find(P=>P.maxRange>N);if(w!=null){const{maxRange:P,indexData:T}=w,[E,O]=visibleRangeIndices2(1,P,a.range,F=>{const G=F*AGGREGATION_SPAN2,B=T[G+AGGREGATION_INDEX_X_MIN2],V=T[G+AGGREGATION_INDEX_X_MAX2];if(B===-1)return;const z=(B+V)/2|0;return[A(z),A(V)+D]});for(let F=E;F<O;F+=1){const G=F*AGGREGATION_SPAN2,B=T[G+AGGREGATION_INDEX_X_MIN2],V=T[G+AGGREGATION_INDEX_X_MAX2],z=T[G+AGGREGATION_INDEX_Y_MIN3],K=T[G+AGGREGATION_INDEX_Y_MAX3];if(B===-1)continue;const W=(B+V)/2|0;if(b[W]==null)continue;const J=A(W),Z=Math.abs(A(B)-A(V))+D,q=v[z],H=S[K];I(W,0,J,Z,q,H,!1)}}else if(o.type==="ungrouped"){const P=o.invalidData?.get(this.id);let[T,E]=this.visibleRangeIndices("xValue",a.range);o.input.count<1e3&&(T=0,E=o.input.count);for(let O=T;O<E;O+=1){if(P?.[O]===!0)continue;const F=A(O),G=D,B=v[O],V=S[O];I(O,0,F,G,B,V,M)}}else for(const{datumIndex:P,groupIndex:T}of t.forEachGroupDatum(this,o)){const E=A(P),O=D,F=v[P],G=S[P];I(P,T,E,O,F,G,M)}return m}createLabelData({datumIndex:e,rect:t,barAlongX:i,yLowValue:o,yHighValue:s,datum:a,series:r}){const{xKey:n,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:u,yName:d,label:g}=this.properties,y={datum:a,xKey:n,yLowKey:l,yHighKey:c,xName:h,yLowName:p,yHighName:u,yName:d},{placement:m}=g,v=(g.spacing+(typeof g.padding=="number"?g.padding:0))*(m==="outside"?1:-1),S=this.getSeriesDomain(ChartAxisDirection11.Y),D={datumIndex:e,x:t.x+(i?-v:t.width/2),y:t.y+(i?t.height/2:t.height+v),textAlign:i?"left":"center",textBaseline:i?"middle":"bottom",text:this.getLabelText(o,a,l,"y",S,g,{itemId:"low",value:o,...y}),itemId:"low",datum:a,series:r},_={datumIndex:e,x:t.x+(i?t.width+v:t.width/2),y:t.y+(i?t.height/2:-v),textAlign:i?"right":"center",textBaseline:i?"middle":"top",text:this.getLabelText(s,a,c,"y",S,g,{itemId:"high",value:s,...y}),itemId:"high",datum:a,series:r};return m==="outside"&&(D.textAlign=i?"right":"center",D.textBaseline=i?"middle":"top",_.textAlign=i?"left":"center",_.textBaseline=i?"middle":"bottom"),[D,_]}nodeFactory(){return new Rect2}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,o=t??[];return i.update(o,void 0,s=>this.getDatumId(s))}getItemStyle(e,t,i){const{id:o,properties:s,dataModel:a,processedData:r}=this,{xKey:n,yHighKey:l,yLowKey:c,itemStyler:h}=s,p=this.getHighlightStyle(t,e,i);let d=mergeDefaults6(p,s.getStyle());if(h&&a!=null&&r!=null&&e!=null){const g=r.dataSources.get(o)?.[e],y=a.resolveKeysById(this,"xValue",r)[e],m=this.cachedDatumCallback(createDatumId4(this.getDatumId({xValue:y}),t?"highlight":"node"),()=>{const f=this.ctx.highlightManager?.getActiveHighlight(),b=this.getHighlightStateString(f,t,e);return this.callWithContext(h,{seriesId:o,datum:g,xKey:n,yHighKey:l,yLowKey:c,highlighted:t,highlightState:b,...d})});m&&(d=mergeDefaults6(m,d))}return d}updateDatumStyles({datumSelection:e,isHighlight:t}){e.each((i,o)=>{e.isGarbage(i)||(o.style=this.getItemStyle(o.datumIndex,t))})}updateDatumNodes({datumSelection:e,isHighlight:t}){const{contextNodeData:i}=this;if(!i)return;const o=this.ctx.highlightManager.getActiveHighlight(),s=this.getCategoryDirection()===ChartAxisDirection11.X,a=this.getShapeFillBBox();e.each((r,n)=>{const l=n.style??i.styles[this.getHighlightState(o,t,n.datumIndex)];applyShapeStyle5(r,l,a),r.cornerRadius=l.cornerRadius??0,r.visible=s?n.width>0:n.height>0,r.crisp=n.crisp})}updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=PointerEvents3.None})}updateLabelNodes(e){const t={xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xKey,yName:this.properties.yName,yLowKey:this.properties.yLowKey,yLowName:this.properties.yLowName??this.properties.yLowKey,yHighKey:this.properties.yHighKey,yHighName:this.properties.yHighName??this.properties.yHighKey},i=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((o,s)=>{o.fillOpacity=this.getHighlightStyle(!1,s?.datumIndex).opacity??1,updateLabelNode3(this,o,t,this.properties.label,s,!1,i)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:s}=this,{xKey:a,xName:r,yName:n,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,tooltip:u,legendItemName:d}=s,g=this.getCategoryAxis(),y=this.getValueAxis();if(!i||!o||!g||!y)return;const m=o.dataSources.get(this.id)?.[e],f=i.resolveKeysById(this,"xValue",o)[e],b=i.resolveColumnById(this,"yHighValue",o)[e],v=i.resolveColumnById(this,"yLowValue",o)[e];if(f==null)return;const S=this.getItemStyle(e,!1),D=`${this.getAxisValueText(y,"tooltip",v,m,l,d)} - ${this.getAxisValueText(y,"tooltip",b,m,c,d)}`;return this.formatTooltipWithContext(u,{heading:this.getAxisValueText(g,"tooltip",f,m,a,d),symbol:this.legendItemSymbol(),data:[{label:n,fallbackLabel:`${h??l} - ${p??c}`,value:D}]},{seriesId:t,datum:m,title:n,xKey:a,xName:r,yName:n,yLowKey:l,yHighKey:c,yLowName:h,yHighName:p,...S})}legendItemSymbol(){const{fill:e,stroke:t,strokeWidth:i,fillOpacity:o,strokeOpacity:s,lineDash:a,lineDashOffset:r}=this.properties;return{marker:{fill:e,stroke:t,fillOpacity:o,strokeOpacity:s,strokeWidth:i,lineDash:a,lineDashOffset:r}}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{yName:o,yLowName:s,yHighName:a,yLowKey:r,yHighKey:n,showInLegend:l}=this.properties,c=o??`${s??r} - ${a??n}`,h=`${r}-${n}`;return[{legendType:"category",id:t,itemId:h,seriesId:t,enabled:i,label:{text:`${c}`},symbol:this.legendItemSymbol(),hideInLegend:!l}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){const i=prepareBarAnimationFunctions(midpointStartingBarPosition(this.isVertical(),"normal"),"unknown");motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[e],i),seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){const{datumSelection:t,labelSelection:i,contextData:o,previousContextData:s}=e,a=import_ag_charts_community53._ModuleSupport.calculateDataDiff(this.id,t,this.getDatumId.bind(this),o,s,this.processedData);this.ctx.animationManager.stopByAnimationGroupId(this.id);const r=s==null?"fade":"normal",n=prepareBarAnimationFunctions(midpointStartingBarPosition(this.isVertical(),r),"added");motion2.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],n,(l,c)=>this.getDatumId(c),a),(a?.changed||!areScalingEqual2(o.groupScale,s?.groupScale))&&seriesLabelFadeInAnimation2(this,"labels",this.ctx.animationManager,i)}getDatumId(e){return`${e.xValue}`}isLabelEnabled(){return this.properties.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds4(this,this.contextNodeData?.nodeData[e])}hasItemStylers(){return this.properties.itemStyler!=null}};RangeBarSeries.className="RangeBarSeries",RangeBarSeries.type="range-bar";var import_ag_charts_community54=require("ag-charts-community"),import_ag_charts_core18=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs6,rangeBarSeriesThemeableOptionsDef}=import_ag_charts_community54._ModuleSupport,rangeBarSeriesOptionsDef={...commonSeriesOptionsDefs6,...rangeBarSeriesThemeableOptionsDef,type:(0,import_ag_charts_core18.required)((0,import_ag_charts_core18.constant)("range-bar")),xKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),yLowKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),yHighKey:(0,import_ag_charts_core18.required)(import_ag_charts_core18.string),xName:import_ag_charts_core18.string,yName:import_ag_charts_core18.string,yLowName:import_ag_charts_core18.string,yHighName:import_ag_charts_core18.string,segmentation:import_ag_charts_core18.shapeSegmentation};rangeBarSeriesOptionsDef.pickOutsideVisibleMinorAxis=(0,import_ag_charts_core18.undocumented)(import_ag_charts_core18.boolean),rangeBarSeriesOptionsDef.focusPriority=(0,import_ag_charts_core18.undocumented)(import_ag_charts_core18.number);var import_ag_charts_community55=require("ag-charts-community"),RANGE_BAR_SERIES_THEME={series:{direction:"vertical",fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",import_ag_charts_community55._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS],["image",import_ag_charts_community55._ModuleSupport.FILL_IMAGE_DEFAULTS],["pattern",import_ag_charts_community55._ModuleSupport.FILL_PATTERN_DEFAULTS]]},stroke:{$palette:"stroke"},strokeWidth:{$isUserOption:["./stroke",2,0]},label:{...import_ag_charts_community55._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"},placement:"inside",padding:{$isUserOption:["./spacing",0,6]}},highlight:import_ag_charts_community55._ModuleSupport.multiSeriesHighlightStyle(),segmentation:import_ag_charts_community55._ModuleSupport.SEGMENTATION_DEFAULTS},axes:{[import_ag_charts_community55._ModuleSupport.ThemeConstants.CARTESIAN_AXIS_TYPE.NUMBER]:{crosshair:{enabled:!0}}}},RangeBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"range-bar",moduleFactory:e=>new RangeBarSeries(e),predictAxis:import_ag_charts_community56._ModuleSupport.predictCartesianTimeAxis,defaultAxes:import_ag_charts_community56._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:RANGE_BAR_SERIES_THEME,groupable:!0},RangeBarSeriesModule={type:"series",name:"range-bar",chartType:"cartesian",enterprise:!0,options:rangeBarSeriesOptionsDef,create:e=>new RangeBarSeries(e)},import_ag_charts_community61=require("ag-charts-community"),import_ag_charts_community58=require("ag-charts-community"),import_ag_charts_community57=require("ag-charts-community"),{AbstractBarSeriesProperties:AbstractBarSeriesProperties4,BaseProperties:BaseProperties5,PropertiesArray,makeSeriesTooltip:makeSeriesTooltip7,Property:Property19,DropShadow:DropShadow3,Label:Label3}=import_ag_charts_community57._ModuleSupport,WaterfallSeriesTotal=class extends BaseProperties5{};__decorateClass([Property19],WaterfallSeriesTotal.prototype,"totalType",2),__decorateClass([Property19],WaterfallSeriesTotal.prototype,"index",2),__decorateClass([Property19],WaterfallSeriesTotal.prototype,"axisLabel",2);var WaterfallSeriesItemTooltip=class extends BaseProperties5{};__decorateClass([Property19],WaterfallSeriesItemTooltip.prototype,"renderer",2);var WaterfallSeriesLabel=class extends Label3{constructor(){super(...arguments),this.placement="outside-end",this.spacing=0}};__decorateClass([Property19],WaterfallSeriesLabel.prototype,"placement",2),__decorateClass([Property19],WaterfallSeriesLabel.prototype,"spacing",2);var WaterfallSeriesItem=class extends BaseProperties5{constructor(){super(...arguments),this.fill="#c16068",this.stroke="#c16068",this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=1,this.cornerRadius=0,this.shadow=new DropShadow3().set({enabled:!1}),this.label=new WaterfallSeriesLabel,this.tooltip=new WaterfallSeriesItemTooltip}};__decorateClass([Property19],WaterfallSeriesItem.prototype,"name",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"fill",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"stroke",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"fillOpacity",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"strokeOpacity",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"lineDash",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"lineDashOffset",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"strokeWidth",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"cornerRadius",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"itemStyler",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"shadow",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"label",2),__decorateClass([Property19],WaterfallSeriesItem.prototype,"tooltip",2);var WaterfallSeriesConnectorLine=class extends BaseProperties5{constructor(){super(...arguments),this.enabled=!0,this.stroke="black",this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.strokeWidth=2}};__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"enabled",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"stroke",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"strokeOpacity",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"lineDash",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"lineDashOffset",2),__decorateClass([Property19],WaterfallSeriesConnectorLine.prototype,"strokeWidth",2);var WaterfallSeriesItems=class extends BaseProperties5{constructor(){super(...arguments),this.positive=new WaterfallSeriesItem,this.negative=new WaterfallSeriesItem,this.total=new WaterfallSeriesItem}};__decorateClass([Property19],WaterfallSeriesItems.prototype,"positive",2),__decorateClass([Property19],WaterfallSeriesItems.prototype,"negative",2),__decorateClass([Property19],WaterfallSeriesItems.prototype,"total",2);var WaterfallSeriesProperties=class extends AbstractBarSeriesProperties4{constructor(){super(...arguments),this.item=new WaterfallSeriesItems,this.totals=new PropertiesArray(WaterfallSeriesTotal),this.line=new WaterfallSeriesConnectorLine,this.tooltip=makeSeriesTooltip7()}getStyle(e){const{fillOpacity:t,strokeWidth:i,strokeOpacity:o,fill:s,stroke:a,lineDash:r,lineDashOffset:n,cornerRadius:l}=this.item[e==="subtotal"?"total":e];return{fill:s,fillOpacity:t,stroke:a,strokeWidth:i,strokeOpacity:o,lineDash:r,lineDashOffset:n,cornerRadius:l,opacity:1}}};__decorateClass([Property19],WaterfallSeriesProperties.prototype,"xKey",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"yKey",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"xName",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"yName",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"item",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"totals",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"line",2),__decorateClass([Property19],WaterfallSeriesProperties.prototype,"tooltip",2);var{adjustLabelPlacement,SeriesNodePickMode:SeriesNodePickMode5,fixNumericExtent:fixNumericExtent5,valueProperty:valueProperty6,keyProperty:keyProperty5,accumulativeValueProperty,trailingAccumulatedValueProperty,ChartAxisDirection:ChartAxisDirection12,createDatumId:createDatumId5,checkCrisp:checkCrisp2,updateLabelNode:updateLabelNode4,prepareBarAnimationFunctions:prepareBarAnimationFunctions2,collapsedStartingBarPosition,resetBarSelectionsFn:resetBarSelectionsFn2,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation3,resetLabelFn:resetLabelFn3,animationValidation:animationValidation5,DEFAULT_CARTESIAN_DIRECTION_KEYS:DEFAULT_CARTESIAN_DIRECTION_KEYS2,DEFAULT_CARTESIAN_DIRECTION_NAMES:DEFAULT_CARTESIAN_DIRECTION_NAMES2,computeBarFocusBounds:computeBarFocusBounds5,isContinuous,Rect:Rect3,motion:motion3,applyShapeStyle:applyShapeStyle6,mergeDefaults:mergeDefaults7,getItemStylesPerItemId:getItemStylesPerItemId2}=import_ag_charts_community58._ModuleSupport,WaterfallSeries=class extends import_ag_charts_community58._ModuleSupport.AbstractBarSeries{constructor(e){super({moduleCtx:e,propertyKeys:DEFAULT_CARTESIAN_DIRECTION_KEYS2,propertyNames:DEFAULT_CARTESIAN_DIRECTION_NAMES2,categoryKey:void 0,pickModes:[SeriesNodePickMode5.NEAREST_NODE,SeriesNodePickMode5.EXACT_SHAPE_MATCH],pathsPerSeries:["connector"],pathsZIndexSubOrderOffset:[-1,-1],animationResetFns:{datum:resetBarSelectionsFn2,label:resetLabelFn3}}),this.properties=new WaterfallSeriesProperties,this.seriesItemTypes=new Set(["positive","negative","total"])}async processData(e){const{xKey:t,yKey:i,totals:o}=this.properties,{data:s=[]}=this;if(!this.visible)return;const a=b=>isContinuous(b)&&Number(b)>=0,r=b=>isContinuous(b)&&Number(b)>=0,n=b=>b==="total"||b==="subtotal",l={missingValue:void 0,invalidValue:void 0},c=[],h=o.reduce((b,v)=>{const S=b.get(v.index);return S?S.push(v):b.set(v.index,[v]),b},new Map);s.forEach((b,v)=>{c.push(b),h.get(v)?.forEach(S=>c.push({...S.toJson(),[t]:S.axisLabel}))});const p=[];this.ctx.animationManager.isSkipped()||p.push(animationValidation5());const u=this.getCategoryAxis()?.scale,d=this.getValueAxis()?.scale,{isContinuousX:g,xScaleType:y,yScaleType:m}=this.getScaleInformation({xScale:u,yScale:d}),{processedData:f}=await this.requestDataModel(e,c,{props:[keyProperty5(t,y,{id:"xValue"}),accumulativeValueProperty(i,m,{...l,id:"yCurrent"}),accumulativeValueProperty(i,m,{...l,missingValue:0,id:"yCurrentTotal"}),accumulativeValueProperty(i,m,{...l,id:"yCurrentPositive",validation:a}),accumulativeValueProperty(i,m,{...l,id:"yCurrentNegative",validation:r}),trailingAccumulatedValueProperty(i,m,{...l,id:"yPrevious"}),valueProperty6(i,m,{id:"yRaw"}),valueProperty6("totalType","category",{id:"totalTypeValue",missingValue:void 0,validation:n}),...g?[import_ag_charts_community58._ModuleSupport.SMALLEST_KEY_INTERVAL,import_ag_charts_community58._ModuleSupport.LARGEST_KEY_INTERVAL]:[],...p]});this.smallestDataInterval=f.reduced?.smallestKeyInterval,this.largestDataInterval=f.reduced?.largestKeyInterval,this.updateSeriesItemTypes(),this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i}=this;if(!t||!i)return[];const{keys:[o],values:s}=t.domain;if(e===this.getCategoryDirection()){const a=i.resolveProcessedDataDefById(this,"xValue");if(a?.def.type==="key"&&a?.def.valueType==="category")return o;const r=e===ChartAxisDirection12.Y,n=this.getCategoryAxis().isReversed();return this.padBandExtent(o,n!==r)}else{const a=i.resolveProcessedDataIndexById(this,"yCurrent"),r=s[a],n=[Math.min(0,r[0]),Math.max(0,r[1])];return fixNumericExtent5(n)}}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{data:e,dataModel:t,processedData:i}=this,o=this.getCategoryAxis(),s=this.getValueAxis();if(!e||!o||!s||!t||!i)return;const{line:a}=this.properties,r=o.scale,n=s.scale,l=this.getBarDirection()===ChartAxisDirection12.X,c=this.getBandwidth(o)??10,h=o.isReversed(),p=s.isReversed();if(i.type!=="ungrouped")return;const u={itemId:this.properties.yKey,nodeData:[],labelData:[],pointData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible,styles:getItemStylesPerItemId2(this.getItemStyle.bind(this),"total","subtotal","positive","negative")};if(!this.visible)return u;const d=[],g=t.resolveKeysById(this,"xValue",i),y=t.resolveColumnById(this,"yRaw",i),m=t.resolveColumnById(this,"totalTypeValue",i),f=t.resolveColumnById(this,"yCurrent",i),b=t.resolveColumnById(this,"yPrevious",i),v=t.resolveColumnById(this,"yCurrentTotal",i),S=this.getSeriesDomain(ChartAxisDirection12.Y),D=checkCrisp2(o?.scale,o?.visibleRange,this.smallestDataInterval,this.largestDataInterval);function _(N,w,P){return N||w?{cumulativeValue:v[P],trailingValue:w?x:0}:{cumulativeValue:f[P],trailingValue:b[P]}}function k(N,w,P,T,E){return N?T:w?(T??0)-(E??0):P}let x=0;const{xKey:M,yKey:A,xName:I,yName:L}=this.properties;(i.dataSources.get(this.id)??[]).forEach((N,w)=>{const P=m[w],T=this.isSubtotal(P),E=this.isTotal(P),O=E||T,F=g[w];if(F==null)return;const G=Math.round(r.convert(F)),B=y[w],{cumulativeValue:V,trailingValue:z}=_(E,T,w);O&&(x=V??0);const K=Math.round(n.convert(V)),W=Math.round(n.convert(z)),$=k(E,T,B,V,z),J=($??0)>=0,Z=this.getSeriesItemType(J,P),{strokeWidth:q,label:H}=this.getItemConfig(Z),Y=J?K:W,ee=J?W:K,j=Math.max(q,Math.abs(ee-Y)),X={x:l?Math.min(Y,ee):G,y:l?G:Math.min(Y,ee),width:l?j:c,height:l?c:j},te={x:X.x+X.width/2,y:X.y+X.height/2},U=O?K:W,ie=Math.floor(a.strokeWidth)%2/2,Q=h?K:U,oe=h?U:K;let se,ae;l?(se={x:Q+ie,y:X.y},ae={x:oe+ie,y:X.y+X.height}):(se={x:X.x,y:Q+ie},ae={x:X.x+X.width,y:oe+ie});const le={x:h?ae.x:se.x,y:h?ae.y:se.y,x2:h?se.x:ae.x,y2:h?se.y:ae.y,size:0};d.push(le);const re=Z==="subtotal"?"total":Z,ne=this.getLabelText($,N,A,"y",S,H,{itemId:re,value:$,datum:N,xKey:M,yKey:A,xName:I,yName:L}),ce=H.spacing+(typeof H.padding=="number"?H.padding:0),he={index:w,series:this,itemId:Z,datum:N,datumIndex:w,cumulativeValue:V??0,xValue:F,yValue:$,yKey:A,xKey:M,x:X.x,y:X.y,width:X.width,height:X.height,midPoint:te,crisp:D,label:{text:ne,...adjustLabelPlacement({isUpward:($??-1)>=0!==p,isVertical:!l,placement:H.placement,spacing:ce,rect:X})}};u.nodeData.push(he),u.labelData.push(he)});const C=this.properties.line.enabled;return f!=null&&C&&(u.pointData=d),u}updateSeriesItemTypes(){const{dataModel:e,seriesItemTypes:t,processedData:i}=this;if(!e||!i)return;t.clear();const o=e.resolveProcessedDataIndexById(this,"yCurrentPositive"),s=e.resolveProcessedDataIndexById(this,"yCurrentNegative"),a=e.resolveProcessedDataIndexById(this,"totalTypeValue"),r=i.domain.values[o]??[],n=i.domain.values[s]??[];r.length>0&&t.add("positive"),n.length>0&&t.add("negative");const l=i?.domain.values[a];l&&l.forEach(c=>{(c==="total"||c==="subtotal")&&t.add("total")})}isSubtotal(e){return e==="subtotal"}isTotal(e){return e==="total"}nodeFactory(){return new Rect3}getSeriesItemType(e,t){return t??(e?"positive":"negative")}getItemConfig(e){switch(e){case"positive":return this.properties.item.positive;case"negative":return this.properties.item.negative;case"subtotal":case"total":return this.properties.item.total}}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,o=t??[];return i.update(o)}getItemStyle(e,t,i,o="total"){const{id:s,properties:a}=this,{datumIndex:r=0,datum:n}=e??{},l=o==="subtotal"?"total":o,c=a.item[l],h=this.getHighlightStyle(t,r,i),p=mergeDefaults7(h,a.getStyle(o)),{itemStyler:u}=c,{xKey:d,yKey:g}=a;let y=p;if(u!=null&&e!=null){const m=this.ctx.highlightManager?.getActiveHighlight(),f=this.cachedDatumCallback(createDatumId5(r,t?"highlight":"node"),()=>{const b=this.getHighlightStateString(m,t,r);return this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`,"item",l],this.callWithContext(u,{seriesId:s,itemId:o,datum:n,xKey:d,yKey:g,highlighted:t,highlightState:b,...y}))});f&&(y=mergeDefaults7(f,y))}return y}updateDatumStyles({datumSelection:e,isHighlight:t}){e.each((i,o)=>{o.style=this.getItemStyle(o,t,void 0,o.itemId)})}updateDatumNodes({datumSelection:e,isHighlight:t}){const{contextNodeData:i}=this;if(!i)return;const o=this.ctx.highlightManager.getActiveHighlight(),s=this.getCategoryDirection()===ChartAxisDirection12.X,a=this.getShapeFillBBox();e.each((r,n)=>{const l=n.style??i.styles[n.itemId][this.getHighlightState(o,t,n.datumIndex)];applyShapeStyle6(r,l,a),r.cornerRadius=l.cornerRadius??0,r.visible=s?n.width>0:n.height>0,r.crisp=n.crisp})}updateLabelSelection(e){const{labelData:t,labelSelection:i}=e;if(t.length===0)return i.update([]);const o=t.filter(s=>{const{label:a}=this.getItemConfig(s.itemId);return a.enabled});return i.update(o)}updateLabelNodes(e){const t={itemId:"positive",xKey:this.properties.xKey,xName:this.properties.xName??this.properties.xName,yKey:this.properties.yKey,yName:this.properties.yName??this.properties.yName},i=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((o,s)=>{t.itemId=s.itemId,o.fillOpacity=this.getHighlightStyle(!1,s.datumIndex)?.opacity??1;const a=this.getItemConfig(s.itemId).label;updateLabelNode4(this,o,t,a,s.label,!1,i)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:s}=this,{xKey:a,xName:r,yKey:n,yName:l,tooltip:c,legendItemName:h}=s,p=this.getCategoryAxis(),u=this.getValueAxis();if(!i||!o||!p||!u)return;const d=o.dataSources.get(this.id)?.[e],g=i.resolveKeysById(this,"xValue",o)[e],y=i.resolveColumnById(this,"yRaw",o)[e],m=i.resolveColumnById(this,"yCurrentTotal",o),f=i.resolveColumnById(this,"totalTypeValue",o);if(g==null)return;const b=f[e],v=(y??0)>=0,S=this.getSeriesItemType(v,b);let D;if(this.isTotal(b))D=m[e];else if(this.isSubtotal(b)){D=m[e];for(let x=e-1;x>=0;x-=1)if(this.isSubtotal(f[x])){D=D-m[x];break}}else D=y;const _=this.contextNodeData?.nodeData?.[e],k=this.getItemStyle(_,!1,void 0,_?.itemId);return this.formatTooltipWithContext(c,{heading:this.getAxisValueText(p,"tooltip",g,d,a,h),symbol:this.legendItemSymbol(S),data:[{label:l,fallbackLabel:n,value:this.getAxisValueText(u,"tooltip",D,d,n,h)}]},{seriesId:t,datum:d,title:l,itemId:S,xKey:a,xName:r,yKey:n,yName:l,...k})}legendItemSymbol(e){const{fill:t,stroke:i,fillOpacity:o,strokeOpacity:s,strokeWidth:a,lineDash:r,lineDashOffset:n}=this.getItemConfig(e);return{marker:{fill:t,stroke:i,fillOpacity:o,strokeOpacity:s,strokeWidth:a,lineDash:r,lineDashOffset:n}}}getLegendData(e){if(e!=="category")return[];const{id:t,seriesItemTypes:i}=this,o=[],s=r=>r.charAt(0).toUpperCase()+r.substring(1),{showInLegend:a}=this.properties;return i.forEach(r=>{const{name:n}=this.getItemConfig(r);o.push({legendType:"category",id:t,itemId:r,seriesId:t,enabled:!0,label:{text:n??s(r)},symbol:this.legendItemSymbol(r),hideInLegend:!a,isFixed:!0})}),o}toggleSeriesItem(){}animateEmptyUpdateReady(e){const{datumSelection:t,labelSelection:i,contextData:o}=e,s=prepareBarAnimationFunctions2(collapsedStartingBarPosition(this.isVertical(),this.axes,"normal"),"unknown");motion3.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s),seriesLabelFadeInAnimation3(this,"labels",this.ctx.animationManager,i);const{pointData:a}=o;a&&(this.isVertical()?this.animateConnectorLinesVertical(e):this.animateConnectorLinesHorizontal(e))}animateConnectorLinesHorizontal(e){const{pointData:t=[]}=e.contextData,[i]=e.paths,{path:o}=i;this.updateLineNode(i);const s=this.getValueAxis(),a=s?.isReversed(),r=a?(h,p)=>h<p:(h,p)=>h>p,n=s?.scale.convert(0),l=t.reduce((h,p)=>(r(p.x,h)&&(h=p.x),h),a?1/0:0),c=(h,p,u,d,g)=>(h-p)/(u-p)*(g-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:l,ease:import_ag_charts_community58._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(h){o.clear(!0),t.forEach((p,u)=>{const d=c(h,n,l,n,p.x),g=c(h,n,l,n,p.x2);u!==0&&o.lineTo(d,p.y),o.moveTo(g,p.y2)}),i.checkPathDirty()},onStop:()=>this.resetConnectorLinesPath(e)})}animateConnectorLinesVertical(e){const{pointData:t=[]}=e.contextData,[i]=e.paths,{path:o}=i;this.updateLineNode(i);const s=this.getValueAxis(),a=s?.isReversed(),r=a?(h,p)=>h>p:(h,p)=>h<p,n=s?.scale.convert(0),l=t.reduce((h,p)=>(r(p.y,h)&&(h=p.y),h),a?0:1/0),c=(h,p,u,d,g)=>(h-p)/(u-p)*(g-d)+d;this.ctx.animationManager.animate({id:`${this.id}_connectors`,groupId:this.id,phase:"initial",from:n,to:l,ease:import_ag_charts_community58._ModuleSupport.Motion.easeOut,collapsable:!1,onUpdate(h){o.clear(!0),t.forEach((p,u)=>{const d=c(h,n,l,n,p.y),g=c(h,n,l,n,p.y2);u!==0&&o.lineTo(p.x,d),o.moveTo(p.x2,g)}),i.checkPathDirty()},onStop:()=>this.resetConnectorLinesPath(e)})}animateReadyResize(e){super.animateReadyResize(e),this.resetConnectorLinesPath(e)}updatePaths(e){this.resetConnectorLinesPath({contextData:e.contextData,paths:e.paths})}resetConnectorLinesPath({contextData:e,paths:t}){if(t.length===0)return;const[i]=t;this.updateLineNode(i);const{path:o}=i;o.clear(!0);const{pointData:s}=e;s&&(s.forEach((a,r)=>{r!==0&&o.lineTo(a.x,a.y),o.moveTo(a.x2,a.y2)}),i.checkPathDirty())}updateLineNode(e){const{stroke:t,strokeWidth:i,strokeOpacity:o,lineDash:s,lineDashOffset:a}=this.properties.line;e.setProperties({fill:void 0,stroke:t,strokeWidth:i,strokeOpacity:o,lineDash:s,lineDashOffset:a,lineJoin:"round",pointerEvents:import_ag_charts_community58._ModuleSupport.PointerEvents.None})}isLabelEnabled(){const{positive:e,negative:t,total:i}=this.properties.item;return e.label.enabled||t.label.enabled||i.label.enabled}onDataChange(){}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds5(this,this.contextNodeData?.nodeData[e])}hasItemStylers(){const{positive:e,negative:t,total:i}=this.properties.item;return e.itemStyler!=null||t.itemStyler!=null||i.itemStyler!=null}};WaterfallSeries.className="WaterfallSeries",WaterfallSeries.type="waterfall";var import_ag_charts_community59=require("ag-charts-community"),import_ag_charts_core19=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs7,waterfallSeriesThemeableOptionsDef}=import_ag_charts_community59._ModuleSupport,waterfallSeriesOptionsDef={...waterfallSeriesThemeableOptionsDef,...commonSeriesOptionsDefs7,type:(0,import_ag_charts_core19.required)((0,import_ag_charts_core19.constant)("waterfall")),xKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),yKey:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string),xName:import_ag_charts_core19.string,yName:import_ag_charts_core19.string,totals:(0,import_ag_charts_core19.arrayOfDefs)({totalType:(0,import_ag_charts_core19.required)((0,import_ag_charts_core19.union)("total","subtotal")),index:(0,import_ag_charts_core19.required)(import_ag_charts_core19.positiveNumber),axisLabel:(0,import_ag_charts_core19.required)(import_ag_charts_core19.string)},"a total definition options array")},import_ag_charts_community60=require("ag-charts-community"),{FILL_GRADIENT_LINEAR_SHADED_DEFAULTS:FILL_GRADIENT_LINEAR_SHADED_DEFAULTS2,FILL_IMAGE_DEFAULTS:FILL_IMAGE_DEFAULTS3,FILL_PATTERN_DEFAULTS:FILL_PATTERN_DEFAULTS3}=import_ag_charts_community60._ModuleSupport;function itemTheme2(e,t){return{fill:{$applySwitch:[{$path:"type"},{$if:[{$eq:[{$palette:"type"},"user-indexed"]},{$path:[`/${t}`,{$palette:"fill"},{$palette:"fills"}]},{$palette:`${e}.fill`}]},["gradient",FILL_GRADIENT_LINEAR_SHADED_DEFAULTS2(e)],["image",FILL_IMAGE_DEFAULTS3],["pattern",FILL_PATTERN_DEFAULTS3]]},stroke:{$palette:`${e}.stroke`},strokeWidth:{$isUserOption:["./stroke",2,0]},label:{...import_ag_charts_community60._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},formatter:void 0,placement:"outside-end",padding:{$isUserOption:["./spacing",0,6]}}}}var WATERFALL_SERIES_THEME={series:{item:{positive:itemTheme2("altUp",0),negative:itemTheme2("altDown",1),total:itemTheme2("neutral",2)},line:{stroke:{$palette:"neutral.stroke"},strokeOpacity:1,lineDash:[0],lineDashOffset:0,strokeWidth:2},highlight:import_ag_charts_community60._ModuleSupport.singleSeriesHighlightStyle()},legend:{enabled:!0,toggleSeries:!1}},WaterfallModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["cartesian"],identifier:"waterfall",solo:!0,moduleFactory:e=>new WaterfallSeries(e),defaultAxes:import_ag_charts_community61._ModuleSupport.DIRECTION_SWAP_AXES,themeTemplate:WATERFALL_SERIES_THEME},WaterfallSeriesModule={type:"series",name:"waterfall",chartType:"cartesian",enterprise:!0,options:waterfallSeriesOptionsDef,create:e=>new WaterfallSeries(e)},{NewAreaSeriesModule,NewBarSeriesModule,NewBubbleSeriesModule,NewHistogramSeriesModule,NewLineSeriesModule,NewScatterSeriesModule,numberFormatValidator,without:without2}=import_ag_charts_community62._ModuleSupport,navigatorHandleOptionsDef={width:import_ag_charts_core20.positiveNumber,height:import_ag_charts_core20.positiveNumber,grip:import_ag_charts_core20.boolean,fill:import_ag_charts_core20.color,stroke:import_ag_charts_core20.color,strokeWidth:import_ag_charts_core20.positiveNumber,cornerRadius:import_ag_charts_core20.positiveNumber},commonIgnoredMiniChartProperties=["cursor","highlightStyle","listeners","nodeClickRange","showInLegend","showInMiniChart","tooltip","visible","xName","yName"],barIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"errorBar","label","legendItemName","direction"],boxPlotIngnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"direction","legendItemName","minName","q1Name","medianName","q3Name","maxName"],bubbleIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"title","label","labelKey","labelName","sizeName"],heatmapIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"title","label","colorName","textAlign","verticalAlign","itemPadding","colorRange"],histogramIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"label"],lineIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"errorBar","title","label"],rangeAreaIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"label","yLowName","yHighName"],rangeBarIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"direction","label","yLowName","yHighName"],scatterIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"errorBar","title","label","labelKey","labelName"],waterfallIgnoredMiniChartProperties=[...commonIgnoredMiniChartProperties,"direction"],navigatorOptionsDef={enabled:import_ag_charts_core20.boolean,height:import_ag_charts_core20.positiveNumber,spacing:import_ag_charts_core20.positiveNumber,cornerRadius:import_ag_charts_core20.number,mask:{fill:import_ag_charts_core20.color,fillOpacity:import_ag_charts_core20.ratio,stroke:import_ag_charts_core20.color,strokeWidth:import_ag_charts_core20.positiveNumber},minHandle:navigatorHandleOptionsDef,maxHandle:navigatorHandleOptionsDef,miniChart:{enabled:import_ag_charts_core20.boolean,padding:{top:import_ag_charts_core20.positiveNumber,bottom:import_ag_charts_core20.positiveNumber},label:{enabled:import_ag_charts_core20.boolean,avoidCollisions:import_ag_charts_core20.boolean,spacing:import_ag_charts_core20.positiveNumber,format:numberFormatValidator,formatter:import_ag_charts_core20.callback,interval:{minSpacing:import_ag_charts_core20.positiveNumber,maxSpacing:import_ag_charts_core20.positiveNumber,values:import_ag_charts_core20.array,step:import_ag_charts_core20.number},...import_ag_charts_core20.fontOptionsDef},series:(0,import_ag_charts_core20.arrayOfDefs)((0,import_ag_charts_core20.typeUnion)({area:without2(NewAreaSeriesModule.options,[...commonIgnoredMiniChartProperties,"type"]),bar:without2(NewBarSeriesModule.options,[...barIgnoredMiniChartProperties,"type"]),"box-plot":without2(BoxPlotSeriesModule.options,[...boxPlotIngnoredMiniChartProperties,"type"]),bubble:without2(NewBubbleSeriesModule.options,[...bubbleIgnoredMiniChartProperties,"type"]),candlestick:without2(CandlestickSeriesModule.options,[...commonIgnoredMiniChartProperties,"type"]),heatmap:without2(HeatmapSeriesModule.options,[...heatmapIgnoredMiniChartProperties,"type"]),histogram:without2(NewHistogramSeriesModule.options,[...histogramIgnoredMiniChartProperties,"type"]),line:without2(NewLineSeriesModule.options,[...lineIgnoredMiniChartProperties,"type"]),ohlc:without2(OhlcSeriesModule.options,[...commonIgnoredMiniChartProperties,"type"]),"range-area":without2(RangeAreaSeriesModule.options,[...rangeAreaIgnoredMiniChartProperties,"type"]),"range-bar":without2(RangeBarSeriesModule.options,[...rangeBarIgnoredMiniChartProperties,"type"]),scatter:without2(NewScatterSeriesModule.options,[...scatterIgnoredMiniChartProperties,"type"]),waterfall:without2(WaterfallSeriesModule.options,[...waterfallIgnoredMiniChartProperties,"type"])},"miniChart series options"))}},{annotationOptionsDef}=import_ag_charts_community63._ModuleSupport,AnnotationsModule={type:"plugin",name:"annotations",chartType:"cartesian",options:annotationOptionsDef,create(){return null}},NavigatorModule={type:"plugin",name:"navigator",chartType:"cartesian",options:navigatorOptionsDef,create(){return null}},InitialStateModule={type:"plugin",name:"initialState",options:initialStateOptionsDef,create(){return null}},import_ag_charts_community69=require("ag-charts-community"),import_ag_charts_community67=require("ag-charts-community"),import_ag_charts_core22=require("ag-charts-core"),import_ag_charts_community64=require("ag-charts-community"),import_ag_charts_core21=require("ag-charts-core");function computeNodeGraph(e,t,i){i||(t=removeCircularLinks(t));const o=new Map;for(const a of e)o.set(a.id,{datum:a,linksBefore:[],linksAfter:[],maxPathLengthBefore:-1,maxPathLengthAfter:-1});let s=0;return o.forEach((a,r)=>{s=Math.max(s,computePathLength(o,t,a,r,-1,[])+computePathLength(o,t,a,r,1,[])+1)}),{links:t,nodeGraph:o,maxPathLength:s}}function findCircularLinks(e,t,i,o){const s=o.indexOf(t);if(s!==-1){for(let r=s;r<o.length;r+=1)i.add(o[r]);return}o.push(t);const{toNode:a}=t;for(const r of e)r.fromNode===a&&findCircularLinks(e,r,i,o);o.pop()}function removeCircularLinks(e){const t=new Set;for(const i of e)findCircularLinks(e,i,t,[]);return t.size!==0&&import_ag_charts_core21.Logger.warnOnce("Some links formed circular references. These will be removed from the output."),t.size===0?e:e.filter(i=>!t.has(i))}function computePathLength(e,t,i,o,s,a){if(a.includes(o))return 1/0;let r=s===-1?i.maxPathLengthBefore:i.maxPathLengthAfter;if(r===-1){r=0;const n=s===-1?i.linksBefore:i.linksAfter;for(const l of t){const{fromNode:c,toNode:h}=l,p=s===-1?h.id:c.id,u=s===-1?c.id:h.id,d=o===p?e.get(u):void 0;d!=null&&(n.push({node:d,link:l}),a?.push(o),r=Math.max(r,computePathLength(e,t,d,u,s,a)+1),a?.pop())}s===-1?i.maxPathLengthBefore=r:i.maxPathLengthAfter=r}return r}var{Series,DataController,keyProperty:keyProperty6,valueProperty:valueProperty7,Selection:Selection3,Group:Group5,TransformableText}=import_ag_charts_community64._ModuleSupport,FlowProportionSeriesNodeEvent=class extends import_ag_charts_community64._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o);const{datumIndex:s}=i,a=o.contextNodeData?.nodeData.find(r=>r.datumIndex.type===s.type&&r.datumIndex.index===s.index);this.size=a?.size,this.label=a?.type===1?a?.label:void 0}},FlowProportionSeries=class extends Series{constructor(){super(...arguments),this.NodeEvent=FlowProportionSeriesNodeEvent,this.nodeCount=0,this.linkCount=0,this.linksDataModel=void 0,this.linksProcessedData=void 0,this.nodesDataModel=void 0,this.nodesProcessedData=void 0,this.processedNodes=new Map,this.linkGroup=this.contentGroup.appendChild(new Group5({name:"linkGroup"})),this.nodeGroup=this.contentGroup.appendChild(new Group5({name:"nodeGroup"})),this.focusLinkGroup=this.highlightGroup.appendChild(new Group5({name:"linkGroup"})),this.focusNodeGroup=this.highlightGroup.appendChild(new Group5({name:"nodeGroup"})),this.highlightLinkGroup=this.highlightGroup.appendChild(new Group5({name:"linkGroup"})),this.highlightNodeGroup=this.highlightGroup.appendChild(new Group5({name:"nodeGroup"})),this.labelSelection=Selection3.select(this.labelGroup,TransformableText),this.linkSelection=Selection3.select(this.linkGroup,()=>this.linkFactory()),this.nodeSelection=Selection3.select(this.nodeGroup,()=>this.nodeFactory()),this.focusLinkSelection=Selection3.select(this.focusLinkGroup,()=>this.linkFactory()),this.focusNodeSelection=Selection3.select(this.focusNodeGroup,()=>this.nodeFactory()),this.highlightLinkSelection=Selection3.select(this.highlightLinkGroup,()=>this.linkFactory()),this.highlightNodeSelection=Selection3.select(this.highlightNodeGroup,()=>this.nodeFactory())}get nodes(){return this.properties.nodes}async processData(e){const{data:t,nodes:i}=this;if(t==null)return;const{fromKey:o,toKey:s,sizeKey:a,idKey:r,labelKey:n}=this.properties,l=new DataController("standalone",e.suppressFieldDotNotation),c=i!=null?l.request(this.id,i,{props:[keyProperty6(r,void 0,{id:"idValue",includeProperty:!1}),...n!=null?[valueProperty7(n,void 0,{id:"labelValue",includeProperty:!1})]:[]],groupByKeys:!0}):null,h=e.request(this.id,t,{props:[valueProperty7(o,void 0,{id:"fromValue",includeProperty:!1}),valueProperty7(s,void 0,{id:"toValue",includeProperty:!1}),...a!=null?[valueProperty7(a,void 0,{id:"sizeValue",includeProperty:!1,missingValue:0})]:[]],groupByKeys:!1});i!=null&&l.execute();const[p,u]=await Promise.all([c,h]);this.nodesDataModel=p?.dataModel,this.nodesProcessedData=p?.processedData,this.linksDataModel=u?.dataModel,this.linksProcessedData=u?.processedData;const d=new Map;if(p==null){const g=u.dataModel.resolveColumnById(this,"fromValue",u.processedData),y=u.dataModel.resolveColumnById(this,"toValue",u.processedData),m=f=>{const b=d.size,v=f;return{series:this,itemId:void 0,datum:{},datumIndex:{type:1,index:b},type:1,index:b,linksBefore:[],linksAfter:[],id:f,size:0,label:v,style:this.getNodeStyle({datumIndex:{type:1,index:b},datum:{},size:0,label:v},b,!1)}};u.processedData.dataSources.get(this.id)?.forEach((f,b)=>{const v=g[b],S=y[b];v==null||S==null||(d.has(v)||d.set(v,m(v)),d.has(S)||d.set(S,m(S)))})}else{const g=p.dataModel.resolveColumnById(this,"idValue",p.processedData),y=n!=null?p.dataModel.resolveColumnById(this,"labelValue",p.processedData):void 0;p.processedData.dataSources.get(this.id)?.forEach((m,f)=>{const b=g[f],v=y?.[f],S={type:1,index:f};d.set(b,{series:this,itemId:void 0,datum:m,datumIndex:S,type:1,index:f,linksBefore:[],linksAfter:[],id:b,size:0,label:v,style:this.getNodeStyle({datumIndex:S,datum:m,size:0,label:v},f,!1)})})}this.processedNodes=d}getNodeGraph(e,t,{includeCircularReferences:i}){const{linksDataModel:o,linksProcessedData:s}=this;if(o==null||s==null){const{links:g,nodeGraph:y,maxPathLength:m}=computeNodeGraph(new Map().values(),[],i);return this.nodeCount=0,this.linkCount=0,{nodeGraph:y,links:g,maxPathLength:m}}const{sizeKey:a}=this.properties,r=o.resolveColumnById(this,"fromValue",s),n=o.resolveColumnById(this,"toValue",s),l=a!=null?o.resolveColumnById(this,"sizeValue",s):void 0,c=new Map;this.processedNodes.forEach(g=>{const y=e(g);c.set(g.id,y)});const h=[];s.dataSources.get(this.id)?.forEach((g,y)=>{const m=r[y],f=n[y],b=l!=null?l[y]:1,v=c.get(m),S=c.get(f);if(b<=0||v==null||S==null)return;const D={type:0,index:y},_=t({series:this,itemId:void 0,datum:g,datumIndex:D,type:0,index:y,fromNode:v,toNode:S,size:b,style:this.getLinkStyle({datum:g,datumIndex:D},v.datumIndex,!1)});h.push(_)});const{links:p,nodeGraph:u,maxPathLength:d}=computeNodeGraph(c.values(),h,i);return u.forEach(g=>{g.datum.linksBefore=g.linksBefore.map(y=>y.link),g.datum.linksAfter=g.linksAfter.map(y=>y.link)}),this.nodeCount=u.size,this.linkCount=p.length,{nodeGraph:u,links:p,maxPathLength:d}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(e){const{seriesRect:t}=e,i={seriesRectWidth:t?.width??0,seriesRectHeight:t?.height??0};(this._nodeDataDependencies==null||this._nodeDataDependencies.seriesRectWidth!==i.seriesRectWidth||this._nodeDataDependencies.seriesRectHeight!==i.seriesRectHeight)&&(this._nodeDataDependencies=i),this.updateSelections();const o=this.contextNodeData?.nodeData??[],s=this.contextNodeData?.labelData??[];let a=this.ctx.highlightManager?.getActiveHighlight();if(a?.series===this&&a.type==null){const{itemId:h}=a;a=h!=null?o.find(p=>p.type===1&&p.id===h):void 0}else a?.series!==this&&(a=void 0);this.contentGroup.visible=this.visible,this.contentGroup.opacity=a!=null?this.properties.highlight.unhighlightedItem.opacity??1:1,this.labelSelection=this.updateLabelSelection({labelData:s,labelSelection:this.labelSelection}),this.updateLabelNodes({labelSelection:this.labelSelection}),this.linkSelection=this.updateLinkSelection({nodeData:o.filter(h=>h.type===0),datumSelection:this.linkSelection}),this.updateLinkNodes({datumSelection:this.linkSelection,isHighlight:!1}),this.nodeSelection=this.updateNodeSelection({nodeData:o.filter(h=>h.type===1),datumSelection:this.nodeSelection}),this.updateNodeNodes({datumSelection:this.nodeSelection,isHighlight:!1});let r,n,l,c;a?.type===1?(r=o.filter(h=>h.type===0&&(h.toNode===a||h.fromNode===a)),n=r.map(h=>h.fromNode===a?h.toNode:h.fromNode),n.push(a),l=[],c=[a]):a?.type===0?(r=[a],n=[a.fromNode,a.toNode],l=[a],c=[]):(r=[],n=[],l=[],c=[]),this.focusLinkSelection=this.updateLinkSelection({nodeData:r,datumSelection:this.focusLinkSelection}),this.updateLinkNodes({datumSelection:this.focusLinkSelection,isHighlight:!1}),this.focusNodeSelection=this.updateNodeSelection({nodeData:n,datumSelection:this.focusNodeSelection}),this.updateNodeNodes({datumSelection:this.focusNodeSelection,isHighlight:!1}),this.highlightLinkSelection=this.updateLinkSelection({nodeData:l,datumSelection:this.highlightLinkSelection}),this.updateLinkNodes({datumSelection:this.highlightLinkSelection,isHighlight:!0}),this.highlightNodeSelection=this.updateNodeSelection({nodeData:c,datumSelection:this.highlightNodeSelection}),this.updateNodeNodes({datumSelection:this.highlightNodeSelection,isHighlight:!0})}resetAnimation(e){}dataCount(){return NaN}getSeriesDomain(e){return[]}getSeriesRange(e,t){return[NaN,NaN]}legendItemSymbol(e,t,i={}){const{fills:o,strokes:s}=this.properties,{fill:a=o[t%o.length],fillOpacity:r=1,stroke:n=s[t%s.length],strokeWidth:l=0,strokeOpacity:c=1,lineDash:h=[0],lineDashOffset:p=0}=i;return{marker:{fill:a,fillOpacity:r,stroke:n,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}}}getLegendData(e){if(e!=="category")return[];const{showInLegend:t}=this.properties;return Array.from(this.processedNodes.values(),({id:i,label:o},s)=>({legendType:"category",id:this.id,itemId:i,seriesId:this.id,enabled:!0,label:{text:o??i},symbol:this.legendItemSymbol(1,s),hideInLegend:!t,isFixed:!0}))}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.linkSelection.each((s,a)=>{const r=s.distanceSquared(e,t);r<i&&(i=r,o=a)}),this.nodeSelection.each((s,a)=>{const r=s.distanceSquared(e,t);r<i&&(i=r,o=a)}),o!=null?{datum:o,distance:Math.sqrt(i)}:void 0}getDatumAriaText(e,t){if(e.type===0)return this.ctx.localeManager.t("ariaAnnounceFlowProportionLink",{index:e.index+1,count:this.linkCount,from:e.fromNode.id,to:e.toNode.id,size:e.size,sizeName:this.properties.sizeName??this.properties.sizeKey});if(e.type===1)return this.ctx.localeManager.t("ariaAnnounceFlowProportionNode",{index:e.index+1,count:this.nodeCount,description:t})}pickFocus(e){const{datumIndexDelta:t,otherIndexDelta:i}=e,o=this.contextNodeData?.nodeData[e.datumIndex-e.datumIndexDelta];let s=o;if(i!==0||t===0)return;if(o?.type===0){const n=Array.from(this.linkSelection,h=>h.datum),c=n.indexOf(o)+t;if(c>=0&&c<n.length)s=n[c];else if(c>0)s=n[n.length-1];else{const h=Array.from(this.nodeSelection,p=>p.datum);s=h[h.length-1]}}else if(o?.type===1){const n=Array.from(this.nodeSelection,h=>h.datum),c=n.indexOf(o)+t;c>=0&&c<n.length?s=n[c]:c<0?s=n[0]:s=Array.from(this.linkSelection,p=>p.datum)[0]}if(s==null)return;const a=s.type===1?Array.from(this.nodeSelection).find(n=>n.datum===s):Array.from(this.linkSelection).find(n=>n.datum===s);if(a==null)return;const r=this.computeFocusBounds(a.node);if(r!=null)return{datum:a.datum,datumIndex:this.contextNodeData?.nodeData.indexOf(a.datum)??0,otherIndex:0,bounds:r,clipFocusBox:!0}}getCategoryValue(e){}datumIndexForCategoryValue(e){}},import_ag_charts_community65=require("ag-charts-community"),{Path:Path7,SceneChangeDetection:SceneChangeDetection4}=import_ag_charts_community65._ModuleSupport;function bezierControlPoints({radius:e,startAngle:t,endAngle:i,tension:o}){const s=e*Math.cos(t),a=e*Math.sin(t),r=e*Math.cos(i),n=e*Math.sin(i),l=s*o,c=a*o,h=r*o,p=n*o;return{x:[s,l,h,r],y:[a,c,p,n]}}var ChordLink=class extends Path7{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.radius=0,this.startAngle1=0,this.endAngle1=0,this.startAngle2=0,this.endAngle2=0,this.tension=1}tensionedCurveTo(e,t,i,o,s,a,r,n){const{path:l,tension:c}=this,h=1-c;l.cubicCurveTo((i-e)*h+e,(o-t)*h+t,(s-r)*h+r,(a-n)*h+n,r,n)}updatePath(){const{path:e,centerX:t,centerY:i,radius:o}=this;let{startAngle1:s,endAngle1:a,startAngle2:r,endAngle2:n}=this;s>r&&([s,r]=[r,s],[a,n]=[n,a]),e.clear();const l=t+o*Math.cos(s),c=i+o*Math.sin(s);e.moveTo(l,c),this.tensionedCurveTo(l,c,t,i,t,i,t+o*Math.cos(n),i+o*Math.sin(n)),e.arc(t,i,o,n,r,!0),this.tensionedCurveTo(t+o*Math.cos(r),i+o*Math.sin(r),t,i,t,i,t+o*Math.cos(a),i+o*Math.sin(a)),e.arc(t,i,o,a,s,!0),e.closePath()}};__decorateClass([SceneChangeDetection4()],ChordLink.prototype,"centerX",2),__decorateClass([SceneChangeDetection4()],ChordLink.prototype,"centerY",2),__decorateClass([SceneChangeDetection4()],ChordLink.prototype,"radius",2),__decorateClass([SceneChangeDetection4()],ChordLink.prototype,"startAngle1",2),__decorateClass([SceneChangeDetection4()],ChordLink.prototype,"endAngle1",2),__decorateClass([SceneChangeDetection4()],ChordLink.prototype,"startAngle2",2),__decorateClass([SceneChangeDetection4()],ChordLink.prototype,"endAngle2",2),__decorateClass([SceneChangeDetection4()],ChordLink.prototype,"tension",2);var import_ag_charts_community66=require("ag-charts-community"),{FillGradientDefaults,FillPatternDefaults,FillImageDefaults,BaseProperties:BaseProperties6,makeSeriesTooltip:makeSeriesTooltip8,SeriesProperties,Property:Property20,Label:Label4}=import_ag_charts_community66._ModuleSupport,ChordSeriesLabelProperties=class extends Label4{constructor(){super(...arguments),this.spacing=1,this.maxWidth=1}};__decorateClass([Property20],ChordSeriesLabelProperties.prototype,"spacing",2),__decorateClass([Property20],ChordSeriesLabelProperties.prototype,"maxWidth",2);var ChordSeriesLinkProperties=class extends BaseProperties6{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0,this.tension=0}getStyle(e,t,i){const{fillOpacity:o,strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n,tension:l}=this,c=this.fill??e[i%e.length],h=this.stroke??t[i%e.length];return{fill:c,fillOpacity:o,stroke:h,strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n,tension:l}}};__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"fill",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"fillOpacity",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"stroke",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"strokeOpacity",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"strokeWidth",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"lineDash",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"lineDashOffset",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"tension",2),__decorateClass([Property20],ChordSeriesLinkProperties.prototype,"itemStyler",2);var ChordSeriesNodeProperties=class extends BaseProperties6{constructor(){super(...arguments),this.spacing=1,this.width=1,this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(e,t,i){const{fillOpacity:o,strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n}=this,l=this.fill??e[i%e.length],c=this.stroke??t[i%e.length];return{fill:l,fillOpacity:o,stroke:c,strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n}}};__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"spacing",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"width",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"fill",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"fillOpacity",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"stroke",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"strokeOpacity",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"strokeWidth",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"lineDash",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"lineDashOffset",2),__decorateClass([Property20],ChordSeriesNodeProperties.prototype,"itemStyler",2);var ChordSeriesProperties=class extends SeriesProperties{constructor(){super(),this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.nodes=void 0,this.fillGradientDefaults=new FillGradientDefaults,this.fillPatternDefaults=new FillPatternDefaults,this.fillImageDefaults=new FillImageDefaults,this.fills=[],this.strokes=[],this.label=new ChordSeriesLabelProperties,this.link=new ChordSeriesLinkProperties,this.node=new ChordSeriesNodeProperties,this.tooltip=makeSeriesTooltip8(),this.highlightStyle.deprecated=!1}};__decorateClass([Property20],ChordSeriesProperties.prototype,"fromKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"toKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"idKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"idName",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"labelKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"labelName",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"sizeKey",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"sizeName",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"nodes",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"fills",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"strokes",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"label",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"link",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"node",2),__decorateClass([Property20],ChordSeriesProperties.prototype,"tooltip",2);var{SeriesNodePickMode:SeriesNodePickMode6,createDatumId:createDatumId6,angleBetween:angleBetween2,normalizeAngle360:normalizeAngle3604,isBetweenAngles,Sector:Sector3,evaluateBezier,applyShapeStyle:applyShapeStyle7,getShapeStyle,getLabelStyles,BBox:BBox6,mergeDefaults:mergeDefaults8}=import_ag_charts_community67._ModuleSupport,nodeMidAngle=e=>e.startAngle+angleBetween2(e.startAngle,e.endAngle)/2,ChordSeries=class extends FlowProportionSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode6.NEAREST_NODE,SeriesNodePickMode6.EXACT_SHAPE_MATCH]}),this.properties=new ChordSeriesProperties}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new ChordLink}nodeFactory(){return new Sector3}createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0},properties:o}=this,{fromKey:s,toKey:a,sizeKey:r,labelKey:n,label:{spacing:l,maxWidth:c,fontSize:h},node:{width:p,spacing:u}}=o,d=t/2,g=i/2;let y=[];const{nodeGraph:m,links:f}=this.getNodeGraph(N=>({...N,centerX:d,centerY:g,innerRadius:NaN,outerRadius:NaN,startAngle:NaN,endAngle:NaN}),N=>({...N,centerX:d,centerY:g,radius:NaN,startAngle1:NaN,endAngle1:NaN,startAngle2:NaN,endAngle2:NaN}),{includeCircularReferences:!0});let b=0;m.forEach(({datum:N,linksBefore:w,linksAfter:P},T)=>{const E=w.reduce((O,{link:F})=>O+F.size,0)+P.reduce((O,{link:F})=>O+F.size,0);if(E===0)m.delete(T);else{const{label:O}=o;N.size=E,b+=N.size,N.label=O.enabled?this.getLabelText(N.label,N.datum,n,"label",[],O,{datum:N.datum,value:N.label,fromKey:s,toKey:a,sizeKey:r,size:N.size}):void 0}});let v=0;if(this.isLabelEnabled()){const N=(0,import_ag_charts_core22.cachedTextMeasurer)(this.properties.label);let w=0;m.forEach(({datum:P})=>{const{id:T,label:E}=P;if(E==null)return;const O=(0,import_ag_charts_core22.wrapText)(E,{maxWidth:c,font:this.properties.label,textWrap:"never"}),{width:F}=N.measureText(O);w=Math.max(F,w),y.push({id:T,text:O,centerX:d,centerY:g,angle:NaN,radius:NaN,size:P.size})}),v=w+l}const S=m.size;let D=Math.min(t,i)/2-p-v,_=u/D;if(v!==0&&(S*_>=1.5*Math.PI||D<=0)&&(y=[],D=Math.min(t,i)/2-p,_=u/D),S*_>=2*Math.PI||D<=0){import_ag_charts_core22.Logger.warnOnce("There was insufficient space to display the Chord Series.");return}const k=D,x=D+p,M=Math.max((2*Math.PI-S*_)/b,0);let A=0;m.forEach(({datum:N})=>{N.innerRadius=k,N.outerRadius=x,N.startAngle=A,N.endAngle=A+N.size*M,A=N.endAngle+_;const w=(N.innerRadius+N.outerRadius)/2,P=nodeMidAngle(N);N.midPoint={x:N.centerX+w*Math.cos(P),y:N.centerY+w*Math.sin(P)}});const I=[];m.forEach(({datum:N,linksBefore:w,linksAfter:P})=>{const T=nodeMidAngle(N),E=[...w.map(F=>({link:F.link,distance:angleBetween2(nodeMidAngle(F.node.datum),T),after:!1})),...P.map(F=>({link:F.link,distance:angleBetween2(nodeMidAngle(F.node.datum),T),after:!0}))];let O=N.startAngle;E.toSorted((F,G)=>F.distance-G.distance).forEach(({link:F,after:G})=>{const B=F.size*M;G?(F.startAngle1=O,F.endAngle1=O+B):(F.startAngle2=O,F.endAngle2=O+B),O+=F.size*M}),I.push(N)});const{tension:L}=this.properties.link;f.forEach(N=>{N.radius=D;const w=bezierControlPoints({radius:D,startAngle:N.startAngle1,endAngle:N.endAngle2,tension:L}),P=bezierControlPoints({radius:D,startAngle:N.startAngle2,endAngle:N.endAngle1,tension:L}),T=evaluateBezier(...w.x,.5),E=evaluateBezier(...w.y,.5),O=evaluateBezier(...P.x,.5),F=evaluateBezier(...P.y,.5);N.midPoint={x:N.centerX+(T+O)/2,y:N.centerY+(E+F)/2},I.push(N)}),y.forEach(N=>{const w=m.get(N.id)?.datum;w!=null&&(N.radius=x+l,N.angle=normalizeAngle3604(w.startAngle+angleBetween2(w.startAngle,w.endAngle)/2))}),y.sort((N,w)=>N.angle-w.angle);let R=1/0,C=-1/0;return y=y.filter(N=>{const w=(0,import_ag_charts_core22.calcLineHeight)(h),P=Math.atan2(w/2,N.radius),T=N.angle-P,E=N.angle+P;return isBetweenAngles(R,T,E)||isBetweenAngles(C,T,E)?!1:(R=Math.min(T,R),C=Math.max(E,C),!0)}),{itemId:e,nodeData:I,labelData:y}}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const t={toKey:this.properties.toKey,fromKey:this.properties.fromKey,sizeKey:this.properties.sizeKey,size:NaN},i=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((o,{size:s,text:a,centerX:r,centerY:n,radius:l,angle:c})=>{t.size=s;const h=getLabelStyles(this,void 0,t,this.properties.label,!1,i),{fontStyle:p,fontWeight:u,fontSize:d,fontFamily:g,color:y}=h;o.visible=!0,o.translationX=r+l*Math.cos(c),o.translationY=n+l*Math.sin(c),o.text=a,o.fill=y,o.fontStyle=p,o.fontWeight=u,o.fontSize=d,o.fontFamily=g,o.textBaseline="middle",Math.cos(c)>=0?(o.textAlign="left",o.rotation=c):(o.textAlign="right",o.rotation=c-Math.PI),o.setBoxing(h)})}updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId6(t.type,t.id))}getNodeStyle({datumIndex:e,datum:t,size:i=0,label:o},s,a){const{id:r,properties:n}=this,{fills:l,strokes:c,fillGradientDefaults:h,fillPatternDefaults:p,fillImageDefaults:u}=n,{itemStyler:d}=n.node,g=this.getHighlightStyle(a,e),y=mergeDefaults8(g,n.node.getStyle(l,c,s));let m=getShapeStyle(y,h,p,u);if(d!=null&&e!=null){const f=this.ctx.highlightManager?.getActiveHighlight(),b=this.cachedDatumCallback(createDatumId6(e.index,"node",a?"highlight":"node"),()=>{const v=this.getHighlightStateString(f,a,e);return this.callWithContext(d,{seriesId:r,datum:t,highlighted:a,highlightState:v,...m,size:i,label:o})});b&&(m=getShapeStyle(mergeDefaults8(b,m),h,p,u))}return m.opacity=1,m}updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getShapeFillBBox();t.each((s,a)=>{const{datumIndex:r}=a,n=this.getNodeStyle(a,r.index,i);applyShapeStyle7(s,n,o),s.centerX=a.centerX,s.centerY=a.centerY,s.innerRadius=a.innerRadius,s.outerRadius=a.outerRadius,s.startAngle=a.startAngle,s.endAngle=a.endAngle,s.inset=s.strokeWidth/2})}updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId6(t.type,t.index,t.fromNode.id,t.toNode.id))}getLinkStyle({datumIndex:e,datum:t},i,o){const{id:s,properties:a}=this,{fills:r,strokes:n,fillGradientDefaults:l,fillPatternDefaults:c,fillImageDefaults:h}=a,{itemStyler:p}=a.link,u=this.getHighlightStyle(o,e),d=mergeDefaults8(u,a.link.getStyle(r,n,i.index));let g=getShapeStyle(d,l,c,h);if(p!=null&&e!=null){const y=this.ctx.highlightManager?.getActiveHighlight(),m=this.cachedDatumCallback(createDatumId6(e.index,"link",o?"highlight":"node"),()=>{const f=this.getHighlightStateString(y,o,i);return this.callWithContext(p,{seriesId:s,datum:t,highlighted:o,highlightState:f,...g})});m&&(g=getShapeStyle(mergeDefaults8(m,g),l,c,h))}return g.opacity=1,g}updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getShapeFillBBox();t.each((s,a)=>{const r=a.fromNode.datumIndex,n=this.getLinkStyle(a,r,i);s.centerX=a.centerX,s.centerY=a.centerY,s.radius=a.radius,s.startAngle1=a.startAngle1,s.endAngle1=a.endAngle1,s.startAngle2=a.startAngle2,s.endAngle2=a.endAngle2,s.tension=n.tension,applyShapeStyle7(s,n,o)})}getShapeFillBBox(){const e=this._nodeDataDependencies?.seriesRectWidth??0,t=this._nodeDataDependencies?.seriesRectHeight??0,i=Math.min(e,t),o=(e-i)/2,s=(t-i)/2,a=new BBox6(o,s,e,t);return{series:a,axis:a}}getTooltipContent(e){const{id:t,linksProcessedData:i,nodesProcessedData:o,properties:s,ctx:{formatManager:a}}=this,{fromKey:r,toKey:n,sizeKey:l,sizeName:c,tooltip:h}=s,p=this.contextNodeData?.nodeData.find(b=>b.datumIndex.type===e.type&&b.datumIndex.index===e.index);if(p==null)return;const u=p.type===0?p.fromNode.index:p.index,d=p.type===0?`${p.fromNode.label} - ${p.toNode.label}`:p.label,g=e.type===0?i?.dataSources.get(this.id)?.[e.index]:o?.dataSources.get(this.id)?.[e.index],y=p.size;let m;if(p.type===0){const b=p.fromNode.datumIndex;m=this.getLinkStyle({datumIndex:e,datum:g},b,!1)}else{const b=p.label;m=this.getNodeStyle({datumIndex:e,datum:g,size:y,label:b},e.index,!1)}const f=[];if(l!=null){const b=a.format(this.callWithContext.bind(this),{type:"number",value:y,datum:g,seriesId:t,legendItemName:void 0,key:l,source:"tooltip",property:"size",domain:[],boundSeries:this.getFormatterContext("size"),fractionDigits:void 0});f.push({label:c,fallbackLabel:l,value:b??String(y)})}return this.formatTooltipWithContext(h,{title:d,symbol:this.legendItemSymbol(p.type,u,m),data:f},{seriesId:t,datum:g,title:d,fromKey:r,toKey:n,sizeKey:l,sizeName:c,size:y,...m})}computeFocusBounds(e){return e}hasItemStylers(){return this.properties.node.itemStyler!=null||this.properties.link.itemStyler!=null}};ChordSeries.className="ChordSeries",ChordSeries.type="chord";var import_ag_charts_community68=require("ag-charts-community"),import_ag_charts_core23=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs8,chordSeriesThemeableOptionsDef}=import_ag_charts_community68._ModuleSupport,chordSeriesOptionsDef={...chordSeriesThemeableOptionsDef,...commonSeriesOptionsDefs8,type:(0,import_ag_charts_core23.required)((0,import_ag_charts_core23.constant)("chord")),fromKey:(0,import_ag_charts_core23.required)(import_ag_charts_core23.string),toKey:(0,import_ag_charts_core23.required)(import_ag_charts_core23.string),sizeKey:import_ag_charts_core23.string,sizeName:import_ag_charts_core23.string};chordSeriesOptionsDef.fillGradientDefaults=(0,import_ag_charts_core23.undocumented)(import_ag_charts_core23.fillGradientDefaults),chordSeriesOptionsDef.fillPatternDefaults=(0,import_ag_charts_core23.undocumented)(import_ag_charts_core23.fillPatternDefaults),chordSeriesOptionsDef.fillImageDefaults=(0,import_ag_charts_core23.undocumented)(import_ag_charts_core23.fillImageDefaults);var ChordModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],solo:!0,identifier:"chord",moduleFactory:e=>new ChordSeries(e),themeTemplate:{series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:import_ag_charts_community69._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community69._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community69._ModuleSupport.FILL_IMAGE_DEFAULTS,highlightStyle:{series:{dimOpacity:.2}},highlight:import_ag_charts_community69._ModuleSupport.singleSeriesHighlightStyle(),label:{...import_ag_charts_community69._ModuleSupport.LABEL_BOXING_DEFAULTS,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:5,maxWidth:100},node:{spacing:8,width:10,strokeWidth:{$isUserOption:["./stroke",2,0]}},link:{fillOpacity:.5,strokeWidth:{$isUserOption:["./stroke",2,0]},tension:.4}},legend:{enabled:!1,toggleSeries:!1}}},ChordSeriesModule={type:"series",name:"chord",chartType:"standalone",enterprise:!0,options:chordSeriesOptionsDef,create:e=>new ChordSeries(e)},import_ag_charts_community70=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE7,CARTESIAN_POSITION:CARTESIAN_POSITION5},ThemeSymbols:{DEFAULT_SHADOW_COLOUR}}=import_ag_charts_community70._ModuleSupport,isHorizontal={$eq:[{$path:["/series/0/direction",void 0]},"horizontal"]},labelOptions={autoRotate:{$path:"/series/0/stageLabel/autoRotate"},autoRotateAngle:{$path:"/series/0/stageLabel/autoRotateAngle"},avoidCollisions:{$path:["/series/0/stageLabel/avoidCollisions",!0]},border:{$path:["/series/0/stageLabel/border"]},color:{$path:["/series/0/stageLabel/color",{$ref:"textColor"}]},cornerRadius:{$path:["/series/0/stageLabel/cornerRadius"]},enabled:{$if:[{$eq:[{$path:"/series/0/stageLabel/enabled"},void 0]},!0,{$path:"/series/0/stageLabel/enabled"}]},fill:{$path:["/series/0/stageLabel/fill"]},fillOpacity:{$path:["/series/0/stageLabel/fillOpacity"]},fontSize:{$path:["/series/0/stageLabel/fontSize",{$ref:"fontSize"}]},fontStyle:{$path:["/series/0/stageLabel/fontStyle",{$ref:"fontStyle"}]},fontWeight:{$path:["/series/0/stageLabel/fontWeight",{$ref:"fontWeight"}]},format:{$path:"/series/0/stageLabel/format"},formatter:{$path:"/series/0/stageLabel/formatter"},itemStyler:{$path:"/series/0/stageLabel/itemStyler"},minSpacing:{$path:"/series/0/stageLabel/minSpacing"},padding:{$path:["/series/0/stageLabel/padding"]},rotation:{$path:["/series/0/stageLabel/rotation",0]}},FUNNEL_SERIES_AXES=[{type:{$if:[isHorizontal,CARTESIAN_AXIS_TYPE7.NUMBER,CARTESIAN_AXIS_TYPE7.CATEGORY]},position:{$if:[isHorizontal,CARTESIAN_POSITION5.LEFT,{$if:[{$eq:[{$path:["/series/0/stageLabel/placement",void 0]},"after"]},CARTESIAN_POSITION5.RIGHT,CARTESIAN_POSITION5.LEFT]}]},label:{$if:[isHorizontal,void 0,labelOptions]}},{type:{$if:[isHorizontal,CARTESIAN_AXIS_TYPE7.CATEGORY,CARTESIAN_AXIS_TYPE7.NUMBER]},position:{$if:[isHorizontal,{$if:[{$eq:[{$path:["/series/0/stageLabel/placement",void 0]},"before"]},CARTESIAN_POSITION5.TOP,CARTESIAN_POSITION5.BOTTOM]},CARTESIAN_POSITION5.BOTTOM]},label:{$if:[isHorizontal,labelOptions,void 0]}}],FUNNEL_SERIES_THEME={series:{direction:"vertical",strokeWidth:{$isUserOption:["./strokes/0",2,0]},spacingRatio:.25,fills:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},[{$path:["/0",void 0,{$palette:"fills"}]}],{$applySwitch:[{$path:["/type",void 0,{$value:"$1"}]},{$value:"$1"},["gradient",import_ag_charts_community70._ModuleSupport.FILL_GRADIENT_LINEAR_SINGLE_DEFAULTS],["pattern",import_ag_charts_community70._ModuleSupport.FILL_PATTERN_SINGLE_DEFAULTS],["image",import_ag_charts_community70._ModuleSupport.FILL_IMAGE_DEFAULTS]]}]},strokes:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},[{$path:["/0",void 0,{$palette:"strokes"}]}]]},label:{...import_ag_charts_community70._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},dropOff:{enabled:!0,fillOpacity:.2,strokeWidth:{$isUserOption:["./stroke",2,0]}},shadow:{enabled:!1,color:DEFAULT_SHADOW_COLOUR,xOffset:3,yOffset:3,blur:5},highlight:import_ag_charts_community70._ModuleSupport.singleSeriesHighlightStyle()},axes:{[CARTESIAN_AXIS_TYPE7.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1}},[CARTESIAN_AXIS_TYPE7.CATEGORY]:{line:{enabled:!1}}}},import_ag_charts_community75=require("ag-charts-community"),import_ag_charts_community73=require("ag-charts-community"),import_ag_charts_community71=require("ag-charts-community"),{lineDistanceSquared,BBox:BBox7,Path:Path8,SceneChangeDetection:SceneChangeDetection5}=import_ag_charts_community71._ModuleSupport,delta=1e-6;function pointsEq([e,t],[i,o]){return Math.abs(e-i)<=delta&&Math.abs(t-o)<=delta}var FunnelConnector=class extends Path8{constructor(){super(...arguments),this.x0=0,this.y0=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.x3=0,this.y3=0}get midPoint(){const{x0:e,y0:t,x1:i,y1:o,x2:s,y2:a,x3:r,y3:n}=this;return{x:(e+i+s+r)/4,y:(t+o+a+n)/4}}distanceSquared(e,t){if(this.containsPoint(e,t))return 0;const{x0:i,y0:o,x1:s,y1:a,x2:r,y2:n,x3:l,y3:c}=this;return Math.min(lineDistanceSquared(e,t,i,o,s,a,1/0),lineDistanceSquared(e,t,s,a,r,n,1/0),lineDistanceSquared(e,t,r,n,l,c,1/0),lineDistanceSquared(e,t,l,c,i,o,1/0))}computeBBox(){const{x0:e,y0:t,x1:i,y1:o,x2:s,y2:a,x3:r,y3:n}=this,l=Math.min(e,i,s,r),c=Math.max(e,i,s,r)-l,h=Math.min(t,o,a,n),p=Math.max(t,o,a,n)-h;return new BBox7(l,h,c,p)}updatePath(){const{path:e,x0:t,y0:i,x1:o,y1:s,x2:a,y2:r,x3:n,y3:l}=this,c=[[t,i],[o,s],[a,r],[n,l]];e.clear();let h,p;c.forEach(u=>{if(h!=null&&pointsEq(h,u)||p!=null&&pointsEq(p,u))return;const[d,g]=u;h==null?e.moveTo(d,g):e.lineTo(d,g),h??(h=u),p=u}),e.closePath()}};__decorateClass([SceneChangeDetection5()],FunnelConnector.prototype,"x0",2),__decorateClass([SceneChangeDetection5()],FunnelConnector.prototype,"y0",2),__decorateClass([SceneChangeDetection5()],FunnelConnector.prototype,"x1",2),__decorateClass([SceneChangeDetection5()],FunnelConnector.prototype,"y1",2),__decorateClass([SceneChangeDetection5()],FunnelConnector.prototype,"x2",2),__decorateClass([SceneChangeDetection5()],FunnelConnector.prototype,"y2",2),__decorateClass([SceneChangeDetection5()],FunnelConnector.prototype,"x3",2),__decorateClass([SceneChangeDetection5()],FunnelConnector.prototype,"y3",2);var import_ag_charts_community72=require("ag-charts-community"),{NODE_UPDATE_STATE_TO_PHASE_MAPPING}=import_ag_charts_community72._ModuleSupport;function connectorStartingPosition(e,t,i,o){const{x0:s,y0:a,x1:r,y1:n,x2:l,y2:c,x3:h,y3:p,opacity:u}=e;return i?{x0:(s+h)/2,y0:(a+p)/2,x1:(r+l)/2,y1:(n+c)/2,x2:(r+l)/2,y2:(n+c)/2,x3:(s+h)/2,y3:(a+p)/2,opacity:u}:{x0:(s+r)/2,y0:(a+n)/2,x1:(s+r)/2,y1:(a+n)/2,x2:(l+h)/2,y2:(c+p)/2,x3:(l+h)/2,y3:(c+p)/2,opacity:u}}function prepareConnectorAnimationFunctions(e,t){const i=a=>a==null;return{fromFn:(a,r,n)=>{n==="updated"&&i(r)?n="removed":n==="updated"&&i(a.previousDatum)&&(n="added");let l;n==="added"&&a.previousDatum==null&&t==="fade"?l={...resetConnectorSelectionsFn(a,r),opacity:0}:n==="unknown"||n==="added"?l=connectorStartingPosition(r,a.previousDatum,e,t):l={x0:a.x0,y0:a.y0,x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2,x3:a.x3,y3:a.y3,opacity:a.opacity};const c=NODE_UPDATE_STATE_TO_PHASE_MAPPING[n];return{...l,phase:c}},toFn:(a,r,n)=>{let l;return n==="removed"&&a.datum==null&&t==="fade"?l={...resetConnectorSelectionsFn(a,r),opacity:0}:n==="removed"||i(r)?l=connectorStartingPosition(r,a.previousDatum,e,t):l=resetConnectorSelectionsFn(a,r),l}}}function resetConnectorSelectionsFn(e,t){const{x0:i,y0:o,x1:s,y1:a,x2:r,y2:n,x3:l,y3:c,opacity:h}=t;return{x0:i,y0:o,x1:s,y1:a,x2:r,y2:n,x3:l,y3:c,opacity:h}}var{SeriesNodePickMode:SeriesNodePickMode7,SeriesZIndexMap,valueProperty:valueProperty8,keyProperty:keyProperty7,ChartAxisDirection:ChartAxisDirection13,updateLabelNode:updateLabelNode5,SMALLEST_KEY_INTERVAL:SMALLEST_KEY_INTERVAL4,LARGEST_KEY_INTERVAL:LARGEST_KEY_INTERVAL2,diff:diff5,fixNumericExtent:fixNumericExtent6,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation4,resetMotion:resetMotion2,resetLabelFn:resetLabelFn4,animationValidation:animationValidation6,computeBarFocusBounds:computeBarFocusBounds6,ContinuousScale:ContinuousScale4,Group:Group6,Selection:Selection4,PointerEvents:PointerEvents4,motion:motion4,checkCrisp:checkCrisp3,createDatumId:createDatumId7,applyShapeStyle:applyShapeStyle8}=import_ag_charts_community73._ModuleSupport,FunnelSeriesNodeEvent=class extends import_ag_charts_community73._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.xKey=o.properties.stageKey,this.yKey=o.properties.valueKey}},BaseFunnelSeries=class extends import_ag_charts_community73._ModuleSupport.AbstractBarSeries{constructor({moduleCtx:e,animationResetFns:t}){super({moduleCtx:e,pickModes:[SeriesNodePickMode7.AXIS_ALIGNED,SeriesNodePickMode7.EXACT_SHAPE_MATCH],propertyKeys:{x:["stageKey"],y:["valueKey"]},propertyNames:{x:[],y:[]},categoryKey:"xValue",datumSelectionGarbageCollection:!1,animationResetFns:{datum:t.datum,label:resetLabelFn4}}),this.NodeEvent=FunnelSeriesNodeEvent,this.connectorNodeGroup=this.contentGroup.appendChild(new Group6({name:`${this.id}-series-connectorNodes`,zIndex:SeriesZIndexMap.BACKGROUND})),this.connectorSelection=Selection4.select(this.connectorNodeGroup,()=>this.connectionFactory()),this.connectorNodeGroup.pointerEvents=PointerEvents4.None}get pickModeAxis(){return"main-category"}setZIndex(e){return super.setZIndex(e),this.connectorNodeGroup.zIndex=[SeriesZIndexMap.BACKGROUND,e],!0}isVertical(){return!super.isVertical()}connectionFactory(){return new FunnelConnector}async processData(e){const{stageKey:t,valueKey:i}=this.properties,{visible:o,id:s}=this,a=(g,y,m)=>o&&this.ctx.legendManager.getItemEnabled({seriesId:s,itemId:m}),r=this.getCategoryAxis()?.scale,n=this.getValueAxis()?.scale,{isContinuousX:l,xScaleType:c,yScaleType:h}=this.getScaleInformation({xScale:r,yScale:n}),p=[];this.ctx.animationManager.isSkipped()||(this.processedData&&p.push(diff5(this.id,this.processedData)),p.push(animationValidation6()));const u=this.visible?{}:{forceValue:0},{processedData:d}=await this.requestDataModel(e,this.data,{props:[keyProperty7(t,c,{id:"xValue"}),valueProperty8(i,h,{id:"yValue",...u,validation:a,invalidValue:0}),...l?[SMALLEST_KEY_INTERVAL4,LARGEST_KEY_INTERVAL2]:[],...p],groupByKeys:!1});this.smallestDataInterval=d.reduced?.smallestKeyInterval,this.largestDataInterval=d.reduced?.largestKeyInterval,this.animationState.transition("updateData")}getSeriesDomain(e){const{processedData:t,dataModel:i,id:o,ctx:{legendManager:s}}=this;if(!t||!i)return[];const{keys:[a]}=t.domain;if(e===this.getCategoryDirection()){const r=i.resolveProcessedDataDefById(this,"xValue");return r?.def.type==="key"&&r?.def.valueType==="category"?this.hasData?a.filter((n,l)=>s.getItemEnabled({seriesId:o,itemId:l})):[]:this.padBandExtent(a)}else{const r=this.domainForClippedRange(e,["yValue"],"xValue"),n=Math.max(...r),l=[-n,n];return fixNumericExtent6(l)}}getSeriesRange(e,t){return[NaN,NaN]}createNodeData(){const{hasData:e,data:t,dataModel:i,groupScale:o,processedData:s,id:a,ctx:{legendManager:r}}=this,n=this.getCategoryAxis(),l=this.getValueAxis();if(!(e&&t&&n&&l&&i&&s?.type==="ungrouped"))return;const c=n.scale,h=l.scale,p=this.getBarDirection()===ChartAxisDirection13.X,{stageKey:u,valueKey:d}=this.properties,g=`${d}`,y={itemId:g,nodeData:[],labelData:[],connectorData:[],scales:this.calculateScaling(),groupScale:this.getScaling(this.groupScale),visible:this.visible},m=this.visible;if(!m)return y;const f=i.resolveKeysById(this,"xValue",s),b=i.resolveColumnById(this,"yValue",s),{barWidth:v,groupIndex:S}=this.updateGroupScale(n),D=ContinuousScale4.is(c)?v*-.5:0,_=checkCrisp3(n?.scale,n?.visibleRange,this.smallestDataInterval,this.largestDataInterval);let k;return(s.dataSources.get(this.id)??[]).forEach((M,A)=>{const I=m&&r.getItemEnabled({seriesId:a,itemId:A}),L=f[A];if(L==null)return;const R=Math.round(c.convert(L))+o.convert(String(S))+D,C=b[A],N=Math.round(h.convert(-C)),w=Math.round(h.convert(C)),P=this.getItemStyle({datum:M,datumIndex:A},!1),T=Math.max(P.strokeWidth??0,Math.abs(w-N)),E={x:p?Math.min(w,N):R,y:p?R:Math.min(w,N),width:p?T:v,height:p?v:T},O={x:E.x+E.width/2,y:E.y+E.height/2},F=this.createLabelData({datumIndex:A,rect:E,barAlongX:p,yDatum:C,datum:M,visible:I}),G={index:A,series:this,itemId:g,datum:M,datumIndex:A,xValue:L,yValue:C,xKey:u,yKey:d,x:E.x,y:E.y,width:E.width,height:E.height,midPoint:O,crisp:_,label:F,visible:I};if(y.nodeData.push(G),F!=null&&y.labelData.push(F),k!=null){const B=k.rect,V=k.nodeDatum,z=k.datumIndex;p?y.connectorData.push({datum:V,datumIndex:z,x0:B.x,y0:B.y+B.height,x1:B.x+B.width,y1:B.y+B.height,x2:E.x+E.width,y2:E.y,x3:E.x,y3:E.y,opacity:1}):y.connectorData.push({datum:V,datumIndex:z,x0:B.x+B.width,y0:B.y,x1:E.x,y1:E.y,x2:E.x,y2:E.y+E.height,x3:B.x+B.width,y3:B.y+B.height,opacity:1})}I&&(k={itemId:g,rect:E,nodeDatum:G,datumIndex:A})}),y}updateNodes(e,t){super.updateNodes(e,t);const{connectorSelection:i}=this,o=this.contextNodeData?.connectorData??[];this.connectorSelection=this.updateConnectorSelection({connectorSelection:i,connectorData:o}),this.updateConnectorNodes({connectorSelection:i})}updateDatumSelection(e){const{nodeData:t,datumSelection:i}=e,o=t??[];return i.update(o,void 0,s=>this.getDatumId(s))}updateConnectorSelection(e){const{connectorData:t,connectorSelection:i}=e;return i.update(this.connectorEnabled()?t:[],void 0,o=>this.getDatumId(o.datum))}updateConnectorNodes(e){const t=this.getShapeFillBBox();e.connectorSelection.each((i,o)=>{const{fill:s,fillOpacity:a,stroke:r,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:h}=this.connectorStyle(o.datumIndex);i.setProperties(resetConnectorSelectionsFn(i,o)),applyShapeStyle8(i,{fill:s,stroke:r,fillOpacity:a,strokeOpacity:n,strokeWidth:l,lineDash:c,lineDashOffset:h},t)})}updateLabelSelection(e){const t=this.properties.label.enabled?e.labelData:[];return e.labelSelection.update(t,i=>{i.pointerEvents=PointerEvents4.None})}updateLabelNodes(e){const t={stageKey:this.properties.stageKey,valueKey:this.properties.valueKey},i=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((o,s)=>{o.fillOpacity=this.getHighlightStyle(!1,s.datumIndex).opacity??1,updateLabelNode5(this,o,t,this.properties.label,s,!1,i)})}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:s}=this,{stageKey:a,valueKey:r,tooltip:n,legendItemName:l}=s,c=this.getCategoryAxis(),h=this.getValueAxis();if(!i||!o||!c||!h)return;const p=o.dataSources.get(this.id)?.[e],u=i.resolveKeysById(this,"xValue",o)[e],d=i.resolveColumnById(this,"yValue",o)[e];if(u!=null)return this.formatTooltipWithContext(n,{symbol:this.legendItemSymbol(e),data:[{label:this.getAxisValueText(c,"tooltip",u,p,a,l),value:this.getAxisValueText(h,"tooltip",d,p,r,l)}]},{seriesId:t,datum:p,title:a,stageKey:a,valueKey:r,...this.tooltipStyle(p,e)})}resetAllAnimation(e){super.resetAllAnimation(e),resetMotion2([this.connectorSelection],resetConnectorSelectionsFn)}animateEmptyUpdateReady({labelSelection:e}){const{connectorSelection:t}=this,i=this.isVertical(),s=prepareConnectorAnimationFunctions(i,"normal");motion4.fromToMotion(this.id,"connectors",this.ctx.animationManager,[t],s),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,e)}animateWaitingUpdateReady(e){const{labelSelection:t}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id),seriesLabelFadeInAnimation4(this,"labels",this.ctx.animationManager,t)}getDatumId(e){return createDatumId7(e.xValue)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e}){return computeBarFocusBounds6(this,this.contextNodeData?.nodeData[e])}legendItemSymbol(e){const{strokeWidth:t,fillOpacity:i,strokeOpacity:o,lineDash:s,lineDashOffset:a,fill:r,stroke:n}=this.properties.getStyle(e);return{marker:{fill:r,fillOpacity:i,stroke:n,strokeWidth:t,strokeOpacity:o,lineDash:s,lineDashOffset:a}}}getLegendData(e){const{id:t,processedData:i,dataModel:o,ctx:{legendManager:s},visible:a}=this;if(!o||!i||e!=="category")return[];const{showInLegend:r}=this.properties,n=o.resolveKeysById(this,"xValue",i);return(i.dataSources.get(this.id)??[]).map((l,c)=>{const h=n[c];if(h!=null)return{legendType:"category",id:t,datum:l,itemId:c,seriesId:t,enabled:a&&s.getItemEnabled({seriesId:t,itemId:c}),label:{text:String(h)},symbol:this.legendItemSymbol(c),skipAnimations:!0,hideInLegend:!r}}).filter(l=>l!=null)}hasItemStylers(){return this.properties.itemStyler!=null}},import_ag_charts_community74=require("ag-charts-community"),{Label:Label5,AbstractBarSeriesProperties:AbstractBarSeriesProperties5,makeSeriesTooltip:makeSeriesTooltip9,AxisLabel,Property:Property21}=import_ag_charts_community74._ModuleSupport,ConeFunnelSeriesLabel=class extends Label5{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property21],ConeFunnelSeriesLabel.prototype,"placement",2),__decorateClass([Property21],ConeFunnelSeriesLabel.prototype,"spacing",2);var ConeFunnelSeriesStageLabel=class extends AxisLabel{};__decorateClass([Property21],ConeFunnelSeriesStageLabel.prototype,"placement",2);var ConeFunnelProperties=class extends AbstractBarSeriesProperties5{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new ConeFunnelSeriesLabel,this.stageLabel=new ConeFunnelSeriesStageLabel,this.tooltip=makeSeriesTooltip9()}getStyle(e){const{fills:t,strokes:i,fillOpacity:o,strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n}=this;return{fill:t[e],fillOpacity:o,stroke:i[e],strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n,opacity:1}}};__decorateClass([Property21],ConeFunnelProperties.prototype,"stageKey",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"valueKey",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"fills",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"fillOpacity",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"strokes",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"strokeWidth",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"strokeOpacity",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"lineDash",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"lineDashOffset",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"label",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"stageLabel",2),__decorateClass([Property21],ConeFunnelProperties.prototype,"tooltip",2);function resetLineSelectionsFn(e,{x:t,y:i,width:o,height:s,opacity:a}){return{x1:t,y1:i,x2:t+o,y2:i+s,opacity:a??1}}var{Line:Line3,ChartAxisDirection:ChartAxisDirection14}=import_ag_charts_community75._ModuleSupport,ConeFunnelSeries=class extends BaseFunnelSeries{constructor(e){super({moduleCtx:e,animationResetFns:{datum:resetLineSelectionsFn}}),this.properties=new ConeFunnelProperties}get hasData(){const{id:e,ctx:{legendManager:t}}=this,i=this.data?.reduce((o,s,a)=>o+(t.getItemEnabled({seriesId:e,itemId:a})?1:0),0);return i!=null&&i>1}getBandScalePadding(){return{inner:1,outer:0}}connectorEnabled(){return!0}getItemStyle({datumIndex:e},t){return this.properties.getStyle(e)}connectorStyle(e){return this.properties.getStyle(e)}nodeFactory(){return new Line3}createLabelData({datumIndex:e,rect:t,barAlongX:i,yDatum:o,datum:s,visible:a}){const{stageKey:r,valueKey:n,label:l}=this.properties,{spacing:c,placement:h}=l;if(!l.enabled)return;let p,u,d,g;if(i)switch(p=t.x+t.width/2,d="center",h){case"before":u=t.y-c,g="bottom";break;case"after":u=t.y+t.height+c,g="top";break;default:u=t.y+t.height/2,g="middle"}else switch(u=t.y+t.height/2,g="middle",h){case"before":p=t.x-c,d="right";break;case"after":p=t.x+t.width+c,d="left";break;default:p=t.x+t.width/2,d="center"}const y=this.getSeriesDomain(ChartAxisDirection14.Y),m=this.getLabelText(o,s,n,"y",y,l,{itemId:n,value:o,datum:s,stageKey:r,valueKey:n});return{x:p,y:u,textAlign:d,textBaseline:g,text:m,itemId:n,datum:s,datumIndex:e,series:this,visible:a}}updateDatumNodes(e){const t=this.getHighlightStyle(e.isHighlight);e.datumSelection.each((i,o)=>{i.setProperties(resetLineSelectionsFn(i,o)),i.stroke=t?.stroke,i.strokeWidth=t?.strokeWidth??0,i.strokeOpacity=t?.strokeOpacity??1,i.lineDash=t?.lineDash,i.lineDashOffset=t?.lineDashOffset??0,i.opacity=t?.opacity??1})}tooltipStyle(e,t){const{fill:i,stroke:o,fillOpacity:s,strokeOpacity:a,strokeWidth:r,lineDash:n,lineDashOffset:l}=this.properties.getStyle(t);return{fill:i,fillOpacity:s,stroke:o,strokeOpacity:a,strokeWidth:r,lineDash:n,lineDashOffset:l}}hasItemStylers(){return this.properties.label.itemStyler!=null}};ConeFunnelSeries.className="ConeFunnelSeries",ConeFunnelSeries.type="cone-funnel";var import_ag_charts_community76=require("ag-charts-community"),import_ag_charts_core24=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs9,coneFunnelSeriesThemeableOptionsDef,without:without3}=import_ag_charts_community76._ModuleSupport,coneFunnelSeriesOptionsDef={...without3(commonSeriesOptionsDefs9,["showInLegend"]),...coneFunnelSeriesThemeableOptionsDef,type:(0,import_ag_charts_core24.required)((0,import_ag_charts_core24.constant)("cone-funnel")),stageKey:(0,import_ag_charts_core24.required)(import_ag_charts_core24.string),valueKey:(0,import_ag_charts_core24.required)(import_ag_charts_core24.string)},import_ag_charts_community77=require("ag-charts-community"),{ThemeConstants:{CARTESIAN_AXIS_TYPE:CARTESIAN_AXIS_TYPE8}}=import_ag_charts_community77._ModuleSupport,CONE_FUNNEL_SERIES_THEME={series:{direction:"vertical",fills:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"secondSequentialColors"},import_ag_charts_community77._ModuleSupport.SAFE_RANGE2_OPERATION]},{$applySwitch:[{$path:["/type",void 0,{$value:"$1"}]},{$value:"$1"},["gradient",import_ag_charts_community77._ModuleSupport.FILL_GRADIENT_LINEAR_SINGLE_DEFAULTS],["pattern",import_ag_charts_community77._ModuleSupport.FILL_PATTERN_SINGLE_DEFAULTS],["image",import_ag_charts_community77._ModuleSupport.FILL_IMAGE_DEFAULTS]]}]},strokes:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$palette:"secondSequentialColors"},import_ag_charts_community77._ModuleSupport.SAFE_RANGE2_OPERATION]}]},strokeWidth:{$isUserOption:["./strokes/0",2,0]},label:{...import_ag_charts_community77._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},placement:"before",spacing:4},tooltip:{range:{$path:["/tooltip/range","nearest"]}},highlight:import_ag_charts_community77._ModuleSupport.singleSeriesHighlightStyle(!1)},seriesArea:{padding:{top:20,bottom:20}},axes:{[CARTESIAN_AXIS_TYPE8.NUMBER]:{nice:!1,gridLine:{enabled:!1},crosshair:{enabled:!1},label:{enabled:!1}},[CARTESIAN_AXIS_TYPE8.CATEGORY]:{line:{enabled:!1}}}},ConeFunnelSeriesModule={type:"series",name:"cone-funnel",chartType:"cartesian",enterprise:!0,options:coneFunnelSeriesOptionsDef,create:e=>new ConeFunnelSeries(e)},import_ag_charts_community79=require("ag-charts-community"),import_ag_charts_community78=require("ag-charts-community"),{Label:Label6,DropShadow:DropShadow4,AbstractBarSeriesProperties:AbstractBarSeriesProperties6,BaseProperties:BaseProperties7,makeSeriesTooltip:makeSeriesTooltip10,AxisLabel:AxisLabel2,Property:Property22}=import_ag_charts_community78._ModuleSupport,FunnelSeriesLabel=class extends Label6{},FunnelSeriesStageLabel=class extends AxisLabel2{};__decorateClass([Property22],FunnelSeriesStageLabel.prototype,"placement",2);var FunnelDropOff=class extends BaseProperties7{constructor(){super(...arguments),this.enabled=!0,this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(){const{fill:e,stroke:t,fillOpacity:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r}=this;return{fill:e,fillOpacity:i,stroke:t,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,opacity:1}}};__decorateClass([Property22],FunnelDropOff.prototype,"enabled",2),__decorateClass([Property22],FunnelDropOff.prototype,"fill",2),__decorateClass([Property22],FunnelDropOff.prototype,"fillOpacity",2),__decorateClass([Property22],FunnelDropOff.prototype,"stroke",2),__decorateClass([Property22],FunnelDropOff.prototype,"strokeWidth",2),__decorateClass([Property22],FunnelDropOff.prototype,"strokeOpacity",2),__decorateClass([Property22],FunnelDropOff.prototype,"lineDash",2),__decorateClass([Property22],FunnelDropOff.prototype,"lineDashOffset",2);var FunnelProperties=class extends AbstractBarSeriesProperties6{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.spacingRatio=0,this.dropOff=new FunnelDropOff,this.shadow=new DropShadow4().set({enabled:!1}),this.label=new FunnelSeriesLabel,this.stageLabel=new FunnelSeriesStageLabel,this.tooltip=makeSeriesTooltip10()}getStyle(e){const{fills:t,strokes:i,fillOpacity:o,strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n}=this;return{fill:t[e],fillOpacity:o,stroke:i[e],strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n,opacity:1}}};__decorateClass([Property22],FunnelProperties.prototype,"stageKey",2),__decorateClass([Property22],FunnelProperties.prototype,"valueKey",2),__decorateClass([Property22],FunnelProperties.prototype,"fills",2),__decorateClass([Property22],FunnelProperties.prototype,"fillOpacity",2),__decorateClass([Property22],FunnelProperties.prototype,"strokes",2),__decorateClass([Property22],FunnelProperties.prototype,"strokeWidth",2),__decorateClass([Property22],FunnelProperties.prototype,"strokeOpacity",2),__decorateClass([Property22],FunnelProperties.prototype,"lineDash",2),__decorateClass([Property22],FunnelProperties.prototype,"lineDashOffset",2),__decorateClass([Property22],FunnelProperties.prototype,"spacingRatio",2),__decorateClass([Property22],FunnelProperties.prototype,"itemStyler",2),__decorateClass([Property22],FunnelProperties.prototype,"dropOff",2),__decorateClass([Property22],FunnelProperties.prototype,"shadow",2),__decorateClass([Property22],FunnelProperties.prototype,"label",2),__decorateClass([Property22],FunnelProperties.prototype,"stageLabel",2),__decorateClass([Property22],FunnelProperties.prototype,"tooltip",2);var{ChartAxisDirection:ChartAxisDirection15,resetBarSelectionsFn:resetBarSelectionsFn3,prepareBarAnimationFunctions:prepareBarAnimationFunctions3,midpointStartingBarPosition:midpointStartingBarPosition2,createDatumId:createDatumId8,Rect:Rect4,motion:motion5,applyShapeStyle:applyShapeStyle9,mergeDefaults:mergeDefaults9}=import_ag_charts_community79._ModuleSupport,FunnelSeries=class extends BaseFunnelSeries{constructor(e){super({moduleCtx:e,animationResetFns:{datum:resetBarSelectionsFn3}}),this.properties=new FunnelProperties}getBandScalePadding(){return{inner:this.properties.spacingRatio,outer:0}}connectorEnabled(){return this.properties.dropOff.enabled}connectorStyle(e){return mergeDefaults9(this.properties.dropOff.getStyle(),this.properties.getStyle(e))}nodeFactory(){return new Rect4}createLabelData({datumIndex:e,rect:t,yDatum:i,datum:o,visible:s}){const{valueKey:a,stageKey:r,label:n}=this.properties;if(!n.enabled)return;const l=this.getSeriesDomain(ChartAxisDirection15.Y),c=this.getLabelText(i,o,a,"y",l,n,{itemId:a,value:i,datum:o,stageKey:r,valueKey:a});return{x:t.x+t.width/2,y:t.y+t.height/2,textAlign:"center",textBaseline:"middle",text:c,itemId:r,datum:o,datumIndex:e,series:this,visible:s}}getItemStyle({datum:e,datumIndex:t},i){const{id:o,properties:s}=this,{stageKey:a,valueKey:r,itemStyler:n}=s,l=this.getHighlightStyle(i,t);let h=mergeDefaults9(l,s.getStyle(t));if(n!=null){const p=this.ctx.highlightManager?.getActiveHighlight(),u=this.cachedDatumCallback(createDatumId8(t,i?"highlight":"node"),()=>{const d=this.getHighlightStateString(p,i,t);return this.callWithContext(n,{seriesId:o,datum:e,highlighted:i,highlightState:d,stageKey:a,valueKey:r,...h})});u&&(h=mergeDefaults9(u,h))}return h}updateDatumNodes({datumSelection:e,isHighlight:t}){const{contextNodeData:i}=this;if(!i)return;const{shadow:o}=this.properties,s=this.getCategoryDirection()===ChartAxisDirection15.X,a=this.getShapeFillBBox();e.each((r,n)=>{const l=this.getItemStyle(n,t);applyShapeStyle9(r,l,a),r.visible=s?n.width>0:n.height>0,r.crisp=n.crisp,r.fillShadow=o})}tooltipStyle(e,t){return this.getItemStyle({datum:e,datumIndex:t},!1)}animateEmptyUpdateReady(e){super.animateEmptyUpdateReady(e);const{datumSelection:t}=e,i=this.isVertical(),s=prepareBarAnimationFunctions3(midpointStartingBarPosition2(i,"normal"),"unknown");motion5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e);const{datumSelection:t}=e,{processedData:i}=this,o=i?.reduced?.diff?.[this.id],s=prepareBarAnimationFunctions3(midpointStartingBarPosition2(this.isVertical(),"fade"),"added");motion5.fromToMotion(this.id,"datums",this.ctx.animationManager,[t],s,(a,r)=>r.xValue,o)}hasItemStylers(){return this.properties.itemStyler!=null||this.properties.label.itemStyler!=null}};FunnelSeries.className="FunnelSeries",FunnelSeries.type="funnel";var import_ag_charts_community80=require("ag-charts-community"),import_ag_charts_core25=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs10,funnelSeriesThemeableOptionsDef,without:without4}=import_ag_charts_community80._ModuleSupport,funnelSeriesOptionsDef={...funnelSeriesThemeableOptionsDef,...without4(commonSeriesOptionsDefs10,["showInLegend"]),type:(0,import_ag_charts_core25.required)((0,import_ag_charts_core25.constant)("funnel")),stageKey:(0,import_ag_charts_core25.required)(import_ag_charts_core25.string),valueKey:(0,import_ag_charts_core25.required)(import_ag_charts_core25.string)},FunnelSeriesModule={type:"series",name:"funnel",chartType:"cartesian",enterprise:!0,options:funnelSeriesOptionsDef,create:e=>new FunnelSeries(e)},import_ag_charts_community86=require("ag-charts-community"),import_ag_charts_community85=require("ag-charts-community"),import_ag_charts_core29=require("ag-charts-core"),import_ag_charts_community81=require("ag-charts-community");function formatWithContext(e,t,i){return import_ag_charts_community81._ModuleSupport.callWithContext(e.chartService,t,i)}var DatumUnion=class{*[Symbol.iterator](){const{node:e,datum:t}=this;e&&t&&(yield{node:e,datum:t})}nodes(){return this.node?[this.node]:[]}update(e,t,i,o){const s=e.nodes();if(s.length===0)this.node?.remove(),this.node=void 0;else{this.node===void 0&&(this.node=new i,this.node.fillOpacity=0,this.node.strokeOpacity=0,t.appendChild(this.node));const a=s[0],r=s.toReversed().find(n=>n.datum.datum.value>n.datum.datum.segmentStart)??s[s.length-1];this.node.datum=this.datum=a.datum,o(this.node,a,r)}}},fadeInFns={fromFn:()=>({opacity:0,phase:"initial"}),toFn:()=>({opacity:1})};function formatLabel(e,t){if(e==null)return"";const{min:i,max:o}=t,s=i!==0?Math.ceil(Math.log10(Math.abs(i))):0,a=o!==0?Math.ceil(Math.log10(Math.abs(o))):0,r=Math.max(2-Math.max(s,a),0);return e.toFixed(r)}function getLabelText(e,t,i,o){if(i.text!=null)return i.text;const s=o??i.value;let a;if(i?.formatter!=null&&(a=formatWithContext(t,i.formatter,{seriesId:e,datum:void 0,value:s})),a!=null)return String(a)}function lineMarker({path:e,x:t,y:i,size:o}){e.moveTo(t,i-o/2),e.lineTo(t,i+o/2)}var import_ag_charts_core26=require("ag-charts-core");function pickGaugeNearestDatum(e,t){const i=(0,import_ag_charts_core26.iterate)(e.datumUnion.nodes(),e.targetSelection.nodes());return e.pickNodeNearestDistantObject(t,i)}function pickGaugeFocus(e,t){const i=[{data:e.contextNodeData?.nodeData,selection:e.datumUnion},{data:e.contextNodeData?.targetData,selection:e.targetSelection}].filter(l=>l.data&&l.data.length>0),o=(0,import_ag_charts_core26.clamp)(0,t.otherIndex+t.otherIndexDelta,i.length-1);if(i.length===0)return;const{data:s,selection:a}=i[o];if(s==null||s.length===0)return;const r=(0,import_ag_charts_core26.clamp)(0,t.datumIndex,s.length-1),n=s[r];for(const l of a)if(l.datum===n)return{bounds:l.node,clipFocusBox:!0,datum:n,datumIndex:r,otherIndex:o}}var import_ag_charts_community83=require("ag-charts-community"),import_ag_charts_community82=require("ag-charts-community"),import_ag_charts_core27=require("ag-charts-core"),{BaseProperties:BaseProperties8,Property:Property23}=import_ag_charts_community82._ModuleSupport,GaugeSegmentationIntervalProperties=class extends BaseProperties8{getSegments(e,t){const{values:i,step:o,count:s}=this,a=Math.min(...e.domain),r=Math.max(...e.domain);let n;if(i!=null){const l=i.filter(c=>c>a&&c<r).sort((c,h)=>c-h);n=[a,...l,r]}else if(o!=null){const l=[];for(let c=a;c<r;c+=o)l.push(c);l.push(r),n=l}else if(s!=null){const l=s+1;n=Array.from({length:l+1},(c,h)=>h/l*(r-a)+a)}else{const l=e.ticks({nice:!0,interval:void 0,tickCount:void 0,minTickCount:0,maxTickCount:1/0})?.ticks?.filter(c=>c>a&&c<r);n=l!=null?[a,...l,r]:void 0}return n!=null&&n.length>t&&(import_ag_charts_core27.Logger.warnOnce("the configured segmentation results in more than 1 item per pixel, ignoring. Supply a segmentation configuration that results in larger segments or omit this configuration"),n=void 0),n??(n=[a,r]),n}};__decorateClass([Property23],GaugeSegmentationIntervalProperties.prototype,"values",2),__decorateClass([Property23],GaugeSegmentationIntervalProperties.prototype,"step",2),__decorateClass([Property23],GaugeSegmentationIntervalProperties.prototype,"count",2);var GaugeSegmentationProperties=class extends BaseProperties8{constructor(){super(...arguments),this.enabled=!1,this.interval=new GaugeSegmentationIntervalProperties,this.spacing=0}};__decorateClass([Property23],GaugeSegmentationProperties.prototype,"enabled",2),__decorateClass([Property23],GaugeSegmentationProperties.prototype,"interval",2),__decorateClass([Property23],GaugeSegmentationProperties.prototype,"spacing",2);var{BaseProperties:BaseProperties9,makeSeriesTooltip:makeSeriesTooltip11,SeriesProperties:SeriesProperties2,PropertiesArray:PropertiesArray2,Property:Property24,Label:Label7,AxisLabel:AxisLabel3,getColorStops}=import_ag_charts_community83._ModuleSupport,LinearGaugeDefaultTargetLabelProperties=class extends Label7{};__decorateClass([Property24],LinearGaugeDefaultTargetLabelProperties.prototype,"spacing",2);var LinearGaugeTargetProperties=class extends BaseProperties9{constructor(){super(...arguments),this.value=0,this.label=new LinearGaugeDefaultTargetLabelProperties}getStyle(e){const{fill:t=e.fill??"black",fillOpacity:i=e.fillOpacity??1,stroke:o=e.stroke??"black",strokeWidth:s=e.strokeWidth??0,strokeOpacity:a=e.strokeOpacity??1,lineDash:r=e.lineDash??[0],lineDashOffset:n=e.lineDashOffset??0}=this;return{fill:t,fillOpacity:i,stroke:o,strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n}}};__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"text",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"value",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"shape",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"placement",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"spacing",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"size",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"rotation",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"fill",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"fillOpacity",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"stroke",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"strokeWidth",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"strokeOpacity",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"lineDash",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"lineDashOffset",2),__decorateClass([Property24],LinearGaugeTargetProperties.prototype,"label",2);var LinearGaugeBarProperties=class extends BaseProperties9{constructor(){super(...arguments),this.enabled=!0,this.thicknessRatio=1,this.fills=new PropertiesArray2(import_ag_charts_community83._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(e,t,i){const{fill:o,fills:s,fillMode:a,fillOpacity:r,stroke:n,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}=this;return{fill:o??createLinearGradient(s,a,e,i,t),fillOpacity:r,stroke:n,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}}};__decorateClass([Property24],LinearGaugeBarProperties.prototype,"enabled",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"thickness",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"thicknessRatio",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"fills",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"fillMode",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"fill",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"fillOpacity",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"stroke",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"strokeWidth",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"lineDash",2),__decorateClass([Property24],LinearGaugeBarProperties.prototype,"lineDashOffset",2);var LinearGaugeScaleIntervalProperties=class extends BaseProperties9{constructor(){super(...arguments),this.values=void 0,this.step=void 0,this.minSpacing=0,this.maxSpacing=1e3}};__decorateClass([Property24],LinearGaugeScaleIntervalProperties.prototype,"values",2),__decorateClass([Property24],LinearGaugeScaleIntervalProperties.prototype,"step",2),__decorateClass([Property24],LinearGaugeScaleIntervalProperties.prototype,"minSpacing",2),__decorateClass([Property24],LinearGaugeScaleIntervalProperties.prototype,"maxSpacing",2);var LinearGaugeScaleLabelProperties=class extends AxisLabel3{constructor(){super(...arguments),this.placement=void 0}};__decorateClass([Property24],LinearGaugeScaleLabelProperties.prototype,"placement",2);var LinearGaugeScaleProperties=class extends BaseProperties9{constructor(){super(...arguments),this.min=0,this.max=1,this.fills=new PropertiesArray2(import_ag_charts_community83._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black",this.interval=new LinearGaugeScaleIntervalProperties,this.label=new LinearGaugeScaleLabelProperties}getStyle(e,t,i,o){const{fill:s,fills:a,defaultFill:r,fillMode:n,fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:p,lineDash:u,lineDashOffset:d}=this;return{fill:s??(e&&a.length===0?r:void 0)??createLinearGradient(a,n,t,o,i),fillOpacity:l,stroke:c,strokeWidth:h,strokeOpacity:p,lineDash:u,lineDashOffset:d}}};__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"min",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"max",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"fills",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"fillMode",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"fill",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"fillOpacity",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"stroke",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"strokeWidth",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"strokeOpacity",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"lineDash",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"lineDashOffset",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"defaultFill",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"interval",2),__decorateClass([Property24],LinearGaugeScaleProperties.prototype,"label",2);var LinearGaugeLabelProperties=class extends AutoSizedLabel{constructor(){super(...arguments),this.placement="inside-center",this.avoidCollisions=!0}};__decorateClass([Property24],LinearGaugeLabelProperties.prototype,"text",2),__decorateClass([Property24],LinearGaugeLabelProperties.prototype,"placement",2),__decorateClass([Property24],LinearGaugeLabelProperties.prototype,"avoidCollisions",2);var LinearGaugeSeriesProperties=class extends SeriesProperties2{constructor(){super(...arguments),this.value=0,this.segmentation=new GaugeSegmentationProperties,this.defaultColorRange=[],this.targets=new PropertiesArray2(LinearGaugeTargetProperties),this.defaultTarget=new LinearGaugeTargetProperties,this.defaultScale=new LinearGaugeScaleProperties,this.direction="vertical",this.thickness=1,this.cornerRadius=0,this.cornerMode="container",this.margin=0,this.scale=new LinearGaugeScaleProperties,this.bar=new LinearGaugeBarProperties,this.label=new LinearGaugeLabelProperties,this.tooltip=makeSeriesTooltip11()}};__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"value",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"segmentation",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"defaultColorRange",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"targets",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"defaultTarget",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"defaultScale",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"direction",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"thickness",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"cornerMode",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"margin",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"scale",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"bar",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"label",2),__decorateClass([Property24],LinearGaugeSeriesProperties.prototype,"tooltip",2);function createLinearGradient(e,t,i,o,s){return{type:"gradient",gradient:"linear",colorSpace:"oklch",colorStops:getColorStops(e,i,o.domain,t),rotation:s?90:0,bounds:"series"}}var import_ag_charts_community84=require("ag-charts-community"),import_ag_charts_core28=require("ag-charts-core"),{BBox:BBox8}=import_ag_charts_community84._ModuleSupport;function datumRect(e){const{x0:t,y0:i,x1:o,y1:s,horizontalInset:a,verticalInset:r}=e,n=Math.min(t,o)+a,l=Math.min(i,s)+r,c=Math.max(Math.abs(o-t)-2*a,0),h=Math.max(Math.abs(s-i)-2*r,0);return{x:n,y:l,width:c,height:h}}function clipBBoxVisibility(e,t){if(t==null)return!0;const i=datumRect(e),o=1e-6,s=i.x+o,a=i.y+o,r=i.x+i.width-o,n=i.y+i.height-o,l=t.x,c=t.x+t.width,h=t.y,p=t.y+t.height;return Math.max(s,l)<=Math.min(r,c)&&Math.max(a,h)<=Math.min(n,p)}function hasClipBBox(e){const{clipX0:t,clipX1:i,clipY0:o,clipY1:s}=e;return t!=null&&i!=null||o!=null&&s!=null}function computeClipBBox(e){if(!hasClipBBox(e))return;const{x0:t,y0:i,x1:o,y1:s}=e,{x:a,y:r,width:n,height:l}=datumRect(e);let{clipX0:c,clipX1:h,clipY0:p,clipY1:u}=e;(c==null||h==null)&&(c=t,h=o),(p==null||u==null)&&(p=i,u=s);const d=Math.min(c,h),g=Math.min(p,u),y=Math.abs(h-c),m=Math.abs(u-p);return c=Math.max(a,d),p=Math.max(r,g),h=Math.min(a+n,d+y),u=Math.min(r+l,g+m),new BBox8(Math.min(c,h),Math.min(p,u),Math.abs(h-c),Math.abs(u-p))}function prepareLinearGaugeSeriesAnimationFunctions(e,t){const i=e?"initial":"update";return{node:{fromFn(s,a){const r=s.previousDatum;let{x0:n,y0:l,x1:c,y1:h,clipX0:p,clipY0:u,clipX1:d,clipY1:g}=r??a;const{horizontalInset:y,verticalInset:m}=a,f=r!=null&&hasClipBBox(r),b=hasClipBBox(a);return f&&b||(!f&&b?({x0:n,y0:l,x1:c,y1:h,clipX0:p,clipY0:u,clipX1:d,clipY1:g}=a,e&&(t?d=a.clipX0:g=a.clipY0)):f&&!b?({x0:n,y0:l,x1:c,y1:h}=a,p=void 0,u=void 0,d=void 0,g=void 0):e&&(t?c=n:h=l)),{x0:n,y0:l,x1:c,y1:h,clipX0:p,clipY0:u,clipX1:d,clipY1:g,horizontalInset:y,verticalInset:m,phase:i}},toFn(s,a){const{x0:r,y0:n,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:u,clipY1:d,horizontalInset:g,verticalInset:y}=a;return{x0:r,y0:n,x1:l,y1:c,clipX0:h,clipY0:p,clipX1:u,clipY1:d,horizontalInset:g,verticalInset:y}},applyFn(s,a){s.setProperties(resetLinearGaugeSeriesResetRectFunction(s,a))}}}}function resetLinearGaugeSeriesResetRectFunction(e,t){const{x:i,y:o,width:s,height:a}=datumRect(t),r=computeClipBBox(t),n=clipBBoxVisibility(t,r);return{x:i,y:o,width:s,height:a,clipBBox:r,visible:n}}var horizontalTextAligns={Before:"right",Center:"center",After:"left"},verticalTextBaselines={Before:"top",Center:"middle",After:"bottom"},horizontalAlignFactors={Before:-1,Center:-.5,After:0},verticalAlignFactors2={Before:0,Center:-.5,After:-1};function formatLinearGaugeLabels(e,t,i,o,s,a){const{seriesRect:r,gaugeRect:n,barRect:l}=s,{padding:c,horizontal:h}=o;i.each((p,u)=>{const d=getLabelText(e.id,t,u,a?.label);let g,y;u.placement==="outside-start"?h?(g=n.x,y=r.height):(g=r.width,y=r.height-(n.y+n.height)):u.placement==="outside-end"?h?(g=r.width-(n.x+n.width),y=r.height):(g=r.width,y=n.y):u.avoidCollisions&&(g=n.width,y=n.height);let m;if(d==null)return;if(g!=null&&y!=null)m=formatSingleLabel(d,u,{padding:c},()=>({width:g,height:y,meta:null}))?.[0];else{const N=(0,import_ag_charts_core28.cachedTextMeasurer)(u),{width:w,height:P}=N.measureText(d);m={text:d,fontSize:u.fontSize,lineHeight:u.lineHeight??N.lineHeight(),width:w,height:P}}if(m==null){p.visible=!1;return}const f=h?n.x:n.y+n.height,b=h?n.x+n.width:n.y,v=h?l.x:l.y+l.height,S=h?l.x+l.width:l.y,D=u.spacing*(h?1:-1);let _,k,x,M;switch(u.placement){case"outside-start":_=-1/0,k=1/0,x=f-D,M="Before";break;case"outside-end":_=-1/0,k=1/0,x=b+D,M="After";break;case"inside-start":_=f,k=S,x=f+D,M="After";break;case"inside-end":_=S,k=b,x=b-D,M="Before";break;case"inside-center":_=f,k=b,x=(f+b)/2,M="Center";break;case"bar-inside":_=v,k=S,x=(v+S)/2,M="Center";break;case"bar-inside-end":_=v,k=S,x=S-D,M="Before";break;case"bar-outside-end":_=S,k=b,x=S+D,M="After";break;case"bar-end":_=-1/0,k=1/0,x=S,M="Center";break}const A=h?x:n.x+n.width/2,I=h?n.y+n.height/2:x;let L,R;h?(L=A+horizontalAlignFactors[M]*m.width,R=L+m.width):(L=I+verticalAlignFactors2[M]*m.height,R=L+m.height);const C=Math.min(L,R)>=Math.min(_,k)&&Math.max(L,R)<=Math.max(_,k);if(u.avoidCollisions&&!C){p.visible=!1;return}p.visible=!0,p.text=m.text,p.fontSize=m.fontSize,p.lineHeight=m.lineHeight,p.textAlign=h?horizontalTextAligns[M]:"center",p.textBaseline=h?"middle":verticalTextBaselines[M],p.x=A,p.y=I})}var{fromToMotion:fromToMotion2,resetMotion:resetMotion3,SeriesNodePickMode:SeriesNodePickMode8,StateMachine,createDatumId:createDatumId9,toRadians:toRadians3,BBox:BBox9,Group:Group7,PointerEvents:PointerEvents5,Selection:Selection5,Rect:Rect5,Text,TransformableText:TransformableText2,Marker:Marker2,LinearScale:LinearScale3,generateTicks:generateTicks2,NiceMode,easing,findRangeExtent,tickFormat,mergeDefaults:mergeDefaults10,applyShapeStyle:applyShapeStyle10}=import_ag_charts_community85._ModuleSupport,horizontalTargetPlacementRotation={before:180,middle:0,after:0},verticalTargetPlacementRotation={before:90,middle:0,after:-90},LinearGaugeSeries=class extends import_ag_charts_community85._ModuleSupport.Series{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode8.EXACT_SHAPE_MATCH,SeriesNodePickMode8.NEAREST_NODE]}),this.properties=new LinearGaugeSeriesProperties,this.seriesRect=BBox9.NaN,this.gaugeRect=BBox9.NaN,this.scale=new LinearScale3,this.originX=0,this.originY=0,this.scaleGroup=this.contentGroup.appendChild(new Group7({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Group7({name:"itemGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Group7({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Group7({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group7({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Group7({name:"itemTargetLabelGroup"})),this.tickGroup=this.contentGroup.appendChild(new Group7({name:"tickGroup"})),this.scaleSelection=Selection5.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Selection5.select(this.itemGroup,()=>this.nodeFactory()),this.targetSelection=Selection5.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=Selection5.select(this.itemTargetLabelGroup,Text),this.labelSelection=Selection5.select(this.itemLabelGroup,Text),this.highlightTargetSelection=Selection5.select(this.highlightTargetGroup,()=>this.markerFactory()),this.tickSelection=Selection5.select(this.tickGroup,TransformableText2),this.datumUnion=new DatumUnion,this.animationState=new StateMachine("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=PointerEvents5.None,this.tickGroup.pointerEvents=PointerEvents5.None}get range(){return this.horizontal?[0,this.gaugeRect.width]:[0,this.gaugeRect.height]}get horizontal(){return this.properties.direction==="horizontal"}get hasData(){return!0}nodeFactory(){const e=new Rect5;return e.crisp=!0,e}markerFactory(){return new Marker2}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){return formatLabel(e,this.properties.scale)}getShapeFillBBox(){const{properties:e,originX:t,originY:i,horizontal:o,scale:s}=this,{thickness:a}=e,r=findRangeExtent(s.range),n=new BBox9(t,i,o?r:a,o?a:r);return{axis:n,series:n}}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:o=t.text,value:s=t.value??0,shape:a=t.shape??"triangle",rotation:r=t.rotation??0,placement:n=t.placement??"middle",spacing:l=t.spacing??0,size:c=t.size??0}=i,{enabled:h=t.label.enabled,color:p=t.label.color??"black",fontStyle:u=t.label.fontStyle??"normal",fontWeight:d=t.label.fontWeight??"normal",fontSize:g=t.label.fontSize,fontFamily:y=t.label.fontFamily,spacing:m=t.label.spacing??0}=i.label;return{text:o,value:s,shape:a,placement:n,spacing:l,size:c,rotation:r,label:{enabled:h,color:p,fontStyle:u,fontWeight:d,fontSize:g,fontFamily:y,spacing:m},style:i.getStyle(t)}})}getTargetPoint(e){const{properties:t,originX:i,originY:o,horizontal:s,scale:a,gaugeRect:r}=this,{thickness:n}=t,{value:l,placement:c,spacing:h,size:p}=e,u=a.convert(l);let d;switch(c){case"before":d=-(h+p/2);break;case"after":d=n+h+p/2;break;default:d=n/2;break}return{x:i+r.x+(s?u:d),y:o+r.y+(s?d:u)}}getTargetLabel(e){const{size:t,placement:i,label:o}=e,{spacing:s,color:a,fontStyle:r,fontWeight:n,fontSize:l,fontFamily:c}=o,h=void 0,p=t/2+s;let u,d,g=0,y=0;return this.horizontal?(u="center",i==="after"?(d="top",y=p):(d="bottom",y=-p)):(d="middle",i==="before"?(u="right",g=-p):(u="left",g=p)),{offsetX:g,offsetY:y,fill:a,textAlign:u,textBaseline:d,fontStyle:r,fontWeight:n,fontSize:l,fontFamily:c,lineHeight:h}}labelDatum(e,t){const{placement:i,avoidCollisions:o,spacing:s,text:a,color:r,fontSize:n,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:u,wrapping:d,overflowStrategy:g,formatter:y=m=>this.formatLabel(m.value)}=e;return{placement:i,avoidCollisions:o,spacing:s,text:a,value:t,fill:r,fontSize:n,minimumFontSize:l,fontStyle:c,fontWeight:h,fontFamily:p,lineHeight:u,wrapping:d,overflowStrategy:g,formatter:y}}verticalLabelInset(){const{label:e}=this.properties,t=(0,import_ag_charts_core29.cachedTextMeasurer)(e),i=e.text?.split(`
`),o=(e.lineHeight??t.lineHeight())*(i?.length??1);return e.spacing+o}horizontalLabelInset(){const{scale:e,properties:t}=this,{scale:i,label:o}=t,s=o.text?.split(`
`),a=(0,import_ag_charts_core29.cachedTextMeasurer)(o),r=i.interval.values??e.ticks({nice:!1,interval:i.interval.step,minTickCount:0,maxTickCount:6,tickCount:5})?.ticks??[],l=(s??r?.map(c=>getLabelText(this.id,this.ctx,this.labelDatum(o,c))??"")).reduce((c,h)=>{const{width:p}=a.measureText(h);return Math.max(c,p)},0);return o.spacing+l}tickFormatter(e,t){const{format:i,formatter:o}=this.properties.scale.label;let s;return i!=null&&(s=tickFormat(t,typeof i=="string"?i:void 0)),(a,r)=>{let n;return o&&(n??(n=formatWithContext(this.ctx,o,{value:a,index:r,domain:e,boundSeries:void 0}))),n??(n=s?.(a)),n??this.formatLabel(a)}}createNodeData(){const{id:e,properties:t,horizontal:i,scale:o,seriesRect:s}=this,{value:a,segmentation:r,thickness:n,cornerRadius:l,cornerMode:c,bar:h,scale:p,label:u,defaultColorRange:d}=t;o.domain=[p.min,p.max],o.range=i?[0,s.width]:[s.height,0];let g,y;i?(y=1,g=Math.PI/2):p.label.placement==="before"?(y=1,g=0):(y=-1,g=0);let m,f,b,v;i?(m=0,f=s.width,b=(s.height-n)/2,v=b+n,u.placement==="outside-start"?m+=this.horizontalLabelInset():u.placement==="outside-end"&&(f-=this.horizontalLabelInset())):(m=(s.width-n)/2,f=m+n,v=0,b=s.height,u.placement==="outside-start"?b-=this.verticalLabelInset():u.placement==="outside-end"&&(v+=this.verticalLabelInset())),this.gaugeRect=new BBox9(Math.min(m,f),Math.min(b,v),Math.abs(f-m),Math.abs(v-b));const S=0,D=0;o.domain=[p.min,p.max],o.range=i?[m,f]:[b,v];const{tickData:{ticks:_}}=generateTicks2({scale:o,label:this.properties.scale.label,interval:this.properties.scale.interval,tickFormatter:(q,H)=>this.tickFormatter(q,H),domain:o.domain,range:this.range,reverse:!1,primaryTickCount:void 0,defaultTickMinSpacing:0,visibleRange:[0,1],niceMode:NiceMode.Off,labelOffset:0,axisRotation:g,sideFlag:y}),k=!1,x=this.getTargets(),M=[],A=[],I=[],L=[],[R,C]=o.range,N=Math.abs(C-R),w=i?o.convert(a):f,P=i?v:o.convert(a),T=r.enabled?r.spacing/2:0,E=i?T:0,O=i?0:T,F=Math.min(h.thickness??Math.round(h.thicknessRatio*n),n),G=-(n-F)/2,B=i?0:G,V=i?G:0,z=c==="item",K=Math.ceil(N);let W=r.enabled?r.interval.getSegments(o,K):void 0;const $=h.getStyle(d,i,o),J=p.getStyle(h.enabled,d,i,o);if(W==null&&z){const q=Math.min(...o.domain),H=Math.max(...o.domain),Y={value:a,segmentStart:q,segmentEnd:H};if(h.enabled){const ie=Math.min(l,F/2,N/2)*(k?-1:1),Q=i?ie:0,oe=i?0:ie;M.push({series:this,itemId:"value",datum:Y,datumIndex:{type:0},type:0,x0:S+m-Q-B,y0:D+b-oe-V,x1:S+w+Q+B,y1:D+P+oe+V,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,horizontalInset:E,verticalInset:O,style:$})}const j=Math.min(l,n/2,N/2)*(k?-1:1),X=i?j:0,te=i?0:j;L.push({series:this,itemId:"scale",datum:Y,datumIndex:{type:0},type:0,x0:S+m-X,y0:D+b-te,x1:S+f+X,y1:D+v+te,clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:l,topRightCornerRadius:l,bottomRightCornerRadius:l,bottomLeftCornerRadius:l,horizontalInset:E,verticalInset:O,style:J})}else{W??(W=o.domain);const q=S+m-B,H=D+b-V,Y=S+w+B,ee=D+P+V;for(let j=0;j<W.length-1;j+=1){const X=W[j+0],te=W[j+1],U={value:a,segmentStart:X,segmentEnd:te},ie=j===0,Q=j===W.length-2,oe=o.convert(X),se=o.convert(te),ae=z||ie?l:0,le=z||Q?l:0,re=i?ae:le,ne=le,ce=i?le:ae,he=ae;h.enabled&&M.push({series:this,itemId:`value-${j}`,datum:U,datumIndex:{type:0},type:0,x0:S+(i?oe:m),y0:D+(i?b:oe),x1:S+(i?se:f),y1:D+(i?v:se),clipX0:q,clipY0:H,clipX1:Y,clipY1:ee,topLeftCornerRadius:re,topRightCornerRadius:ne,bottomRightCornerRadius:ce,bottomLeftCornerRadius:he,horizontalInset:E,verticalInset:O,style:$}),L.push({series:this,itemId:`scale-${j}`,datum:U,datumIndex:{type:0},type:0,x0:S+(i?oe:m),y0:D+(i?b:oe),x1:S+(i?se:f),y1:D+(i?v:se),clipX0:void 0,clipY0:void 0,clipX1:void 0,clipY1:void 0,topLeftCornerRadius:re,topRightCornerRadius:ne,bottomRightCornerRadius:ce,bottomLeftCornerRadius:he,horizontalInset:E,verticalInset:O,style:J})}}u.enabled&&I.push(this.labelDatum(u,a));const Z=i?horizontalTargetPlacementRotation:verticalTargetPlacementRotation;for(let q=0;q<x.length;q+=1){const H=x[q],{value:Y,text:ee,shape:j,size:X,style:te}=H,U=this.getTargetPoint(H),ie=toRadians3(H.rotation+Z[H.placement]);A.push({series:this,itemId:`target-${q}`,midPoint:U,datum:{value:Y},datumIndex:{type:1,index:q},type:1,value:Y,text:ee,x:U.x,y:U.y,shape:j,size:X,rotation:ie,label:this.getTargetLabel(H),style:te})}return{itemId:e,nodeData:M,tickData:_,targetData:A,labelData:I,scaleData:L}}updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}update({seriesRect:e}){const{datumSelection:t,labelSelection:i,targetSelection:o,targetLabelSelection:s,scaleSelection:a,highlightTargetSelection:r,tickSelection:n}=this;this.seriesRect=e??BBox9.NaN;const l=this.checkResize(e);this.updateSelections(l),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const c=this.contextNodeData?.nodeData??[],h=this.contextNodeData?.labelData??[],p=this.contextNodeData?.targetData??[],u=this.contextNodeData?.scaleData??[],d=this.contextNodeData?.tickData??[],g=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:u,scaleSelection:a}),this.updateScaleNodes({scaleSelection:a}),this.targetSelection=this.updateTargetSelection({targetData:p,targetSelection:o}),this.updateTargetNodes({targetSelection:o,isHighlight:!1}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:p,targetLabelSelection:s}),this.updateTargetLabelNodes({targetLabelSelection:s}),this.datumSelection=this.updateDatumSelection({nodeData:c,datumSelection:t}),this.updateDatumNodes({datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:h,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:g!=null?[g]:[],targetSelection:r}),this.updateTargetNodes({targetSelection:r,isHighlight:!0}),this.tickSelection=this.updateTickSelection({tickData:d,tickSelection:n}),this.updateTickNodes({tickSelection:n}),l&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId9(e.nodeData.length,t.itemId))}updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i}=this,o=i.animationManager.isSkipped(),s=this.getShapeFillBBox();t.each((r,n)=>{const{topLeftCornerRadius:l,topRightCornerRadius:c,bottomRightCornerRadius:h,bottomLeftCornerRadius:p}=n;applyShapeStyle10(r,n.style,s),r.topLeftCornerRadius=l,r.topRightCornerRadius=c,r.bottomRightCornerRadius=h,r.bottomLeftCornerRadius=p,r.pointerEvents=this.properties.bar.enabled?import_ag_charts_community85._ModuleSupport.PointerEvents.All:import_ag_charts_community85._ModuleSupport.PointerEvents.None,(o||r.previousDatum==null)&&r.setProperties(resetLinearGaugeSeriesResetRectFunction(r,n))});const{horizontal:a}=this;this.datumUnion.update(t,this.itemGroup,import_ag_charts_community85._ModuleSupport.Rect,(r,n,l)=>{const c=Math.min(n.x,l.x),h=Math.max(n.x+n.width,l.x+l.width),p=Math.min(n.y,l.y),u=Math.max(n.y+n.height,l.y+l.height),d=h-c,g=u-p;r.pointerEvents=import_ag_charts_community85._ModuleSupport.PointerEvents.None,r.x=c,r.y=p,r.width=d,r.height=g,r.topLeftCornerRadius=a?n.topLeftCornerRadius:l.topLeftCornerRadius,r.topRightCornerRadius=l.topRightCornerRadius,r.bottomRightCornerRadius=a?l.bottomRightCornerRadius:n.bottomRightCornerRadius,r.bottomLeftCornerRadius=n.bottomLeftCornerRadius;const y=n.clipBBox,m=l.clipBBox??y;y&&m?r.clipBBox=BBox9.merge([y,m]).intersection(a?new BBox9(c,-1/0,d,1/0):new BBox9(-1/0,p,1/0,g)):r.clipBBox=void 0})}updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>createDatumId9(e.scaleData.length,t.itemId))}updateScaleNodes(e){const{scaleSelection:t}=e,i=this.getShapeFillBBox();t.each((o,s)=>{const{topLeftCornerRadius:a,topRightCornerRadius:r,bottomRightCornerRadius:n,bottomLeftCornerRadius:l}=s;applyShapeStyle10(o,s.style,i),o.setProperties(resetLinearGaugeSeriesResetRectFunction(o,s)),o.topLeftCornerRadius=a,o.topRightCornerRadius=r,o.bottomRightCornerRadius=n,o.bottomLeftCornerRadius=l,o.setProperties(resetLinearGaugeSeriesResetRectFunction(o,s))})}updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetNodes(e){const{targetSelection:t,isHighlight:i}=e;t.each((o,s)=>{const{x:a,y:r,shape:n,size:l,rotation:c}=s,h=this.getTargetStyle(i,s);applyShapeStyle10(o,h),o.size=l,o.shape=n==="line"?lineMarker:n,o.translationX=a,o.translationY=r,o.rotation=c})}getTargetStyle(e,{datumIndex:t,style:i}){const o=this.getHighlightStyle(e,t);return mergeDefaults10(o,{...i,opacity:1})}updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData)}updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,o)=>{const{x:s,y:a,text:r}=o,{offsetX:n,offsetY:l,fill:c,fontStyle:h,fontWeight:p,fontSize:u,fontFamily:d,textAlign:g,textBaseline:y}=o.label;i.visible=!0,i.x=s+n,i.y=a+l,i.text=r,i.fill=c,i.fontStyle=h,i.fontWeight=p,i.fontSize=u,i.fontFamily=d,i.textAlign=g,i.textBaseline=y})}updateTickSelection(e){return e.tickSelection.update(e.tickData,void 0,t=>t.tickId)}updateTickNodes(e){const{gaugeRect:t,properties:i}=this,o=i.defaultScale,{enabled:s,color:a,fontFamily:r=o.label.fontFamily,fontSize:n=o.label.fontSize,fontStyle:l,fontWeight:c=o.label.fontWeight,spacing:h}=i.scale.label;let{placement:p}=i.scale.label;const u=toRadians3(i.scale.label.rotation??0);let d,g,y,m;this.horizontal?(p??(p="after"),d="center",g=p==="before"?"bottom":"top",m=this.originY+t.y+(p==="before"?-h:t.height+h)):(p??(p="before"),d=p==="before"?"end":"start",g="middle",y=this.originX+t.x+(p==="before"?-h:t.width+h)),e.tickSelection.each((f,b)=>{if(!s){f.visible=!1;return}const v=y??b.translation,S=m??b.translation;f.visible=!0,f.text=b.tickLabel,f.fill=a,f.fontFamily=r,f.fontSize=n,f.fontStyle=l,f.fontWeight=c,f.textBaseline=g,f.textAlign=d,f.x=v,f.y=S,f.rotationCenterX=v,f.rotationCenterY=S,f.rotation=u})}updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>"primary")}updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((o,s)=>{o.fill=s.fill,o.fontStyle=s.fontStyle,o.fontWeight=s.fontWeight,o.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){const{labelSelection:t,horizontal:i,scale:o,seriesRect:s,gaugeRect:a}=this,{x:r,y:n,width:l,height:c}=a,h=e?.label??this.properties.value;let p;if(i){const g=o.convert(h);p=new BBox9(r,n,g-r,c)}else{const g=o.convert(h);p=new BBox9(r,g,l,c-g)}const u={seriesRect:s,gaugeRect:a,barRect:p},{margin:d}=this.properties;formatLinearGaugeLabels(this,this.ctx,t,{padding:d,horizontal:i},u,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),resetMotion3([this.datumSelection],resetLinearGaugeSeriesResetRectFunction),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i=0,o=0;if(this.labelSelection.each((s,a)=>{s.opacity=1,i=s.previousDatum?.value??e.from??a.value,o=a.value}),!this.labelsHaveExplicitText())if(i===o)this.formatLabelText({label:o});else{const s=`${this.id}_labels`;t.animate({id:s,groupId:"label",from:{label:i},to:{label:o},phase:e.phase??"update",ease:easing.easeOut,onUpdate:a=>this.formatLabelText(a),onStop:()=>this.formatLabelText({label:o})})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=prepareLinearGaugeSeriesAnimationFunctions(!0,this.horizontal);fromToMotion2(this.id,"node",e,[this.datumSelection],t,(i,o)=>o.itemId),fromToMotion2(this.id,"label",e,[this.labelSelection],fadeInFns,()=>"primary"),this.animateLabelText({from:0,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t}=prepareLinearGaugeSeriesAnimationFunctions(!1,this.horizontal);fromToMotion2(this.id,"node",e,[this.datumSelection],t,(i,o)=>o.itemId),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}getSeriesDomain(){return[0,1]}dataCount(){return NaN}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(e){const{id:t,properties:i}=this,{tooltip:o}=i;if(e==null)return;let s,a,r;if(e.type===0?(s=i.value,a=i.label.text,r=this.ctx.localeManager.t("ariaLabelGaugeValue")):({value:s,text:a}=i.targets[e.index],r=this.ctx.localeManager.t("ariaLabelGaugeTarget")),s!=null)return this.formatTooltipWithContext(o,{data:[{label:a,fallbackLabel:r,value:this.formatLabel(s)}]},{seriesId:t,title:void 0,datum:void 0,value:s})}pickNodeClosestDatum(e){return pickGaugeNearestDatum(this,e)}pickFocus(e){return pickGaugeFocus(this,e)}getCaptionText(){return this.formatLabel(this.properties.value)}getCategoryValue(e){}datumIndexForCategoryValue(e){}hasItemStylers(){return!1}};LinearGaugeSeries.className="LinearGaugeSeries",LinearGaugeSeries.type="linear-gauge";var LinearGaugeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"linear-gauge",moduleFactory:e=>new LinearGaugeSeries(e),themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{thickness:50,defaultColorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$interpolate:[{$palette:"secondDivergingColors"},5]},import_ag_charts_community86._ModuleSupport.SAFE_RANGE2_OPERATION]},scale:{defaultFill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/2",import_ag_charts_community86._ModuleSupport.SAFE_STROKE_FILL_OPERATION,{$palette:"hierarchyColors"}]},strokeWidth:{$isUserOption:["./stroke",2,0]},label:{spacing:11}},bar:{strokeWidth:{$isUserOption:["./stroke",2,0]}},segmentation:{enabled:!1,interval:{},spacing:1},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"after",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},defaultScale:{label:{fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}}},label:{...import_ag_charts_community86._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,placement:"inside-start",fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},fontSize:{$rem:2},minimumFontSize:import_ag_charts_community86._ModuleSupport.FONT_SIZE.SMALL,spacing:18,color:{$ref:"chartBackgroundColor"}},margin:4,tooltip:{range:{$path:["/tooltip/range",10]}}}}},LinearGaugeSeriesModule={type:"series",name:"linear-gauge",chartType:"standalone",enterprise:!0,options:import_ag_charts_community86._ModuleSupport.linearGaugeSeriesOptionsDef,create:e=>new LinearGaugeSeries(e)},import_ag_charts_community95=require("ag-charts-community"),import_ag_charts_community87=require("ag-charts-community"),MAP_THEME_DEFAULTS={zoom:{axes:"xy",anchorPointX:"pointer",anchorPointY:"pointer",buttons:{anchorPointX:"middle",anchorPointY:"middle"}},legend:{enabled:!1},gradientLegend:{enabled:!1,...import_ag_charts_community87._ModuleSupport.LEGEND_CONTAINER_THEME}};function applyMapPalette(e){const t=import_ag_charts_community87._ModuleSupport.deepClone(e);return import_ag_charts_community87._ModuleSupport.jsonWalk(t,i=>{typeof i=="object"&&"$palette"in i&&(i.$mapPalette=i.$palette,delete i.$palette)}),t}var import_ag_charts_community93=require("ag-charts-community"),import_ag_charts_core30=require("ag-charts-core"),import_ag_charts_community89=require("ag-charts-community"),delta2=1e-9;function lineSegmentDistanceToPointSquared(e,t,i,o){const[s,a]=e,[r,n]=t,l=r-s,c=n-a,h=l*l+c*c;let p,u;if(Math.abs(h)<delta2)p=s,u=a;else{let y=((i-s)*l+(o-a)*c)/h;y=Math.max(0,Math.min(1,y)),p=s+y*(r-s),u=a+y*(n-a)}const d=i-p,g=o-u;return d*d+g*g}function lineStringDistance(e,t,i){let o=1/0,s=e[e.length-1];for(const a of e)o=Math.min(o,lineSegmentDistanceToPointSquared(s,a,t,i)),s=a;return Math.sqrt(o)}function lineStringLength(e){let[t,i]=e[0],o=0;for(let s=1;s<e.length;s+=1){const[a,r]=e[s],n=Math.hypot(a-t,r-i);o+=n,t=a,i=r}return o}function lineStringCenter(e){if(e.length===0)return;const t=lineStringLength(e)/2;let[i,o]=e[0],s=0;for(let a=1;a<e.length;a+=1){const[r,n]=e[a],l=Math.hypot(r-i,n-o),c=s+l;if(c>t){const h=(t-s)/l,p=[i+(r-i)*h,o+(n-o)*h],u=Math.atan2(n-o,r-i);return{point:p,angle:u}}s=c,i=r,o=n}}var import_ag_charts_community88=require("ag-charts-community"),{LonLatBBox}=import_ag_charts_community88._ModuleSupport;function polygonBbox(e,t){return e.forEach(i=>{const[o,s]=i;t=LonLatBBox.extend(t,o,s,o,s)}),t}function polygonCentroid(e){if(e.length===0)return;let t=0,i=0,o=0,[s,a]=e[e.length-1];for(const[r,n]of e){const l=s*n-r*a;o+=l,t+=(s+r)*l,i+=(a+n)*l,s=r,a=n}return o*=3,[t/o,i/o]}function polygonDistance(e,t,i){let o=!1,s=1/0;for(const a of e){let r=a[a.length-1],[n,l]=r;for(const c of a){const[h,p]=c;p>i!=l>i&&t<(n-h)*(i-p)/(l-p)+h&&(o=!o),s=Math.min(s,lineSegmentDistanceToPointSquared(r,c,t,i)),r=c,n=h,l=p}}return(o?-1:1)*Math.sqrt(s)}var{Path:Path9,ExtendedPath2D:ExtendedPath2D3,BBox:BBox10,SceneChangeDetection:SceneChangeDetection6,SceneObjectChangeDetection,objectsEqual}=import_ag_charts_community89._ModuleSupport,GeoGeometry=class extends Path9{constructor(){super(...arguments),this.projectedGeometry=void 0,this.renderMode=3,this.strokePath=new ExtendedPath2D3}computeBBox(){return(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),this.bbox?.clone()}updatePath(){const{projectedGeometry:e}=this;this.strokePath.clear(),this.path.clear(),this.bbox=e!=null?this.drawGeometry(e,void 0):void 0}drawPath(e){super.drawPath(e),this.renderStroke(e,this.strokePath.getPath2D())}containsPoint(e,t){const{projectedGeometry:i}=this;return i==null||!this.getBBox().containsPoint(e,t)?!1:this.geometryDistance(i,e,t)<=0}distanceSquared(e,t){const{projectedGeometry:i}=this;if(i==null)return 1/0;const o=this.geometryDistance(i,e,t);return o>0?o*o:0}geometryDistance(e,t,i){const{renderMode:o,strokeWidth:s}=this,a=(o&1)!==0,r=(o&2)!==0,n=Math.max(s/2,1)+1;switch(e.type){case"GeometryCollection":return e.geometries.reduce((l,c)=>Math.min(l,this.geometryDistance(c,t,i)),1/0);case"MultiPolygon":return a?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(polygonDistance(c,t,i),0)),1/0):1/0;case"Polygon":return a?Math.max(polygonDistance(e.coordinates,t,i),0):1/0;case"MultiLineString":return r?e.coordinates.reduce((l,c)=>Math.min(l,Math.max(lineStringDistance(c,t,i)-n,0)),1/0):1/0;case"LineString":return r?Math.max(lineStringDistance(e.coordinates,t,i)-n,0):1/0;case"MultiPoint":case"Point":default:return 1/0}}drawGeometry(e,t){const{renderMode:i,path:o,strokePath:s}=this,a=(i&1)!==0,r=(i&2)!==0;switch(e.type){case"GeometryCollection":e.geometries.forEach(n=>{t=this.drawGeometry(n,t)});break;case"MultiPolygon":a&&e.coordinates.forEach(n=>{t=this.drawPolygon(o,n,t)});break;case"Polygon":a&&(t=this.drawPolygon(o,e.coordinates,t));break;case"LineString":r&&(t=this.drawLineString(s,e.coordinates,t,!1));break;case"MultiLineString":r&&e.coordinates.forEach(n=>{t=this.drawLineString(s,n,t,!1)});break;case"Point":case"MultiPoint":break}return t}drawPolygon(e,t,i){if(t.length<1)return i;i=this.drawLineString(e,t[0],i,!0);for(let o=1;o<t.length;o+=1){const s=t[o];this.drawLineString(e,s,void 0,!0)}return i}drawLineString(e,t,i,o){if(t.length<2)return i;const s=o?t.length-1:t.length;for(let a=0;a<s;a+=1){const[r,n]=t[a];if(a===0?e.moveTo(r,n):e.lineTo(r,n),i==null)i=new BBox10(r,n,0,0);else{const{x:l,y:c}=i,h=l+i.width,p=c+i.height;i.x=Math.min(l,r),i.y=Math.min(c,n),i.width=Math.max(h,r)-i.x,i.height=Math.max(p,n)-i.y}}return o&&e.closePath(),i}};__decorateClass([SceneObjectChangeDetection({equals:objectsEqual})],GeoGeometry.prototype,"projectedGeometry",2),__decorateClass([SceneChangeDetection6()],GeoGeometry.prototype,"renderMode",2);var import_ag_charts_community90=require("ag-charts-community"),{LonLatBBox:LonLatBBox2}=import_ag_charts_community90._ModuleSupport;function geometryBbox(e,t){if(e.bbox!=null){const[i,o,s,a]=e.bbox;return t=LonLatBBox2.extend(t,i,o,s,a),t}switch(e.type){case"GeometryCollection":e.geometries.forEach(i=>{t=geometryBbox(i,t)});break;case"MultiPolygon":e.coordinates.forEach(i=>{i.length>0&&(t=polygonBbox(i[0],t))});break;case"Polygon":e.coordinates.length>0&&(t=polygonBbox(e.coordinates[0],t));break;case"MultiLineString":e.coordinates.forEach(i=>{t=polygonBbox(i,t)});break;case"LineString":t=polygonBbox(e.coordinates,t);break;case"MultiPoint":e.coordinates.forEach(i=>{const[o,s]=i;t=LonLatBBox2.extend(t,o,s,o,s)});break;case"Point":{const[i,o]=e.coordinates;t=LonLatBBox2.extend(t,i,o,i,o);break}}return t}function largestPolygon(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(o=>{const s=largestPolygon(o);if(s==null)return;const a=polygonBbox(s[0],void 0);if(a==null)return;const r=Math.abs(a.lat1-a.lat0)*Math.abs(a.lon1-a.lon0);(t==null||r>t)&&(t=r,i=s)}),i}case"MultiPolygon":{let t,i;return e.coordinates.forEach(o=>{const s=polygonBbox(o[0],void 0);if(s==null)return;const a=Math.abs(s.lat1-s.lat0)*Math.abs(s.lon1-s.lon0);(t==null||a>t)&&(t=a,i=o)}),i}case"Polygon":return e.coordinates;case"MultiLineString":case"LineString":case"MultiPoint":case"Point":return}}function largestLineString(e){switch(e.type){case"GeometryCollection":{let t,i;return e.geometries.forEach(o=>{const s=largestLineString(o);if(s==null)return;const a=lineStringLength(s);a!=null&&(t==null||a>t)&&(t=a,i=s)}),i}case"MultiLineString":{let t=0,i;return e.coordinates.forEach(o=>{const s=lineStringLength(o);s>t&&(t=s,i=o)}),i}case"LineString":return e.coordinates;case"MultiPolygon":case"Polygon":case"MultiPoint":case"Point":return}}function containsType(e,t){if(e==null)return!1;switch(e.type){case"GeometryCollection":return e.geometries.some(i=>containsType(i,t));case"MultiPolygon":case"Polygon":return(t&1)!==0;case"MultiLineString":case"LineString":return(t&2)!==0;case"MultiPoint":case"Point":return(t&4)!==0}}function projectGeometry(e,t){switch(e.type){case"GeometryCollection":return{type:"GeometryCollection",geometries:e.geometries.map(i=>projectGeometry(i,t))};case"Polygon":return{type:"Polygon",coordinates:projectPolygon(e.coordinates,t)};case"MultiPolygon":return{type:"MultiPolygon",coordinates:projectMultiPolygon(e.coordinates,t)};case"MultiLineString":return{type:"MultiLineString",coordinates:projectPolygon(e.coordinates,t)};case"LineString":return{type:"LineString",coordinates:projectLineString(e.coordinates,t)};case"MultiPoint":return{type:"MultiPoint",coordinates:projectLineString(e.coordinates,t)};case"Point":return{type:"Point",coordinates:t.convert(e.coordinates)}}}function projectMultiPolygon(e,t){return e.map(i=>projectPolygon(i,t))}function projectPolygon(e,t){return e.map(i=>projectLineString(i,t))}function projectLineString(e,t){return e.map(i=>t.convert(i))}function prepareMapMarkerAnimationFunctions(){return{fromFn:(i,o,s)=>s==="removed"?{scalingX:1,scalingY:1}:i.previousDatum==null?{scalingX:0,scalingY:0}:{scalingX:i.scalingX,scalingY:i.scalingY},toFn:(i,o,s)=>s==="removed"?{scalingX:0,scalingY:0}:{scalingX:1,scalingY:1}}}function findFocusedGeoGeometry(e,t){const i=e.contextNodeData?.nodeData[t.datumIndex];if(i!==void 0){for(const o of e.datumSelection.nodes())if(o.datum===i)return o}}var import_ag_charts_community91=require("ag-charts-community"),TopologySeriesProperties=class extends import_ag_charts_community91._ModuleSupport.SeriesProperties{},TopologySeries=class extends import_ag_charts_community91._ModuleSupport.DataModelSeries{addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>{this.onLegendItemClick(e)}),this.ctx.eventsHub.on("legend:item-double-click",e=>{this.onLegendItemDoubleClick(e)}))}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}},import_ag_charts_community92=require("ag-charts-community"),{Property:Property25,SeriesProperties:SeriesProperties3,makeSeriesTooltip:makeSeriesTooltip12,Label:Label8}=import_ag_charts_community92._ModuleSupport,MapLineSeriesProperties=class extends SeriesProperties3{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.topologyIdKey="name",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.maxStrokeWidth=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.label=new Label8,this.tooltip=makeSeriesTooltip12()}getStyle(){const{stroke:e,strokeOpacity:t,strokeWidth:i,lineDash:o,lineDashOffset:s}=this;return{stroke:e,strokeOpacity:t,strokeWidth:i,lineDash:o,lineDashOffset:s}}};__decorateClass([Property25],MapLineSeriesProperties.prototype,"topology",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"title",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"legendItemName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"idKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"idName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"labelKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"labelName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"sizeKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"sizeName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"colorKey",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"colorName",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"colorRange",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"maxStrokeWidth",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"stroke",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"lineDash",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"label",2),__decorateClass([Property25],MapLineSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount2,getLabelStyles:getLabelStyles2,createDatumId:createDatumId10,SeriesNodePickMode:SeriesNodePickMode9,valueProperty:valueProperty9,ColorScale:ColorScale2,LinearScale:LinearScale4,Selection:Selection6,Text:Text2,Transformable:Transformable2,mergeDefaults:mergeDefaults11}=import_ag_charts_community93._ModuleSupport,MapLineSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{size:["colorKey"],color:["colorKey"],label:["labelKey"]},propertyNames:{size:["sizeName"],color:["colorName"],label:["labelName"]},pickModes:[SeriesNodePickMode9.EXACT_SHAPE_MATCH,SeriesNodePickMode9.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new MapLineSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale2,this.sizeScale=new LinearScale4,this.datumSelection=Selection6.select(this.contentGroup,()=>this.nodeFactory()),this.labelSelection=Selection6.select(this.labelGroup,Text2),this.highlightDatumSelection=Selection6.select(this.highlightGroup,()=>this.nodeFactory()),this._previousDatumMidPoint=void 0}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[1,e],this.highlightGroup.zIndex=[2,e],!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e}async processData(e){if(this.data==null)return;const{data:t,topology:i,sizeScale:o,colorScale:s}=this,{topologyIdKey:a,idKey:r,sizeKey:n,colorKey:l,labelKey:c,sizeDomain:h,colorRange:p}=this.properties,u=new Map;i?.features.forEach(v=>{const S=v.properties?.[a];S==null||!containsType(v.geometry,2)||u.set(S,v)});const d=this.sizeScale.type,g=this.colorScale.type,y=this.scale?.type,{dataModel:m,processedData:f}=await this.requestDataModel(e,t,{props:[valueProperty9(r,y,{id:"idValue",includeProperty:!1}),valueProperty9(r,y,{id:"featureValue",includeProperty:!1,processor:()=>v=>u.get(v)}),...c!=null?[valueProperty9(c,"category",{id:"labelValue"})]:[],...n!=null?[valueProperty9(n,d,{id:"sizeValue"})]:[],...l!=null?[valueProperty9(l,g,{id:"colorValue"})]:[]]}),b=m.resolveColumnById(this,"featureValue",f);if(this.topologyBounds=b.reduce((v,S)=>{const D=S?.geometry;return D==null?v:geometryBbox(D,v)},void 0),n!=null){const v=m.resolveProcessedDataIndexById(this,"sizeValue"),S=f.domain.values[v]??[];o.domain=h??S}if(p!=null&&this.isColorScaleValid()){const v=m.resolveProcessedDataIndexById(this,"colorValue");s.domain=f.domain.values[v],s.range=p,s.update()}i==null&&import_ag_charts_core30.Logger.warnOnce("no topology was provided for [MapLineSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=getMissCount2(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelDatum(e,t,i,o){if(t==null||i==null)return;const s=largestLineString(i);if(s==null)return;const{idKey:a,idName:r,sizeKey:n,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:u,label:d}=this.properties;if(p==null||!d.enabled)return;const g=this.getLabelText(t,e,p,"label",[],d,{value:t,datum:e,idKey:a,idName:r,sizeKey:n,sizeName:l,colorKey:c,colorName:h,labelKey:p,labelName:u});if(g==null)return;const y=o.measureText(String(g)),m=lineStringCenter(s);if(m==null)return;const[f,b]=m.point,{width:v,height:S}=y;return{point:{x:f,y:b,size:0},label:{width:v,height:S,text:g},anchor:void 0,placement:void 0}}createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:o,properties:s,scale:a}=this,{idKey:r,sizeKey:n,colorKey:l,labelKey:c,label:h,legendItemName:p}=s;if(t==null||i==null)return;const u=t.resolveColumnById(this,"idValue",i),d=t.resolveColumnById(this,"featureValue",i),g=c!=null?t.resolveColumnById(this,"labelValue",i):void 0,y=n!=null?t.resolveColumnById(this,"sizeValue",i):void 0,m=l!=null?t.resolveColumnById(this,"colorValue",i):void 0,f=s.maxStrokeWidth??s.strokeWidth;o.range=[Math.min(s.strokeWidth,f),f];const b=(0,import_ag_charts_core30.cachedTextMeasurer)(h),v=new Map;i.dataSources.get(this.id)?.forEach((M,A)=>{const I=u[A],L=d[A]?.geometry??void 0,R=L!=null&&a!=null?projectGeometry(L,a):void 0;I!=null&&R!=null&&v.set(I,R)});const S=[],D=[],_=[];(i.dataSources.get(this.id)??[]).forEach((M,A)=>{const I=u[A],L=m?.[A],R=y?.[A],C=g?.[A],N=v.get(I);N==null&&_.push(I);const w=this.getLabelDatum(M,C,N,b);w!=null&&D.push(w),S.push({series:this,itemId:r,datum:M,datumIndex:A,idValue:I,labelValue:C,colorValue:L,sizeValue:R,projectedGeometry:N,legendItemName:p,style:this.getItemStyle({datumIndex:A,datum:M,colorValue:L,sizeValue:R},!1)})});const x=10;if(_.length>x){const M=_.length-x;_.length=x,_.push(`(+${M} more)`)}return _.length>0&&import_ag_charts_core30.Logger.warnOnce("some data items do not have matches in the provided topology",_),{itemId:e,nodeData:S,labelData:D}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e,highlightDatumSelection:t}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;let i=this.ctx.highlightManager?.getActiveHighlight();const{legendItemName:o}=this.properties,s=o!=null&&i?.datum==null&&o===i?.legendItemName;i!=null&&(i.series!==this&&!s||i.datum==null)&&(i=void 0);const a=this.contextNodeData?.nodeData??[];this.datumSelection=this.updateDatumSelection({nodeData:a,datumSelection:e}),this.updateDatumStyles({datumSelection:e,isHighlight:!1}),this.updateDatumNodes({datumSelection:e,isHighlight:!1}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:i!=null?[i]:[],datumSelection:t}),this.updateDatumStyles({datumSelection:t,isHighlight:!0}),this.updateDatumNodes({datumSelection:t,isHighlight:!0})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId10(t.idValue))}getItemStyle({datumIndex:e=0,datum:t,colorValue:i,sizeValue:o},s){const{id:a,properties:r,colorScale:n,sizeScale:l}=this,{colorRange:c,itemStyler:h}=r,p=this.getHighlightStyle(s,e),u=mergeDefaults11(p,r.getStyle());!s&&i!=null&&(u.stroke=this.isColorScaleValid()?n.convert(i):c?.[0]??r.stroke),o!=null&&(u.strokeWidth=l.convert(o,{clamp:!0}));let d;return h!=null&&(d=this.cachedDatumCallback(createDatumId10(e,s?"highlight":"node"),()=>{const g=this.ctx.highlightManager?.getActiveHighlight(),y=this.getHighlightStateString(g,s,e);return this.callWithContext(h,{seriesId:a,datum:t,highlighted:s,highlightState:y,...u})})),d?mergeDefaults11(u,d):u}updateDatumStyles({datumSelection:e,isHighlight:t}){e.each((i,o)=>{o.style=this.getItemStyle(o,t)})}updateDatumNodes({datumSelection:e}){e.each((t,i)=>{const{projectedGeometry:o,style:s}=i;if(o==null){t.visible=!1,t.projectedGeometry=void 0;return}t.visible=!0,t.projectedGeometry=o,t.setProperties(s)})}updatePlacedLabelData(e){this.labelSelection=this.labelSelection.update(e,t=>{t.pointerEvents=import_ag_charts_community93._ModuleSupport.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{properties:t}=this,i=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((o,{x:s,y:a,width:r,height:n,text:l},c)=>{const h=getLabelStyles2(this,void 0,t,t.label,!1,i),{color:p,fontStyle:u,fontWeight:d,fontSize:g,fontFamily:y}=h;o.visible=!0,o.x=s+r/2,o.y=a+n/2,o.text=l,o.fill=p,o.fontStyle=u,o.fontWeight=d,o.fontSize=g,o.fontFamily=y,o.textAlign="center",o.textBaseline="middle",o.fillOpacity=this.getHighlightStyle(!1,c).opacity??1,o.setBoxing(h)})}resetAnimation(){}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.datumSelection.each((s,a)=>{const r=s.distanceSquared(e,t);r<i&&(i=r,o=a)}),o!=null?{datum:o,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,o=i!=null?largestLineString(i):void 0,s=o!=null?lineStringCenter(o)?.point:void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:a},a}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:o}=this,{strokeWidth:s,strokeOpacity:a,lineDash:r}=o;let{stroke:n}=o;if(e!=null&&this.isColorScaleValid()){const c=t.resolveColumnById(this,"colorValue",i)[e];n=this.colorScale.convert(c)}return{marker:{fill:void 0,fillOpacity:0,stroke:void 0,strokeWidth:0,strokeOpacity:0,lineDash:[0],lineDashOffset:0,enabled:!1},line:{stroke:n,strokeWidth:s,strokeOpacity:a,lineDash:r}}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:o,visible:s}=this,{title:a,legendItemName:r,idKey:n,idName:l,colorKey:c,colorRange:h,showInLegend:p}=this.properties;if(e==="gradient"&&c!=null&&h!=null){const u=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:o,series:this.getFormatterContext("color"),colorRange:h,colorDomain:u}]}else return e==="category"?[{legendType:"category",id:o,itemId:o,seriesId:o,enabled:s,label:{text:r??a??l??n},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!p}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:s,ctx:{formatManager:a}}=this,{idKey:r,idName:n,colorKey:l,colorName:c,sizeKey:h,sizeName:p,labelKey:u,labelName:d,title:g,legendItemName:y,tooltip:m}=s;if(!i||!o)return;const f=o.dataSources.get(this.id)?.[e],b=i.resolveColumnById(this,"idValue",o),v=h!=null?i.resolveColumnById(this,"sizeValue",o)[e]:void 0,S=l!=null?i.resolveColumnById(this,"colorValue",o)[e]:void 0,D=[];if(this.isLabelEnabled()&&u!=null&&u!==r){const k=i.resolveColumnById(this,"labelValue",o)[e],x=a.format(this.callWithContext.bind(this),{type:"category",value:k,datum:f,seriesId:t,legendItemName:y,key:u,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});D.push({label:d,fallbackLabel:u,value:x??k})}if(v!=null&&h!=null){const k=i.getDomain(this,"sizeValue","value",o),x=a.format(this.callWithContext.bind(this),{type:"number",value:v,datum:f,seriesId:t,legendItemName:y,key:h,source:"tooltip",property:"size",domain:k,boundSeries:this.getFormatterContext("size"),fractionDigits:void 0});D.push({label:p,fallbackLabel:h,value:x??String(v)})}if(S!=null&&l!=null){const k=i.getDomain(this,"colorValue","value",o),x=a.format(this.callWithContext.bind(this),{type:"number",value:S,datum:f,seriesId:t,legendItemName:y,key:l,source:"tooltip",property:"color",domain:k,boundSeries:this.getFormatterContext("color"),fractionDigits:void 0});D.push({label:c,fallbackLabel:l,value:x??String(S)})}const _=this.getItemStyle({datumIndex:e,datum:f,colorValue:S,sizeValue:v},!1);return this.formatTooltipWithContext(m,{heading:b[e],title:g??y,symbol:this.legendItemSymbol(e),data:D},{seriesId:t,datum:f,title:g,idKey:r,idName:n,colorKey:l,colorName:c,sizeKey:h,sizeName:p,labelKey:u,labelName:d,..._})}computeFocusBounds(e){const t=findFocusedGeoGeometry(this,e);return t?Transformable2.toCanvas(this.contentGroup,t.getBBox()):void 0}hasItemStylers(){return this.properties.itemStyler!=null}};MapLineSeries.className="MapLineSeries",MapLineSeries.type="map-line";var import_ag_charts_community94=require("ag-charts-community"),import_ag_charts_core31=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs11,mapLineSeriesThemeableOptionsDef,without:without5}=import_ag_charts_community94._ModuleSupport,mapLineSeriesOptionsDef={...without5(commonSeriesOptionsDefs11,["highlightStyle","highlight"]),...mapLineSeriesThemeableOptionsDef,type:(0,import_ag_charts_core31.required)((0,import_ag_charts_core31.constant)("map-line")),idKey:(0,import_ag_charts_core31.required)(import_ag_charts_core31.string),sizeKey:import_ag_charts_core31.string,colorKey:import_ag_charts_core31.string,labelKey:import_ag_charts_core31.string,idName:import_ag_charts_core31.string,sizeName:import_ag_charts_core31.string,colorName:import_ag_charts_core31.string,labelName:import_ag_charts_core31.string,topology:import_ag_charts_core31.geoJson,topologyIdKey:import_ag_charts_core31.string,legendItemName:import_ag_charts_core31.string,title:import_ag_charts_core31.string};mapLineSeriesOptionsDef.colorRange=(0,import_ag_charts_core31.undocumented)((0,import_ag_charts_core31.and)((0,import_ag_charts_core31.arrayOf)(import_ag_charts_core31.color),(0,import_ag_charts_core31.arrayLength)(1)));var MapLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line",moduleFactory:e=>new MapLineSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{stroke:applyMapPalette(import_ag_charts_community95._ModuleSupport.SAFE_STROKE_FILL_OPERATION),colorRange:{$if:[{$eq:[{$mapPalette:"type"},"inbuilt"]},{$mapPalette:"divergingColors"},applyMapPalette(import_ag_charts_community95._ModuleSupport.SAFE_RANGE2_OPERATION)]},strokeWidth:1,maxStrokeWidth:3,lineDash:[0],lineDashOffset:0,label:{...import_ag_charts_community95._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},highlight:applyMapPalette(import_ag_charts_community95._ModuleSupport.multiSeriesHighlightStyle(!1))},tooltip:{range:"exact"}}},MapLineSeriesModule={type:"series",name:"map-line",chartType:"topology",enterprise:!0,options:mapLineSeriesOptionsDef,create:e=>new MapLineSeries(e)},import_ag_charts_community97=require("ag-charts-community"),import_ag_charts_core32=require("ag-charts-core"),import_ag_charts_community96=require("ag-charts-community"),{Property:Property26,SeriesProperties:SeriesProperties4,makeSeriesTooltip:makeSeriesTooltip13}=import_ag_charts_community96._ModuleSupport,MapLineBackgroundSeriesProperties=class extends SeriesProperties4{constructor(){super(...arguments),this.topology=void 0,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=makeSeriesTooltip13()}};__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property26],MapLineBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId11,Group:Group8,Selection:Selection7,PointerEvents:PointerEvents6}=import_ag_charts_community97._ModuleSupport,MapLineBackgroundSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[]}),this.properties=new MapLineBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group8({name:"itemGroup"})),this.datumSelection=Selection7.select(this.itemGroup,()=>this.nodeFactory()),this.itemGroup.pointerEvents=PointerEvents6.None}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[0,e,0],this.highlightGroup.zIndex=[0,e,1],!0}nodeFactory(){const e=new GeoGeometry;return e.renderMode=2,e.lineJoin="round",e.lineCap="round",e.pointerEvents=PointerEvents6.None,e}processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const o=i.geometry;return o==null?t:geometryBbox(o,t)},void 0),e==null&&import_ag_charts_core32.Logger.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:e,topology:t,scale:i,properties:o}=this;if(t==null)return;const{stroke:s,strokeOpacity:a,lineDash:r,lineDashOffset:n,strokeWidth:l}=o,c=[],h=[];return t.features.forEach((p,u)=>{const{geometry:d}=p,g=d!=null&&i!=null?projectGeometry(d,i):void 0;g!=null&&c.push({series:this,itemId:u,datum:p,datumIndex:0,index:u,projectedGeometry:g,style:{stroke:s,strokeOpacity:a,lineDash:r,lineDashOffset:n,strokeWidth:l}})}),{itemId:e,nodeData:c,labelData:h}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:t,datumSelection:e}),this.updateDatumNodes({datumSelection:e})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId11(t.index))}updateDatumNodes(e){const{datumSelection:t}=e;t.each((i,o)=>{const{projectedGeometry:s}=o;if(s==null){i.visible=!1,i.projectedGeometry=void 0;return}i.visible=!0,i.projectedGeometry=s,i.setProperties(o.style)})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(e){}computeFocusBounds(e){}hasItemStylers(){return!1}};MapLineBackgroundSeries.className="MapLineBackgroundSeries",MapLineBackgroundSeries.type="map-line-background";var import_ag_charts_community98=require("ag-charts-community"),import_ag_charts_core33=require("ag-charts-core"),{mapLineBackgroundSeriesThemeableOptionsDef}=import_ag_charts_community98._ModuleSupport,mapLineBackgroundSeriesOptionsDef={...mapLineBackgroundSeriesThemeableOptionsDef,type:(0,import_ag_charts_core33.required)((0,import_ag_charts_core33.constant)("map-line-background")),topology:import_ag_charts_core33.geoJson},MapLineBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-line-background",moduleFactory:e=>new MapLineBackgroundSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{stroke:{$path:["/1",{$mapPalette:"stroke"},{$mapPalette:"secondHierarchyColors"}]},strokeWidth:1,lineDash:[0],lineDashOffset:0}}},MapLineBackgroundSeriesModule={type:"series",name:"map-line-background",chartType:"topology",enterprise:!0,options:mapLineBackgroundSeriesOptionsDef,create:e=>new MapLineBackgroundSeries(e)},import_ag_charts_community103=require("ag-charts-community"),import_ag_charts_core37=require("ag-charts-core"),import_ag_charts_community101=require("ag-charts-community"),import_ag_charts_core35=require("ag-charts-core"),__MINI_CHART_SERIES_OPTIONS=void 0,__VERIFY_MINI_CHART_SERIES_OPTIONS=void 0;__VERIFY_MINI_CHART_SERIES_OPTIONS=__MINI_CHART_SERIES_OPTIONS;var __THEME_OVERRIDES=void 0,__VERIFY_THEME_OVERRIDES=void 0;__VERIFY_THEME_OVERRIDES=__THEME_OVERRIDES;var __THEMEABLE_OPTIONS=void 0,__VERIFY_THEMEABLE_OPTIONS=void 0;__VERIFY_THEMEABLE_OPTIONS=__THEMEABLE_OPTIONS;var __AXIS_LABEL_OPTIONS=void 0,__VERIFY_AXIS_LABEL_OPTIONS=void 0;__VERIFY_AXIS_LABEL_OPTIONS=__AXIS_LABEL_OPTIONS;var import_ag_charts_core34=require("ag-charts-core");function polygonPointSearch(e,t,i){const o=polygonBbox(e[0],void 0);if(o==null)return;const s=(o.lon0+o.lon1)/2,a=(o.lat0+o.lat1)/2,r=Math.abs(o.lon1-o.lon0),n=Math.abs(o.lat1-o.lat0),l=polygonCentroid(e[0]),[c,h]=l,p=-polygonDistance(e,c,h);let u;const d=(D,_)=>{const x=Math.max(_-p,0);return D-.5*x},g=(D,_,k)=>{const{distance:x,maxDistance:M}=i(e,D,_,k),A=Math.hypot(c-D,h-_),I=Math.min(Math.max(c,D-k/2),D+k/2),L=Math.min(Math.max(h,_-k/2),_+k/2),R=Math.hypot(c-I,h-L),C=d(x,A),N=d(M,R);return{distance:x,maxDistance:M,value:C,maxValue:N,x:D,y:_,stride:k}},y=(D,_,k,x)=>{const M=g(_,k,x);M.maxDistance>=0&&D.push(M)},m=Math.min(r,n)/2;let f={value:g(s,a,m),next:null};for(;f!=null;){const D=f.value,{distance:_,value:k,maxValue:x,x:M,y:A,stride:I}=D;if(f=f.next,_>0&&(u==null||k>u.value)&&(u=D),u!=null&&x-u.value<=t)continue;const L=I/2,R=[];y(R,M-L,A-L,L),y(R,M+L,A-L,L),y(R,M-L,A+L,L),y(R,M+L,A+L,L),R.sort(labelPlacementCmp),f=(0,import_ag_charts_core34.insertListItemsSorted)(f,R,labelPlacementCmp)}if(u==null)return;const{distance:b,x:v,y:S}=u;return{x:v,y:S,distance:b}}var labelPlacementCmp=(e,t)=>t.maxValue-e.maxValue;function polygonMarkerCenter(e,t){const i=polygonPointSearch(e,t,(a,r,n,l)=>{const c=-polygonDistance(a,r,n),h=c+l*Math.SQRT2;return{distance:c,maxDistance:h}});if(i==null)return;const{x:o,y:s}=i;return[o,s]}function markerPositions(e,t){let i;switch(e.type){case"GeometryCollection":return e.geometries.flatMap(o=>markerPositions(o,t));case"MultiPoint":return e.coordinates;case"Point":return[e.coordinates];case"MultiPolygon":{const o=largestPolygon(e);i=o!=null?polygonMarkerCenter(o,t):void 0;break}case"Polygon":{const o=e.coordinates;i=o!=null?polygonMarkerCenter(o,t):void 0;break}case"MultiLineString":{const o=largestLineString(e);i=o!=null?lineStringCenter(o)?.point:void 0;break}case"LineString":{const o=e.coordinates;i=lineStringCenter(o)?.point;break}}return i!=null?[i]:[]}var import_ag_charts_community99=require("ag-charts-community"),{BBox:BBox11}=import_ag_charts_community99._ModuleSupport;function getTopologyShapeFillBBox(e){if(!e)return;const{range:t}=e,i=t[0][0],o=t[0][1],s=t[1][0]-i,a=t[1][1]-o,r=new BBox11(i,o,s,a);return{series:r,axis:r}}var import_ag_charts_community100=require("ag-charts-community"),{Property:Property27,SeriesProperties:SeriesProperties5,makeSeriesTooltip:makeSeriesTooltip14,Label:Label9}=import_ag_charts_community100._ModuleSupport,MapMarkerSeriesLabel=class extends Label9{constructor(){super(...arguments),this.placement="bottom"}};__decorateClass([Property27],MapMarkerSeriesLabel.prototype,"placement",2);var MapMarkerSeriesProperties=class extends SeriesProperties5{constructor(){super(...arguments),this.topology=void 0,this.idKey=void 0,this.topologyIdKey="name",this.idName=void 0,this.latitudeKey=void 0,this.latitudeName=void 0,this.longitudeKey=void 0,this.longitudeName=void 0,this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.shape="circle",this.size=6,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.label=new MapMarkerSeriesLabel,this.tooltip=makeSeriesTooltip14()}getStyle(){const{size:e,shape:t,fill:i,fillOpacity:o,stroke:s,strokeWidth:a,strokeOpacity:r,lineDash:n,lineDashOffset:l}=this;return{size:e,shape:t,fill:i,fillOpacity:o,opacity:1,stroke:s,strokeWidth:a,strokeOpacity:r,lineDash:n,lineDashOffset:l}}};__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"topology",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"title",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"legendItemName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"idKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"idName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"latitudeKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"latitudeName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"longitudeKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"longitudeName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"labelKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"labelName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"sizeKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"sizeName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"colorKey",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"colorName",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"colorRange",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"shape",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"size",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"maxSize",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"sizeDomain",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"fill",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"stroke",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"lineDash",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"label",2),__decorateClass([Property27],MapMarkerSeriesProperties.prototype,"tooltip",2);var{fromToMotion:fromToMotion3,StateMachine:StateMachine2,getMissCount:getMissCount3,createDatumId:createDatumId12,SeriesNodePickMode:SeriesNodePickMode10,valueProperty:valueProperty10,computeMarkerFocusBounds:computeMarkerFocusBounds2,ColorScale:ColorScale3,LinearScale:LinearScale5,Group:Group9,Selection:Selection8,Text:Text3,Marker:Marker3,applyShapeStyle:applyShapeStyle11,getLabelStyles:getLabelStyles3,LonLatBBox:LonLatBBox3,mergeDefaults:mergeDefaults12}=import_ag_charts_community101._ModuleSupport,MapMarkerSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{size:["colorKey"],color:["colorKey"],label:["labelKey"]},propertyNames:{size:["sizeName"],color:["colorName"],label:["labelName"]},pickModes:[SeriesNodePickMode10.EXACT_SHAPE_MATCH,SeriesNodePickMode10.NEAREST_NODE],usesPlacedLabels:!0}),this.properties=new MapMarkerSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale3,this.sizeScale=new LinearScale5,this.markerGroup=this.contentGroup.appendChild(new Group9({name:"markerGroup"})),this.labelSelection=Selection8.select(this.labelGroup,Text3,!1),this.markerSelection=Selection8.select(this.markerGroup,Marker3,!1),this.highlightMarkerSelection=Selection8.select(this.highlightGroup,Marker3),this.animationState=new StateMachine2("empty",{empty:{update:{target:"ready",action:()=>this.animateMarkers()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.resetAllAnimation(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateMarkers()},resize:{target:"ready",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:()=>this.resetAllAnimation()},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){const e=this.properties.latitudeKey!=null&&this.properties.longitudeKey!=null;return super.hasData&&(this.topology!=null||e)}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[3,e],this.highlightGroup.zIndex=[4,e],!0}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}async processData(e){if(this.data==null)return;const{data:t,topology:i,sizeScale:o,colorScale:s}=this,{topologyIdKey:a,idKey:r,latitudeKey:n,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,sizeDomain:u,colorRange:d}=this.properties,g=new Map;i?.features.forEach(x=>{const M=x.properties?.[a];M!=null&&g.set(M,x)});const y=this.sizeScale.type,m=this.colorScale.type,f=this.scale?.type,b=n!=null&&l!=null,{dataModel:v,processedData:S}=await this.requestDataModel(e,t,{props:[...r!=null?[valueProperty10(r,f,{id:"idValue",includeProperty:!1}),valueProperty10(r,f,{id:"featureValue",includeProperty:!1,processor:()=>x=>g.get(x)})]:[],...b?[valueProperty10(n,f,{id:"latValue"}),valueProperty10(l,f,{id:"lonValue"})]:[],...p?[valueProperty10(p,"category",{id:"labelValue"})]:[],...c?[valueProperty10(c,y,{id:"sizeValue"})]:[],...h?[valueProperty10(h,m,{id:"colorValue"})]:[]]}),D=r!=null?v.resolveColumnById(this,"featureValue",S):void 0,_=b?v.resolveColumnById(this,"latValue",S):void 0,k=b?v.resolveColumnById(this,"lonValue",S):void 0;if(this.topologyBounds=S.dataSources.get(this.id)?.reduce((x,M,A)=>{const L=D?.[A]?.geometry;if(L!=null&&(x=geometryBbox(L,x)),_!=null&&k!=null){const R=k[A],C=_[A];x=LonLatBBox3.extend(x,R,C,R,C)}return x},void 0),c!=null){const x=v.resolveProcessedDataIndexById(this,"sizeValue"),M=S.domain.values[x]??[];o.domain=u??M}if(d!=null&&this.isColorScaleValid()){const x=v.resolveProcessedDataIndexById(this,"colorValue");s.domain=S.domain.values[x],s.range=d,s.update()}this.animationState.transition("updateData")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=getMissCount3(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelDatum(e,t,i,o,s,a){if(t==null)return;const{idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:u,sizeName:d,colorKey:g,colorName:y,labelKey:m,labelName:f,label:b,shape:v}=this.properties;if(m==null||!b.enabled)return;const{placement:S}=b,D=this.getLabelText(t,e,m,"label",[],b,{value:t,datum:e,idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,sizeKey:u,sizeName:d,colorKey:g,colorName:y,labelKey:m,labelName:f});if(D==null)return;const{width:_,height:k}=a.measureText(String(D)),x=Marker3.anchor(v);return{point:{x:i,y:o,size:s},label:{width:_,height:k,text:D},anchor:x,placement:S}}createNodeData(){const{id:e,dataModel:t,processedData:i,sizeScale:o,properties:s,scale:a}=this,{idKey:r,latitudeKey:n,longitudeKey:l,sizeKey:c,colorKey:h,labelKey:p,label:u,legendItemName:d}=s;if(t==null||i==null||a==null)return;const g=n!=null&&l!=null,y=r!=null?t.resolveColumnById(this,"idValue",i):void 0,m=r!=null?t.resolveColumnById(this,"featureValue",i):void 0,f=g?t.resolveColumnById(this,"latValue",i):void 0,b=g?t.resolveColumnById(this,"lonValue",i):void 0,v=p!=null?t.resolveColumnById(this,"labelValue",i):void 0,S=c!=null?t.resolveColumnById(this,"sizeValue",i):void 0,D=h!=null?t.resolveColumnById(this,"colorValue",i):void 0,_=s.maxSize??s.size;o.range=[Math.min(s.size,_),_];const k=(0,import_ag_charts_core35.cachedTextMeasurer)(u);let x;y!=null&&m!=null&&(x=new Map,i.dataSources.get(this.id)?.forEach((C,N)=>{const w=y[N],P=m[N]?.geometry??void 0,T=P!=null&&a!=null?projectGeometry(P,a):void 0;w!=null&&T!=null&&x.set(w,T)}));const M=[],A=[],I=[];(i.dataSources.get(this.id)??[]).forEach((C,N)=>{const w=y?.[N],P=b?.[N],T=f?.[N],E=D?.[N],O=S?.[N],F=v?.[N],G=O!=null?o.convert(O,{clamp:!0}):s.size,B=w!=null?x?.get(w):void 0;if(w!=null&&projectGeometry==null&&I.push(w),P!=null&&T!=null){const[V,z]=a.convert([P,T]),K=this.getLabelDatum(C,F,V,z,G,k);K&&A.push(K),M.push({series:this,itemId:n,datum:C,datumIndex:N,index:-1,idValue:w,lonValue:P,latValue:T,labelValue:F,sizeValue:O,colorValue:E,point:{x:V,y:z,size:G},midPoint:{x:V,y:z},legendItemName:d,style:this.getMarkerItemStyle({datumIndex:N,datum:C,colorValue:E,sizeValue:O},!1)})}else B!=null&&markerPositions(B,1).forEach(([V,z],K)=>{const W=this.getLabelDatum(C,F,V,z,G,k);W&&A.push(W),M.push({series:this,itemId:n,datum:C,datumIndex:N,index:K,idValue:w,lonValue:P,latValue:T,labelValue:F,sizeValue:O,colorValue:E,point:{x:V,y:z,size:G},midPoint:{x:V,y:z},legendItemName:d,style:this.getMarkerItemStyle({datumIndex:N,datum:C,colorValue:E,sizeValue:O},!1)})})});const R=10;if(I.length>R){const C=I.length-R;I.length=R,I.push(`(+${C} more)`)}return I.length>0&&import_ag_charts_core35.Logger.warnOnce("some data items do not have matches in the provided topology",I),{itemId:e,nodeData:M,labelData:A}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}checkScaleChange(){return this.previousScale===this.scale?!1:(this.previousScale=this.scale,!0)}update({seriesRect:e}){const t=this.checkResize(e),i=this.checkScaleChange(),{markerSelection:o,highlightMarkerSelection:s}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;let a=this.ctx.highlightManager?.getActiveHighlight();const{legendItemName:r}=this.properties,n=r!=null&&a?.datum==null&&r===a?.legendItemName;a!=null&&(a.series!==this&&!n||a.datum==null)&&(a=void 0);const l=this.contextNodeData?.nodeData??[];this.markerSelection=this.updateMarkerSelection({markerData:l,markerSelection:o}),this.updateMarkerNodes({markerSelection:o,isHighlight:!1,highlightedDatum:a}),this.highlightMarkerSelection=this.updateMarkerSelection({markerData:a!=null?[a]:[],markerSelection:s}),this.updateMarkerNodes({markerSelection:s,isHighlight:!0,highlightedDatum:a}),(i||t)&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePlacedLabelData(e){this.labelSelection=this.labelSelection.update(e,t=>{t.pointerEvents=import_ag_charts_community101._ModuleSupport.PointerEvents.None}),this.updateLabelNodes({labelSelection:this.labelSelection})}updateLabelNodes(e){const{properties:t}=this,i=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((o,{x:s,y:a,width:r,height:n,text:l},c)=>{const h=getLabelStyles3(this,void 0,t,t.label,!1,i),{color:p,fontStyle:u,fontWeight:d,fontSize:g,fontFamily:y}=h;o.visible=!0,o.x=s+r/2,o.y=a+n/2,o.text=l,o.fill=p,o.fontStyle=u,o.fontWeight=d,o.fontSize=g,o.fontFamily=y,o.textAlign="center",o.textBaseline="middle",o.fillOpacity=this.getHighlightStyle(!1,c).opacity??1,o.setBoxing(h)})}updateMarkerSelection(e){const{markerData:t,markerSelection:i}=e;return i.update(t,void 0,o=>createDatumId12(o.index,o.idValue,o.lonValue,o.latValue))}getMarkerItemStyle({datumIndex:e,datum:t,colorValue:i,sizeValue:o},s){const{id:a,properties:r,colorScale:n,sizeScale:l}=this,{colorRange:c,itemStyler:h}=r,p=this.getHighlightStyle(s,e),u=mergeDefaults12(p,r.getStyle());!s&&i!=null&&(u.fill=this.isColorScaleValid()?n.convert(i):c?.[0]??u.fill),o!=null&&(u.size=l.convert(o,{clamp:!0}));let d=u;if(h!=null&&e!=null){const g=this.cachedDatumCallback(createDatumId12(e,s?"highlight":"node"),()=>{const y=this.ctx.highlightManager?.getActiveHighlight(),m=this.getHighlightStateString(y,s,e);return this.callWithContext(h,{seriesId:a,datum:t,highlighted:s,highlightState:m,...d})});g&&(d=mergeDefaults12(g,u))}return d}updateMarkerNodes(e){const{markerSelection:t,isHighlight:i,highlightedDatum:o}=e,s=getTopologyShapeFillBBox(this.scale);t.each((a,r)=>{const{datum:n,point:l}=r,c=this.getMarkerItemStyle(r,i);a.shape=c.shape,a.size=c.size,applyShapeStyle11(a,c,s),a.x=l.x,a.y=l.y,a.scalingCenterX=l.x,a.scalingCenterY=l.y,a.zIndex=!i&&o!=null&&n===o.datum?1:0})}isProcessedDataAnimatable(){return!0}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),this.ctx.animationManager.skipCurrentBatch(),this.labelSelection.cleanup(),this.markerSelection.cleanup(),this.highlightMarkerSelection.cleanup()}animateMarkers(){const{animationManager:e}=this.ctx,t=prepareMapMarkerAnimationFunctions();fromToMotion3(this.id,"markers",e,[this.markerSelection,this.highlightMarkerSelection],t)}getLabelData(){return this.isLabelEnabled()?this.contextNodeData?.labelData??[]:[]}pickNodeClosestDatum(e){const{x:t,y:i}=e;let o=1/0,s;return this.contextNodeData?.nodeData.forEach(a=>{const{x:r,y:n,size:l}=a.point,c=Math.max(Math.abs(r-t)-l,0),h=Math.max(Math.abs(n-i)-l,0),p=c*c+h*h;p<o&&(o=p,s=a)}),s!=null?{datum:s,distance:Math.sqrt(o)}:void 0}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:o}=this,{shape:s,fillOpacity:a,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:h}=o;let{fill:p}=o;if(e!=null&&this.isColorScaleValid()){const d=t.resolveColumnById(this,"colorValue",i)[e];p=this.colorScale.convert(d)}return{marker:{shape:s,fill:p,fillOpacity:a,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:h}}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:o,visible:s}=this,{title:a,legendItemName:r,idName:n,idKey:l,colorKey:c,colorRange:h,showInLegend:p}=this.properties;if(e==="gradient"&&c!=null&&h!=null){const u=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:o,series:this.getFormatterContext("color"),colorRange:h,colorDomain:u}]}else return e==="category"?[{legendType:"category",id:o,itemId:o,seriesId:o,enabled:s,label:{text:r??a??n??l??o},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!p}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:s,ctx:{formatManager:a}}=this,{idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,colorKey:u,colorName:d,sizeKey:g,sizeName:y,labelKey:m,labelName:f,title:b,legendItemName:v,tooltip:S}=s;if(!i||!o)return;const D=o.dataSources.get(this.id)?.[e],_=g!=null?i.resolveColumnById(this,"sizeValue",o)[e]:void 0,k=u!=null?i.resolveColumnById(this,"colorValue",o)[e]:void 0,x=[];if(this.isLabelEnabled()&&m!=null&&m!==r){const I=i.resolveColumnById(this,"labelValue",o)[e],L=a.format(this.callWithContext.bind(this),{type:"category",value:I,datum:D,seriesId:t,legendItemName:v,key:m,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});x.push({label:f,fallbackLabel:m,value:L??I})}if(g!=null&&_!=null){const I=i.getDomain(this,"sizeValue","value",o),L=a.format(this.callWithContext.bind(this),{type:"number",value:_,datum:D,seriesId:t,legendItemName:v,key:g,source:"tooltip",property:"size",domain:I,boundSeries:this.getFormatterContext("size"),fractionDigits:void 0});x.push({label:y,fallbackLabel:g,value:L??String(_)})}if(u!=null&&k!=null){const I=i.getDomain(this,"colorValue","value",o),L=a.format(this.callWithContext.bind(this),{type:"number",value:k,datum:D,seriesId:t,legendItemName:v,key:u,source:"tooltip",property:"color",domain:I,boundSeries:this.getFormatterContext("color"),fractionDigits:void 0});x.push({label:d,fallbackLabel:u,value:L??String(k)})}let M;if(r!=null)M=i.resolveColumnById(this,"idValue",o)[e];else if(l!=null&&h!=null){const I=i.resolveColumnById(this,"latValue",o)[e],L=i.resolveColumnById(this,"lonValue",o)[e];M=`${Math.abs(I).toFixed(4)}\xB0 ${I>=0?"N":"S"}, ${Math.abs(L).toFixed(4)}\xB0 ${L>=0?"W":"E"}`}const A=this.getMarkerItemStyle({datumIndex:e,datum:D,colorValue:k,sizeValue:_},!1);return this.formatTooltipWithContext(S,{heading:M,title:b??v,symbol:this.legendItemSymbol(e),data:x},{seriesId:t,datum:D,title:b,idKey:r,idName:n,latitudeKey:l,latitudeName:c,longitudeKey:h,longitudeName:p,colorKey:u,colorName:d,sizeKey:g,sizeName:y,labelKey:m,labelName:f,...A})}getFormattedMarkerStyle(e){const t=this.getMarkerItemStyle(e,!1);return{size:t.size,shape:t.shape}}computeFocusBounds(e){return computeMarkerFocusBounds2(this,e)}hasItemStylers(){return this.properties.itemStyler!=null}};MapMarkerSeries.className="MapMarkerSeries",MapMarkerSeries.type="map-marker";var import_ag_charts_community102=require("ag-charts-community"),import_ag_charts_core36=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs12,mapMarkerSeriesThemeableOptionsDef,without:without6}=import_ag_charts_community102._ModuleSupport,mapMarkerSeriesOptionsDef={...without6(commonSeriesOptionsDefs12,["highlightStyle","highlight"]),...mapMarkerSeriesThemeableOptionsDef,type:(0,import_ag_charts_core36.required)((0,import_ag_charts_core36.constant)("map-marker")),idKey:import_ag_charts_core36.string,latitudeKey:import_ag_charts_core36.string,longitudeKey:import_ag_charts_core36.string,sizeKey:import_ag_charts_core36.string,colorKey:import_ag_charts_core36.string,labelKey:import_ag_charts_core36.string,idName:import_ag_charts_core36.string,latitudeName:import_ag_charts_core36.string,longitudeName:import_ag_charts_core36.string,sizeName:import_ag_charts_core36.string,colorName:import_ag_charts_core36.string,labelName:import_ag_charts_core36.string,topology:import_ag_charts_core36.geoJson,topologyIdKey:import_ag_charts_core36.string,legendItemName:import_ag_charts_core36.string,title:import_ag_charts_core36.string},MapMarkerModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-marker",moduleFactory:e=>new MapMarkerSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{shape:"circle",maxSize:30,fill:applyMapPalette({$applySwitch:[{$path:"type"},{$mapPalette:"fill"},["gradient",import_ag_charts_community103._ModuleSupport.FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS],["image",import_ag_charts_community103._ModuleSupport.FILL_IMAGE_DEFAULTS],["pattern",import_ag_charts_community103._ModuleSupport.FILL_PATTERN_DEFAULTS]]}),stroke:{$mapPalette:"stroke"},colorRange:{$if:[{$eq:[{$mapPalette:"type"},"inbuilt"]},{$mapPalette:"divergingColors"},applyMapPalette(import_ag_charts_community103._ModuleSupport.SAFE_RANGE2_OPERATION)]},fillOpacity:.5,label:{...import_ag_charts_community103._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},highlight:applyMapPalette(import_ag_charts_community103._ModuleSupport.multiSeriesHighlightStyle())},tooltip:{range:"exact"}}},MapMarkerSeriesModule={type:"series",name:"map-marker",chartType:"topology",enterprise:!0,options:mapMarkerSeriesOptionsDef,create:e=>new MapMarkerSeries(e),validate(e,t,i){const o=(0,import_ag_charts_core37.validate)(e,t,i),{cleared:s,invalid:a}=o;if(s?.idKey==null&&(s?.latitudeKey==null||s?.longitudeKey==null)){const r=l=>i?`${i}.${l}`:l,n=`Either \`${r("idKey")}\` or both \`${r("latitudeKey")}\` and \`${r("longitudeKey")}\` are required.`;a.push(new import_ag_charts_core37.ValidationError("required",n,null,i))}return o}},import_ag_charts_community107=require("ag-charts-community"),import_ag_charts_community105=require("ag-charts-community"),import_ag_charts_core38=require("ag-charts-core");function preferredLabelCenter(e,{aspectRatio:t,precision:i}){const o=polygonPointSearch(e,i,(l,c,h,p)=>{const u=maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(l,c,h,t),d=u+2*p*t,g=u*Math.SQRT2,y=d*Math.SQRT2;return{distance:g,maxDistance:y}});if(o==null)return;const{x:s,y:a,distance:r}=o,n=r/Math.SQRT2;return{x:s,y:a,maxWidth:n}}function maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(e,t,i,o,s){const[a,r]=e,[n,l]=t,c=1/s,h=n-a,p=l-r,[u,d]=r<=l?e:t,[g,y]=a<=n?e:t,[m,f]=r<=l?t:e,[b,v]=a<=n?t:e;let S=1/0;if(h!==0){const A=p/h;for(let I=0;I<=1;I+=1){const L=I===0?c:-c,R=(A*a-r-L*i+o)/(A-L);if(R>=g&&R<=b){const C=Math.abs(i-R)*2;S=Math.min(S,C)}}}else for(let A=0;A<=1;A+=1){const L=(A===0?c:-c)*(a-i)+o;if(L>=d&&L<=f){const C=Math.abs(o-L)*2*s;S=Math.min(S,C)}}const D=s,_=Math.abs((u-i)/(d-o)),k=Math.abs((m-i)/(f-o));if(f<o&&k<D){const I=Math.abs(o-f)*2*s;S=Math.min(S,I)}else if(d>o&&_<D){const I=Math.abs(o-d)*2*s;S=Math.min(S,I)}const x=Math.abs((y-o)/(g-i)),M=Math.abs((v-o)/(b-i));if(b<i&&M<c){const A=Math.abs(i-b)*2;S=Math.min(S,A)}else if(g>i&&x<c){const A=Math.abs(i-g)*2;S=Math.min(S,A)}return S}function maxWidthOfRectConstrainedByCenterAndAspectRatioToPolygon(e,t,i,o){let s=!1,a=1/0;for(const r of e){let n=r[r.length-1],[l,c]=n;for(const h of r){const[p,u]=h;u>i!=c>i&&t<(l-p)*(i-u)/(c-u)+p&&(s=!s);const d=maxWidthOfRectConstrainedByCenterAndAspectRatioToLineSegment(n,h,t,i,o);a=Math.min(a,d),n=h,l=p,c=u}}return(s?1:-1)*a}function applyX(e,t,i){i>=t&&(e.maxX=Math.min(e.maxX,i-t)),i<=t&&(e.minX=Math.max(e.minX,i-t))}function xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(e,t,i,o,s,a){const r=s-a/2,n=s+a/2,[l,c]=t,[h,p]=i,u=h-l,d=p-c,[g,y]=l<=h?t:i,[m,f]=l<=h?i:t;if(u!==0){const b=d/u;for(let v=0;v<=1;v+=1){const D=((v===0?r:n)-c)/b+l;D>=g&&D<=m&&applyX(e,o,D)}}else Math.max(r,Math.min(c,p))<=Math.min(n,Math.max(c,p))&&applyX(e,o,l);return m<o&&f>=r&&f<=n?applyX(e,o,m):g>o&&y>=r&&y<=n&&applyX(e,o,g),e}function maxWidthInPolygonForRectOfHeight(e,t,i,o){const s={minX:-1/0,maxX:1/0};for(const n of e){let l=n[n.length-1];for(const c of n)xExtentsOfRectConstrainedByCenterAndHeightToLineSegment(s,l,c,t,i,o),l=c}const{minX:a,maxX:r}=s;return Number.isFinite(a)&&Number.isFinite(r)?{x:t+(a+r)/2,width:r-a}:{x:t,width:0}}var import_ag_charts_community104=require("ag-charts-community"),{Property:Property28,SeriesProperties:SeriesProperties6,makeSeriesTooltip:makeSeriesTooltip15}=import_ag_charts_community104._ModuleSupport,MapShapeSeriesProperties=class extends SeriesProperties6{constructor(){super(...arguments),this.topology=void 0,this.idKey="",this.idName=void 0,this.topologyIdKey="name",this.labelKey=void 0,this.labelName=void 0,this.colorRange=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.padding=0,this.label=new AutoSizedSecondaryLabel,this.tooltip=makeSeriesTooltip15()}getStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r}=this;return{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,opacity:1}}};__decorateClass([Property28],MapShapeSeriesProperties.prototype,"topology",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"title",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"legendItemName",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"idKey",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"idName",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"topologyIdKey",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"labelKey",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"labelName",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"colorKey",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"colorName",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"colorRange",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"fill",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"stroke",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"lineDash",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"padding",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"label",2),__decorateClass([Property28],MapShapeSeriesProperties.prototype,"tooltip",2);var{getMissCount:getMissCount4,createDatumId:createDatumId13,SeriesNodePickMode:SeriesNodePickMode11,valueProperty:valueProperty11,ColorScale:ColorScale4,Group:Group10,Selection:Selection9,Text:Text4,PointerEvents:PointerEvents7,applyShapeStyle:applyShapeStyle12,getLabelStyles:getLabelStyles4,mergeDefaults:mergeDefaults13}=import_ag_charts_community105._ModuleSupport,fixedScale=import_ag_charts_community105._ModuleSupport.MercatorScale.fixedScale(),MapShapeSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,propertyKeys:{color:["colorKey"],label:["labelKey"]},propertyNames:{color:["colorName"],label:["labelName"]},pickModes:[SeriesNodePickMode11.EXACT_SHAPE_MATCH,SeriesNodePickMode11.NEAREST_NODE]}),this.properties=new MapShapeSeriesProperties,this._chartTopology=void 0,this.colorScale=new ColorScale4,this.itemGroup=this.contentGroup.appendChild(new Group10({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group10({name:"itemLabelGroup"})),this.datumSelection=Selection9.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection9.select(this.itemLabelGroup,Text4),this.highlightDatumSelection=Selection9.select(this.highlightGroup,()=>this.nodeFactory()),this.previousLabelLayouts=void 0,this._previousDatumMidPoint=void 0,this.itemLabelGroup.pointerEvents=PointerEvents7.None}getNodeData(){return this.contextNodeData?.nodeData}get topology(){return this.properties.topology??this._chartTopology}get hasData(){return super.hasData&&this.topology!=null}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[1,e],this.highlightGroup.zIndex=[2,e],!0}isLabelEnabled(){return this.properties.labelKey!=null&&this.properties.label.enabled}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e}async processData(e){if(this.data==null)return;const{data:t,topology:i,colorScale:o}=this,{topologyIdKey:s,idKey:a,colorKey:r,labelKey:n,colorRange:l}=this.properties,c=new Map;i?.features.forEach(y=>{const m=y.properties?.[s];m==null||!containsType(y.geometry,1)||c.set(m,y)});const h=this.colorScale.type,p=this.scale?.type,{dataModel:u,processedData:d}=await this.requestDataModel(e,t,{props:[valueProperty11(a,p,{id:"idValue",includeProperty:!1}),valueProperty11(a,p,{id:"featureValue",includeProperty:!1,processor:()=>y=>c.get(y)}),...n?[valueProperty11(n,"category",{id:"labelValue"})]:[],...r?[valueProperty11(r,h,{id:"colorValue"})]:[]]}),g=u.resolveColumnById(this,"featureValue",d);if(this.topologyBounds=g.reduce((y,m)=>{const f=m?.geometry;return f==null?y:geometryBbox(f,y)},void 0),l!=null&&this.isColorScaleValid()){const y=u.resolveProcessedDataIndexById(this,"colorValue");o.domain=d.domain.values[y],o.range=l,o.update()}i==null&&import_ag_charts_core38.Logger.warnOnce("no topology was provided for [MapShapeSeries]; nothing will be rendered.")}isColorScaleValid(){const{colorKey:e}=this.properties;if(!e)return!1;const{dataModel:t,processedData:i}=this;if(!t||!i)return!1;const o=t.resolveProcessedDataIndexById(this,"colorValue"),s=i.input.count,a=getMissCount4(this,i.defs.values[o].missing);return!(s===0||s===a)}getLabelLayout(e,t,i,o,s){if(t==null||o==null)return;const{idKey:a,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:h,padding:p,label:u}=this.properties;if(c==null||!u.enabled)return;const d=this.getLabelText(t,e,c,"label",[],u,{value:t,datum:e,idKey:a,idName:r,colorKey:n,colorName:l,labelKey:c,labelName:h});if(d==null)return;const g=i.measureText(String(d)),y=d.split(`
`).length,m=(g.width+2*p)/(y*(0,import_ag_charts_core38.calcLineHeight)(u.fontSize)+2*p);if(s?.geometry===o&&s?.labelText===d&&s?.aspectRatio===m)return s;const f=projectGeometry(o,fixedScale),b=largestPolygon(f);if(b==null)return;const v=preferredLabelCenter(b,{aspectRatio:m,precision:.001});if(v==null)return;const{x:S,y:D,maxWidth:_}=v;return{geometry:o,labelText:d,aspectRatio:m,x:S,y:D,maxWidth:_,fixedPolygon:b}}getLabelDatum(e,t){const{scale:i}=this;if(i==null)return;const{padding:o,label:s}=this.properties,{labelText:a,aspectRatio:r,x:n,y:l,maxWidth:c,fixedPolygon:h}=e,p={width:Math.ceil(c*t),height:Math.ceil(c*t/r),meta:n},u=formatSingleLabel(a,s,{padding:o},(S,D)=>{if(!D)return p;const _=maxWidthInPolygonForRectOfHeight(h,n,l,S/t);return{width:_.width*t,height:S,meta:_.x}});if(u==null)return;const[{text:d,fontSize:g,lineHeight:y,width:m},f]=u,b=m<p.width?n:f,v=this.scale.convert(fixedScale.invert([b,l]));return{x:v[0],y:v[1],text:d,fontSize:g,lineHeight:y}}createNodeData(){const{id:e,dataModel:t,processedData:i,properties:o,scale:s,previousLabelLayouts:a}=this,{idKey:r,colorKey:n,labelKey:l,label:c,legendItemName:h}=o;if(t==null||i==null)return;const p=s!=null?(s.range[1][0]-s.range[0][0])/s.bounds.width:NaN,u=t.resolveColumnById(this,"idValue",i),d=t.resolveColumnById(this,"featureValue",i),g=l!=null?t.resolveColumnById(this,"labelValue",i):void 0,y=n!=null?t.resolveColumnById(this,"colorValue",i):void 0,m=(0,import_ag_charts_core38.cachedTextMeasurer)(c),f=new Map;this.previousLabelLayouts=f;const b=[],v=[],S=[];(i.dataSources.get(this.id)??[]).forEach((k,x)=>{const M=u[x],A=y?.[x],I=g?.[x],L=d[x]?.geometry??void 0;L==null&&S.push(M);const R=this.getLabelLayout(k,I,m,L,a?.get(M));R!=null&&f.set(M,R);const C=R!=null&&s!=null?this.getLabelDatum(R,p):void 0;C!=null&&v.push(C);const N=L!=null&&s!=null?projectGeometry(L,s):void 0;b.push({series:this,itemId:r,datum:k,datumIndex:x,idValue:M,colorValue:A,labelValue:I,projectedGeometry:N,legendItemName:h,style:this.getItemStyle({datum:k,datumIndex:x,colorValue:A},!1)})});const _=10;if(S.length>_){const k=S.length-_;S.length=_,S.push(`(+${k} more)`)}return S.length>0&&import_ag_charts_core38.Logger.warnOnce("some data items do not have matches in the provided topology",S),{itemId:e,nodeData:b,labelData:v}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e,labelSelection:t,highlightDatumSelection:i}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;let o=this.ctx.highlightManager?.getActiveHighlight();const{legendItemName:s}=this.properties,a=s!=null&&o?.datum==null&&s===o?.legendItemName;o!=null&&(o.series!==this&&!a||o.datum==null)&&(o=void 0);const r=this.contextNodeData?.nodeData??[],n=this.contextNodeData?.labelData??[];this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:e}),this.updateDatumStyles({datumSelection:e,isHighlight:!1}),this.updateDatumNodes({datumSelection:e}),this.labelSelection=this.updateLabelSelection({labelData:n,labelSelection:t}),this.updateLabelNodes({labelSelection:t}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:o!=null?[o]:[],datumSelection:i}),this.updateDatumStyles({datumSelection:i,isHighlight:!0}),this.updateDatumNodes({datumSelection:i})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId13(t.idValue))}getItemStyle({datumIndex:e,datum:t,colorValue:i},o){const{id:s,properties:a,colorScale:r}=this,{colorRange:n,itemStyler:l}=a,c=this.getHighlightStyle(o,e),h=mergeDefaults13(c,a.getStyle());!o&&i!=null&&(h.fill=this.isColorScaleValid()?r.convert(i):n?.[0]??h.fill);let p=h;if(l!=null&&e!=null){const u=this.cachedDatumCallback(createDatumId13(e,o?"highlight":"node"),()=>{const d=this.ctx.highlightManager?.getActiveHighlight(),g=this.getHighlightStateString(d,o,e);return this.ctx.optionsGraphService.resolvePartial(["series",`${this.declarationOrder}`],this.callWithContext(l,{seriesId:s,datum:t,highlighted:o,highlightState:g,...p}))});u&&(p=mergeDefaults13(u,p))}return p}updateDatumStyles({datumSelection:e,isHighlight:t}){e.each((i,o)=>{o.style=this.getItemStyle(o,t)})}updateDatumNodes({datumSelection:e}){const t=getTopologyShapeFillBBox(this.scale);e.each((i,o)=>{const{projectedGeometry:s}=o;if(s==null){i.visible=!1,i.projectedGeometry=void 0;return}i.visible=!0,i.projectedGeometry=s,applyShapeStyle12(i,o.style,t)})}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const{properties:t}=this,i=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((o,{x:s,y:a,text:r,fontSize:n,lineHeight:l},c)=>{const h=getLabelStyles4(this,void 0,t,t.label,!1,i),{color:p,fontStyle:u,fontWeight:d,fontFamily:g}=h;o.visible=!0,o.x=s,o.y=a,o.text=r,o.fill=p,o.fontStyle=u,o.fontWeight=d,o.fontSize=n,o.lineHeight=l,o.fontFamily=g,o.textAlign="center",o.textBaseline="middle",o.fillOpacity=this.getHighlightStyle(!1,c).opacity??1,o.setBoxing(h)})}resetAnimation(){}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.datumSelection.each((s,a)=>{const r=s.distanceSquared(e,t);r<i&&(i=r,o=a)}),o!=null?{datum:o,distance:Math.sqrt(i)}:void 0}datumMidPoint(e){const{_previousDatumMidPoint:t}=this;if(t?.datum===e)return t.point;const i=e.projectedGeometry,o=i!=null?largestPolygon(i):void 0,s=o!=null?polygonMarkerCenter(o,2):void 0,a=s!=null?{x:s[0],y:s[1]}:void 0;return this._previousDatumMidPoint={datum:e,point:a},a}legendItemSymbol(e){const{dataModel:t,processedData:i,properties:o}=this,{fillOpacity:s,stroke:a,strokeWidth:r,strokeOpacity:n,lineDash:l,lineDashOffset:c}=o;let{fill:h}=o;if(e!=null&&this.isColorScaleValid()){const u=t.resolveColumnById(this,"colorValue",i)[e];h=this.colorScale.convert(u)}return{marker:{fill:h,fillOpacity:s,stroke:a,strokeWidth:r,strokeOpacity:n,lineDash:l,lineDashOffset:c}}}getLegendData(e){const{processedData:t,dataModel:i}=this;if(t==null||i==null)return[];const{id:o,visible:s}=this,{title:a,legendItemName:r,idKey:n,idName:l,colorKey:c,colorRange:h,showInLegend:p}=this.properties;if(e==="gradient"&&c!=null&&h!=null){const u=t.domain.values[i.resolveProcessedDataIndexById(this,"colorValue")];return[{legendType:"gradient",enabled:s,seriesId:o,series:this.getFormatterContext("color"),colorRange:h,colorDomain:u}]}else return e==="category"?[{legendType:"category",id:o,itemId:o,seriesId:o,enabled:s,label:{text:r??a??l??n},symbol:this.legendItemSymbol(),legendItemName:r,hideInLegend:!p}]:[]}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:s,ctx:{formatManager:a}}=this,{idKey:r,idName:n,colorKey:l,colorName:c,labelKey:h,labelName:p,legendItemName:u,title:d,tooltip:g}=s;if(!i||!o)return;const y=o.dataSources.get(this.id)?.[e],m=i.resolveColumnById(this,"idValue",o)[e],f=l!=null?i.resolveColumnById(this,"colorValue",o)[e]:void 0,b=[];if(this.isLabelEnabled()&&h!=null&&h!==r){const S=i.resolveColumnById(this,"labelValue",o)[e],D=a.format(this.callWithContext.bind(this),{type:"category",value:S,datum:y,seriesId:t,legendItemName:u,key:h,source:"tooltip",property:"label",domain:[],boundSeries:this.getFormatterContext("label")});b.push({label:p,fallbackLabel:h,value:D??S})}if(f!=null){const S=i.getDomain(this,"colorValue","value",o),D=a.format(this.callWithContext.bind(this),{type:"number",value:f,datum:y,seriesId:t,legendItemName:u,key:l,source:"tooltip",property:"color",domain:S,boundSeries:this.getFormatterContext("color"),fractionDigits:void 0});b.push({label:c,fallbackLabel:l,value:D??String(f)})}const v=this.getItemStyle({datum:y,datumIndex:e,colorValue:f},!1);return this.formatTooltipWithContext(g,{heading:m,title:d??u,symbol:this.legendItemSymbol(e),data:b},{seriesId:t,datum:y,title:d,idKey:r,idName:n,colorKey:l,colorName:c,labelKey:h,labelName:p,...v})}computeFocusBounds(e){return findFocusedGeoGeometry(this,e)}hasItemStylers(){return this.properties.itemStyler!=null}};MapShapeSeries.className="MapShapeSeries",MapShapeSeries.type="map-shape";var import_ag_charts_community106=require("ag-charts-community"),import_ag_charts_core39=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs13,mapShapeSeriesThemeableOptionsDef,without:without7}=import_ag_charts_community106._ModuleSupport,mapShapeSeriesOptionsDef={...without7(commonSeriesOptionsDefs13,["highlightStyle","highlight"]),...mapShapeSeriesThemeableOptionsDef,type:(0,import_ag_charts_core39.required)((0,import_ag_charts_core39.constant)("map-shape")),idKey:(0,import_ag_charts_core39.required)(import_ag_charts_core39.string),colorKey:import_ag_charts_core39.string,labelKey:import_ag_charts_core39.string,idName:import_ag_charts_core39.string,colorName:import_ag_charts_core39.string,labelName:import_ag_charts_core39.string,topology:import_ag_charts_core39.geoJson,topologyIdKey:import_ag_charts_core39.string,legendItemName:import_ag_charts_core39.string,title:import_ag_charts_core39.string},MapShapeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape",moduleFactory:e=>new MapShapeSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{fill:applyMapPalette({$applySwitch:[{$path:"type"},{$mapPalette:"fill"},["gradient",import_ag_charts_community107._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS],["image",import_ag_charts_community107._ModuleSupport.FILL_IMAGE_DEFAULTS],["pattern",import_ag_charts_community107._ModuleSupport.FILL_PATTERN_DEFAULTS]]}),stroke:{$ref:"chartBackgroundColor"},colorRange:{$if:[{$eq:[{$mapPalette:"type"},"inbuilt"]},{$mapPalette:"divergingColors"},applyMapPalette(import_ag_charts_community107._ModuleSupport.SAFE_RANGE2_OPERATION)]},fillOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,padding:2,label:{...import_ag_charts_community107._ModuleSupport.LABEL_BOXING_DEFAULTS,color:{$ref:"chartBackgroundColor"},fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:"bold",overflowStrategy:"hide"},highlight:applyMapPalette(import_ag_charts_community107._ModuleSupport.multiSeriesHighlightStyle(!0))},tooltip:{range:"exact"}}},MapShapeSeriesModule={type:"series",name:"map-shape",chartType:"topology",enterprise:!0,options:mapShapeSeriesOptionsDef,create:e=>new MapShapeSeries(e)},import_ag_charts_community111=require("ag-charts-community"),import_ag_charts_community109=require("ag-charts-community"),import_ag_charts_core40=require("ag-charts-core"),import_ag_charts_community108=require("ag-charts-community"),{Property:Property29,SeriesProperties:SeriesProperties7,makeSeriesTooltip:makeSeriesTooltip16}=import_ag_charts_community108._ModuleSupport,MapShapeBackgroundSeriesProperties=class extends SeriesProperties7{constructor(){super(...arguments),this.topology=void 0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeOpacity=1,this.strokeWidth=0,this.lineDash=[0],this.lineDashOffset=0,this.tooltip=makeSeriesTooltip16()}};__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"topology",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"fill",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"stroke",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"lineDash",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property29],MapShapeBackgroundSeriesProperties.prototype,"tooltip",2);var{createDatumId:createDatumId14,Selection:Selection10,Group:Group11,PointerEvents:PointerEvents8}=import_ag_charts_community109._ModuleSupport,MapShapeBackgroundSeries=class extends TopologySeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[]}),this.properties=new MapShapeBackgroundSeriesProperties,this._chartTopology=void 0,this.itemGroup=this.contentGroup.appendChild(new Group11({name:"itemGroup"})),this.datumSelection=Selection10.select(this.itemGroup,()=>this.nodeFactory()),this.itemGroup.pointerEvents=PointerEvents8.None}get topology(){return this.properties.topology??this._chartTopology}get focusable(){return!1}setOptionsData(){}setChartData(){}getNodeData(){}get hasData(){return!1}renderToOffscreenCanvas(){return!0}setChartTopology(e){this._chartTopology=e,this.topology===e&&(this.nodeDataRefresh=!0)}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[0,e,0],this.highlightGroup.zIndex=[0,e,1],!0}nodeFactory(){const e=new GeoGeometry;return e.renderMode=1,e.lineJoin="round",e.pointerEvents=PointerEvents8.None,e}processData(){const{topology:e}=this;this.topologyBounds=e?.features.reduce((t,i)=>{const o=i.geometry;return o==null?t:geometryBbox(o,t)},void 0),e==null&&import_ag_charts_core40.Logger.warnOnce("no topology was provided for [MapShapeBackgroundSeries]; nothing will be rendered.")}createNodeData(){const{id:e,topology:t,scale:i,properties:o}=this;if(t==null)return;const{fill:s,fillOpacity:a,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:h}=o,p=[],u=[];return t.features.forEach((d,g)=>{const{geometry:y}=d,m=y!=null&&i!=null?projectGeometry(y,i):void 0;m!=null&&p.push({series:this,itemId:g,datum:d,datumIndex:0,index:g,projectedGeometry:m,style:{fill:s,fillOpacity:a,stroke:r,strokeWidth:n,strokeOpacity:l,lineDash:c,lineDashOffset:h}})}),{itemId:e,nodeData:p,labelData:u}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update(){const{datumSelection:e}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.labelGroup.visible=this.visible;const{nodeData:t=[]}=this.contextNodeData??{};this.datumSelection=this.updateDatumSelection({nodeData:t,datumSelection:e}),this.updateDatumNodes({datumSelection:e})}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId14(t.index))}updateDatumNodes(e){const{datumSelection:t}=e;t.each((i,o)=>{const{projectedGeometry:s}=o;if(s==null){i.visible=!1,i.projectedGeometry=void 0;return}i.visible=!0,i.projectedGeometry=s,i.setProperties(o.style)})}resetAnimation(){}getLegendData(){return[]}getTooltipContent(e){}pickFocus(){}computeFocusBounds(e){}hasItemStylers(){return!1}};MapShapeBackgroundSeries.className="MapShapeBackgroundSeries",MapShapeBackgroundSeries.type="map-shape-background";var import_ag_charts_community110=require("ag-charts-community"),import_ag_charts_core41=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs14,mapShapeBackgroundSeriesThemeableOptionsDef}=import_ag_charts_community110._ModuleSupport,mapShapeBackgroundSeriesOptionsDef={...mapShapeBackgroundSeriesThemeableOptionsDef,...commonSeriesOptionsDefs14,type:(0,import_ag_charts_core41.required)((0,import_ag_charts_core41.constant)("map-shape-background")),topology:import_ag_charts_core41.geoJson},MapShapeBackgroundModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["topology"],identifier:"map-shape-background",moduleFactory:e=>new MapShapeBackgroundSeries(e),themeTemplate:{...MAP_THEME_DEFAULTS,series:{fill:applyMapPalette({$applySwitch:[{$path:"type"},{$path:["/1",{$mapPalette:"fill"},{$mapPalette:"hierarchyColors"}]},["gradient",import_ag_charts_community111._ModuleSupport.FILL_GRADIENT_LINEAR_HIERARCHY_DEFAULTS],["image",import_ag_charts_community111._ModuleSupport.FILL_IMAGE_DEFAULTS],["pattern",import_ag_charts_community111._ModuleSupport.FILL_PATTERN_HIERARCHY_DEFAULTS]]}),stroke:{$ref:"chartBackgroundColor"},strokeWidth:1}}},MapShapeBackgroundSeriesModule={type:"series",name:"map-shape-background",chartType:"topology",enterprise:!0,options:mapShapeBackgroundSeriesOptionsDef,create:e=>new MapShapeBackgroundSeries(e)},import_ag_charts_community119=require("ag-charts-community"),import_ag_charts_community116=require("ag-charts-community"),import_ag_charts_community112=require("ag-charts-community"),import_ag_charts_core42=require("ag-charts-core"),{DEFAULT_POLAR_DIRECTION_KEYS,DEFAULT_POLAR_DIRECTION_NAMES,ChartAxisDirection:ChartAxisDirection16,PolarAxis,diff:diff6,fixNumericExtent:fixNumericExtent7,groupAccumulativeValueProperty,keyProperty:keyProperty8,normaliseGroupTo,resetLabelFn:resetLabelFn5,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation5,seriesLabelFadeOutAnimation,valueProperty:valueProperty12,animationValidation:animationValidation7,createDatumId:createDatumId15,SeriesNodePickMode:SeriesNodePickMode12,normalizeAngle360:normalizeAngle3605,CategoryScale:CategoryScale3,motion:motion6,applyShapeStyle:applyShapeStyle13,isGradientFill:isGradientFill2,updateLabelNode:updateLabelNode6,mergeDefaults:mergeDefaults14,getItemStyles:getItemStyles3}=import_ag_charts_community112._ModuleSupport,RadialColumnSeriesNodeEvent=class extends import_ag_charts_community112._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadialColumnSeriesBase=class extends import_ag_charts_community112._ModuleSupport.PolarSeries{constructor(e,{animationResetFns:t}){super({moduleCtx:e,categoryKey:"angleValue",propertyKeys:DEFAULT_POLAR_DIRECTION_KEYS,propertyNames:DEFAULT_POLAR_DIRECTION_NAMES,canHaveAxes:!0,pickModes:[SeriesNodePickMode12.NEAREST_NODE,SeriesNodePickMode12.EXACT_SHAPE_MATCH],animationResetFns:{...t,label:resetLabelFn5}}),this.NodeEvent=RadialColumnSeriesNodeEvent,this.groupScale=new CategoryScale3,this.circleCache={r:0,cx:0,cy:0}}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection16.Angle)return t.getDomain(this,"angleValue","key",i);{const o=t.getDomain(this,"radiusValue-end","value",i),s=Number.isFinite(o[1]-o[0])?[o[0]>0?0:o[0],o[1]<0?0:o[1]]:[];return fixNumericExtent7(s)}}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:o}=this.properties,s=!this.ctx.animationManager.isSkipped(),a=this.getStackId(),r=`${a}-trailing`,n=[];(0,import_ag_charts_core42.isDefined)(o)&&n.push(normaliseGroupTo([a,r],Math.abs(o))),s&&this.processedData&&n.push(diff6(this.id,this.processedData)),s&&n.push(animationValidation7());const l=this.visible?{}:{forceValue:0},c=this.axes[ChartAxisDirection16.Radius]?.scale.type,h=this.axes[ChartAxisDirection16.Angle]?.scale.type;await this.requestDataModel(e,this.data,{props:[keyProperty8(t,h,{id:"angleValue"}),valueProperty12(i,c,{id:"radiusValue-raw",invalidValue:null,...l}),...groupAccumulativeValueProperty(i,"normal","current",{id:"radiusValue-end",rangeId:"radiusValue-range",invalidValue:null,groupId:a,separateNegative:!0,...l},c),...groupAccumulativeValueProperty(i,"trailing","current",{id:"radiusValue-start",invalidValue:null,groupId:r,separateNegative:!0,...l},c),...n],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,o=this.circleCache;return e!==o.r||t!==o.cx||i!==o.cy?(this.circleCache={r:e,cx:t,cy:i},!0):!1}isRadiusAxisReversed(){return this.axes[ChartAxisDirection16.Radius]?.isReversed()}maybeRefreshNodeData(){!this.didCircleChange()&&!this.nodeDataRefresh||(this.contextNodeData=this.createNodeData(),this.nodeData=this.contextNodeData?.nodeData??[],this.nodeDataRefresh=!1)}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection16.Radius];return e instanceof PolarAxis?this.radius*e.innerRadiusRatio:0}createNodeData(){const{processedData:e,dataModel:t,groupScale:i}=this;if(!t||!e||e.type!=="grouped")return;const o=this.axes[ChartAxisDirection16.Angle],s=this.axes[ChartAxisDirection16.Radius],a=o?.scale,r=s?.scale;if(!a||!r)return;const n=t.resolveKeysById(this,"angleValue",e),l=t.resolveColumnById(this,"radiusValue-start",e),c=t.resolveColumnById(this,"radiusValue-end",e),h=t.resolveColumnById(this,"radiusValue-raw",e),p=t.resolveProcessedDataIndexById(this,"radiusValue-range");let u=0,d=0;o instanceof AngleCategoryAxis&&(u=o.groupPaddingInner,d=o.paddingInner);const y=(a.bandwidth??0)*(1-d),{index:m,visibleGroupCount:f}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);i.domain=Array.from({length:f}).map((P,T)=>String(T)),i.range=[-y/2,y/2],i.paddingInner=f>1?u:0;const b=this.isRadiusAxisReversed(),v=b?this.radius:this.getAxisInnerRadius(),S=b?this.getAxisInnerRadius():this.radius,D=S+v,{angleKey:_,radiusKey:k,angleName:x,radiusName:M,label:A}=this.properties,I=this.getSeriesDomain(ChartAxisDirection16.Radius),L=(P,T,E,O)=>{const F=this.getLabelText(T,P,k,"radius",I,A,{value:T,datum:P,angleKey:_,radiusKey:k,angleName:x,radiusName:M});if(F)return{x:E,y:O,text:F,textAlign:"center",textBaseline:"middle"}},R=[],C={itemId:k,nodeData:R,labelData:R,styles:getItemStyles3(this.getItemStyle.bind(this))};if(!this.visible)return C;const{dataSources:N}=e,w=N.get(this.id)??[];for(const{datumIndex:P,group:T}of t.forEachGroupDatum(this,e)){const E=w[P],O=n[P];if(O==null)return;const F=h[P],G=F>=0&&!Object.is(F,-0),B=l[P],V=c[P],z=T.aggregation[p][G?1:0]??0,K=G===b;if(B===void 0||V===void 0)return;let W,$;if(w.length===1)W=-.5*Math.PI,$=1.5*Math.PI;else{const ie=a.convert(O);W=normalizeAngle3605(ie+i.convert(String(m))),$=normalizeAngle3605(W+i.bandwidth)}const J=W+i.bandwidth/2,Z=D-r.convert(B),q=D-r.convert(V),H=(Z+q)/2,Y=D-r.convert(0),ee=D-r.convert(z),j=Math.cos(J)*H,X=Math.sin(J)*H,te=this.properties.label.enabled?L(E,F,j,X):void 0,U=this.getColumnWidth(W,$);R.push({series:this,datum:E,datumIndex:P,point:{x:j,y:X,size:0},midPoint:{x:j,y:X},label:te,angleValue:O,radiusValue:F,negative:K,innerRadius:Z,outerRadius:q,stackInnerRadius:Y,stackOuterRadius:ee,startAngle:W,endAngle:$,midAngle:J,axisInnerRadius:v,axisOuterRadius:S,columnWidth:U,index:P})}return{itemId:k,nodeData:R,labelData:R,styles:getItemStyles3(this.getItemStyle.bind(this))}}getColumnWidth(e,t){return NaN}update({seriesRect:e}){const t=this.checkResize(e);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemStyle(e,t,i){const{id:o,properties:s}=this,{angleKey:a,radiusKey:r,itemStyler:n}=s,l=this.getHighlightStyle(t,e?.datumIndex,i);let h=mergeDefaults14(l,s.getStyle());if(n!=null&&e!=null){const p=this.cachedDatumCallback(createDatumId15(this.getDatumId(e),t?"highlight":"node"),()=>{const u=this.ctx.highlightManager?.getActiveHighlight(),d=this.getHighlightStateString(u,t,e.datumIndex);return this.callWithContext(n,{seriesId:o,datum:e.datum,highlighted:t,highlightState:d,angleKey:a,radiusKey:r,...h})});p&&(h=mergeDefaults14(p,h))}return h}updateSectorSelection(e,t){const{contextNodeData:i}=this;if(!i)return;const o=this.ctx.highlightManager.getActiveHighlight();let s=[];if(t){const h=this.ctx.highlightManager?.getActiveHighlight();h?.datum&&h.series===this&&s.push(h)}else s=this.nodeData;const a=this.isRadiusAxisReversed(),r=a?this.radius:this.getAxisInnerRadius(),n=a?this.getAxisInnerRadius():this.radius,l=this.getShapeFillBBox(),c=this.hasItemStylers();e.update(s,void 0,h=>this.getDatumId(h)).each((h,p)=>{const{midPoint:u}=p;c&&(p.style=this.getItemStyle(p,t));const d=p.style??i.styles[this.getHighlightState(o,t,p.datumIndex)],g=d.fill,m=isGradientFill2(g)&&g.bounds==="item"?{centerX:u?.x??0,centerY:u?.y??0}:{centerX:0,centerY:0,innerRadius:r,outerRadius:n};this.updateItemPath(h,p,t),applyShapeStyle13(h,d,l,m),h.cornerRadius=d.cornerRadius??0,h.lineJoin="round"})}updateLabels(){const e=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.update(this.nodeData).each((t,i)=>{updateLabelNode6(this,t,this.properties,this.properties.label,i.label,!1,e),t.fillOpacity=this.getHighlightStyle(!1,i.datumIndex).opacity??1})}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getColumnTransitionFunctions();motion6.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation5(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getColumnTransitionFunctions();motion6.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation(this,"labels",t,this.labelSelection)}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,axes:s,properties:a}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:h}=a,p=s[ChartAxisDirection16.Angle],u=s[ChartAxisDirection16.Radius],d=this.nodeData?.[e];if(!i||!o||!p||!u||!d)return;const g=o.dataSources.get(this.id)?.[e],y=i.resolveKeysById(this,"angleValue",o)[e],m=i.resolveColumnById(this,"radiusValue-raw",o)[e];if(y==null)return;const f=this.getItemStyle(d,!1);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(p,"tooltip",y,g,r,void 0),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(u,"tooltip",m,g,l,void 0)}]},{seriesId:t,datum:g,title:n,angleKey:r,angleName:n,radiusKey:l,radiusName:c,...f})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:o,strokeWidth:s,lineDash:a,lineDashOffset:r}=this.properties,n={fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:o,strokeWidth:s,lineDash:a,lineDashOffset:r};return import_ag_charts_community112._ModuleSupport.isGradientFill(n.fill)&&(n.fill={...n.fill,gradient:"linear",rotation:0,reverse:!1}),{marker:n}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{radiusKey:o,radiusName:s,showInLegend:a}=this.properties;return[{legendType:"category",id:t,itemId:o,seriesId:t,enabled:i,label:{text:s??o},symbol:this.legendItemSymbol(),hideInLegend:!a}]}getDatumId(e){return createDatumId15(e.angleValue)}computeLabelsBBox(){return null}},import_ag_charts_community113=require("ag-charts-community"),{SeriesProperties:SeriesProperties8,makeSeriesTooltip:makeSeriesTooltip17,Property:Property30,Label:Label10}=import_ag_charts_community113._ModuleSupport,RadialColumnSeriesBaseProperties=class extends SeriesProperties8{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new Label10,this.tooltip=makeSeriesTooltip17()}getStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,cornerRadius:n}=this;return{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,cornerRadius:n,opacity:1}}};__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"angleKey",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"angleName",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"radiusKey",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"radiusName",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"fill",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"fillOpacity",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"stroke",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"strokeWidth",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"strokeOpacity",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"lineDash",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"lineDashOffset",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"cornerRadius",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"itemStyler",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"rotation",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"stackGroup",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"normalizedTo",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"label",2),__decorateClass([Property30],RadialColumnSeriesBaseProperties.prototype,"tooltip",2);var import_ag_charts_community115=require("ag-charts-community"),import_ag_charts_community114=require("ag-charts-community"),{motion:motion7}=import_ag_charts_community114._ModuleSupport;function createAngleMotionCalculator(){const e={startAngle:new Map,endAngle:new Map},t=["startAngle","endAngle"],i=(r,n,l)=>{t.forEach(c=>{const h=e[c];let p=(l==="removed"||l==="updated"?r:n)[c],u=(l==="removed"?r:n)[c];isNaN(u)&&(u=r.previousDatum?.[c]??NaN);const d=p-u;Math.abs(d)>Math.PI&&(p-=Math.sign(d)*2*Math.PI),h.set(n,{from:p,to:u})})},o=(r,n)=>({startAngle:e.startAngle.get(r)[n],endAngle:e.endAngle.get(r)[n]});return{calculate:i,from:r=>o(r,"from"),to:r=>o(r,"to")}}function fixRadialColumnAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.startAngle)||isNaN(e.previousDatum.endAngle))return"added";if(isNaN(t.startAngle)||isNaN(t.endAngle))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialColumnAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(s,a,r)=>{const{startAngle:n,endAngle:l}=t.to(a);let c,h,p,u,d;return r==="removed"?(c=s.innerRadius,h=s.innerRadius,p=s.columnWidth,u=s.axisInnerRadius,d=s.axisOuterRadius):(c=isNaN(a.innerRadius)?e:a.innerRadius,h=isNaN(a.outerRadius)?e:a.outerRadius,p=isNaN(a.columnWidth)?s.columnWidth:a.columnWidth,u=a.axisInnerRadius,d=a.axisOuterRadius),{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:u,axisOuterRadius:d,startAngle:n,endAngle:l}},fromFn:(s,a,r)=>{r=fixRadialColumnAnimationStatus(s,a,r),t.calculate(s,a,r);const{startAngle:n,endAngle:l}=t.from(a);let c,h,p,u,d;r==="removed"||r==="updated"?(c=s.innerRadius,h=s.outerRadius,p=s.columnWidth,u=s.axisInnerRadius,d=s.axisOuterRadius):(c=e,h=e,p=a.columnWidth,u=a.axisInnerRadius,d=a.axisOuterRadius);const g=motion7.NODE_UPDATE_STATE_TO_PHASE_MAPPING[r];return{innerRadius:c,outerRadius:h,columnWidth:p,axisInnerRadius:u,axisOuterRadius:d,startAngle:n,endAngle:l,phase:g}}}}function resetRadialColumnSelectionFn(e,{innerRadius:t,outerRadius:i,columnWidth:o,axisInnerRadius:s,axisOuterRadius:a,startAngle:r,endAngle:n}){return{innerRadius:t,outerRadius:i,columnWidth:o,axisInnerRadius:s,axisOuterRadius:a,startAngle:r,endAngle:n}}var{SectorBox,motion:motion8}=import_ag_charts_community115._ModuleSupport;function getRadii(e){const{negative:t,innerRadius:i,outerRadius:o,stackInnerRadius:s,stackOuterRadius:a}=e;return{innerRadius:t?a:s,outerRadius:t?s:a,clipInnerRadius:t?o:i,clipOuterRadius:t?i:o}}function prepareNightingaleAnimationFunctions(e){const t=createAngleMotionCalculator();return{toFn:(s,a,r)=>{const{startAngle:n,endAngle:l}=t.to(a);let c,h,p;if(r==="removed")c=e,h=e,p=new SectorBox(n,l,c,h);else{let u,d;({innerRadius:c,outerRadius:h,clipInnerRadius:u,clipOuterRadius:d}=getRadii(a)),isNaN(c)&&(c=e),isNaN(h)&&(h=e),isNaN(u)&&(u=e),isNaN(d)&&(d=e),p=new SectorBox(n,l,u,d)}return{innerRadius:c,outerRadius:h,startAngle:n,endAngle:l,clipSector:p}},fromFn:(s,a,r)=>{r=fixRadialColumnAnimationStatus(s,a,r),t.calculate(s,a,r);const{startAngle:n,endAngle:l}=t.from(a);let c,h,p;r==="removed"||r==="updated"?(c=s.innerRadius,h=s.outerRadius,p=s.clipSector):(c=e,h=e),p??(p=new SectorBox(n,l,c,h));const u=motion8.NODE_UPDATE_STATE_TO_PHASE_MAPPING[r];return{innerRadius:c,outerRadius:h,startAngle:n,endAngle:l,clipSector:p,phase:u}}}}function resetNightingaleSelectionFn(e,t){const{startAngle:i,endAngle:o}=t,{innerRadius:s,outerRadius:a,clipInnerRadius:r,clipOuterRadius:n}=getRadii(t),l=new SectorBox(i,o,r,n);return{innerRadius:s,outerRadius:a,startAngle:i,endAngle:o,clipSector:l}}var{Sector:Sector4,SectorBox:SectorBox2,PolarZIndexMap}=import_ag_charts_community116._ModuleSupport,NightingaleSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetNightingaleSelectionFn}}),this.properties=new RadialColumnSeriesBaseProperties}setZIndex(e){return super.setZIndex(e),this.contentGroup.zIndex=[0,PolarZIndexMap.FOREGROUND,e],this.highlightGroup.zIndex=[0,PolarZIndexMap.HIGHLIGHT,e],this.labelGroup.zIndex=[0,PolarZIndexMap.LABEL,e],!0}getStackId(){return`nightingale-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new Sector4}updateItemPath(e,t,i){const{negative:o}=t;if(e.centerX=0,e.centerY=0,e.startOuterCornerRadius=o?0:this.properties.cornerRadius,e.endOuterCornerRadius=o?0:this.properties.cornerRadius,e.startInnerCornerRadius=o?this.properties.cornerRadius:0,e.endInnerCornerRadius=o?this.properties.cornerRadius:0,i){const{startAngle:s,endAngle:a}=t,{innerRadius:r,outerRadius:n,clipInnerRadius:l,clipOuterRadius:c}=getRadii(t);e.innerRadius=r,e.outerRadius=n,e.startAngle=s,e.endAngle=a,e.clipSector=new SectorBox2(s,a,l,c)}}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareNightingaleAnimationFunctions(e)}hasItemStylers(){return this.properties.itemStyler!=null}};NightingaleSeries.className="NightingaleSeries",NightingaleSeries.type="nightingale";var import_ag_charts_community117=require("ag-charts-community"),import_ag_charts_core43=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs15,nightingaleSeriesThemeableOptionsDef}=import_ag_charts_community117._ModuleSupport,nightingaleSeriesOptionsDef={...commonSeriesOptionsDefs15,...nightingaleSeriesThemeableOptionsDef,type:(0,import_ag_charts_core43.required)((0,import_ag_charts_core43.constant)("nightingale")),angleKey:(0,import_ag_charts_core43.required)(import_ag_charts_core43.string),radiusKey:(0,import_ag_charts_core43.required)(import_ag_charts_core43.string),angleName:import_ag_charts_core43.string,radiusName:import_ag_charts_core43.string,grouped:import_ag_charts_core43.boolean,stacked:import_ag_charts_core43.boolean,stackGroup:import_ag_charts_core43.string,normalizedTo:import_ag_charts_core43.number},import_ag_charts_community118=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE,POLAR_AXIS_SHAPE},FILL_GRADIENT_RADIAL_SERIES_DEFAULTS,FILL_IMAGE_DEFAULTS:FILL_IMAGE_DEFAULTS4,FILL_PATTERN_DEFAULTS:FILL_PATTERN_DEFAULTS4}=import_ag_charts_community118._ModuleSupport,NIGHTINGALE_SERIES_THEME={series:{fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",FILL_GRADIENT_RADIAL_SERIES_DEFAULTS],["image",FILL_IMAGE_DEFAULTS4],["pattern",FILL_PATTERN_DEFAULTS4]]},stroke:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$ref:"chartBackgroundColor"},{$palette:"stroke"}]},strokeWidth:1,label:{...import_ag_charts_community118._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},highlight:import_ag_charts_community118._ModuleSupport.multiSeriesHighlightStyle()},axes:{[POLAR_AXIS_TYPE.ANGLE_CATEGORY]:{shape:{$findFirstSiblingNotOperation:POLAR_AXIS_SHAPE.CIRCLE},groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[POLAR_AXIS_TYPE.RADIUS_NUMBER]:{shape:{$findFirstSiblingNotOperation:POLAR_AXIS_SHAPE.CIRCLE}}}},{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE2}}=import_ag_charts_community119._ModuleSupport,NightingaleModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"nightingale",moduleFactory:e=>new NightingaleSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE2.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE2.RADIUS_NUMBER}],themeTemplate:NIGHTINGALE_SERIES_THEME,stackable:!0,groupable:!0,stackedByDefault:!0},NightingaleSeriesModule={type:"series",name:"nightingale",chartType:"polar",enterprise:!0,options:nightingaleSeriesOptionsDef,create:e=>new NightingaleSeries(e)},import_ag_charts_community121=require("ag-charts-community"),import_ag_charts_core44=require("ag-charts-core"),import_ag_charts_community120=require("ag-charts-community"),{SeriesProperties:SeriesProperties9,makeSeriesTooltip:makeSeriesTooltip18,Property:Property31,Label:Label11,DropShadow:DropShadow5}=import_ag_charts_community120._ModuleSupport,PyramidSeriesLabel=class extends Label11{},PyramidSeriesStageLabel=class extends Label11{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property31],PyramidSeriesStageLabel.prototype,"spacing",2),__decorateClass([Property31],PyramidSeriesStageLabel.prototype,"placement",2);var PyramidProperties=class extends SeriesProperties9{constructor(){super(...arguments),this.fills=[],this.fillOpacity=1,this.strokes=[],this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.direction="vertical",this.reverse=void 0,this.spacing=0,this.aspectRatio=void 0,this.shadow=new DropShadow5().set({enabled:!1}),this.label=new PyramidSeriesLabel,this.stageLabel=new PyramidSeriesStageLabel,this.tooltip=makeSeriesTooltip18()}getStyle(e=0){const{fills:t,strokes:i,fillOpacity:o,strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n}=this;return{fill:t[e%t.length],fillOpacity:o,stroke:i[e%i.length],strokeWidth:s,strokeOpacity:a,lineDash:r,lineDashOffset:n,opacity:1}}};__decorateClass([Property31],PyramidProperties.prototype,"stageKey",2),__decorateClass([Property31],PyramidProperties.prototype,"valueKey",2),__decorateClass([Property31],PyramidProperties.prototype,"fills",2),__decorateClass([Property31],PyramidProperties.prototype,"fillOpacity",2),__decorateClass([Property31],PyramidProperties.prototype,"strokes",2),__decorateClass([Property31],PyramidProperties.prototype,"strokeWidth",2),__decorateClass([Property31],PyramidProperties.prototype,"strokeOpacity",2),__decorateClass([Property31],PyramidProperties.prototype,"lineDash",2),__decorateClass([Property31],PyramidProperties.prototype,"lineDashOffset",2),__decorateClass([Property31],PyramidProperties.prototype,"direction",2),__decorateClass([Property31],PyramidProperties.prototype,"reverse",2),__decorateClass([Property31],PyramidProperties.prototype,"spacing",2),__decorateClass([Property31],PyramidProperties.prototype,"aspectRatio",2),__decorateClass([Property31],PyramidProperties.prototype,"itemStyler",2),__decorateClass([Property31],PyramidProperties.prototype,"shadow",2),__decorateClass([Property31],PyramidProperties.prototype,"label",2),__decorateClass([Property31],PyramidProperties.prototype,"stageLabel",2),__decorateClass([Property31],PyramidProperties.prototype,"tooltip",2);function applyPyramidDatum(e,{x:t,y:i,top:o,right:s,bottom:a,left:r}){e.x0=t-o/2,e.x1=t+o/2,e.x2=t+a/2,e.x3=t-a/2,e.y0=i-r/2,e.y1=i-s/2,e.y2=i+s/2,e.y3=i+r/2}function preparePyramidAnimationFunctions(e){return{fromFn:(s,a)=>{const{x:r,y:n}=a;let{top:l,right:c,bottom:h,left:p}=a;return e==="vertical"?(l=0,h=0):(p=0,c=0),{x:r,y:n,top:l,right:c,bottom:h,left:p}},toFn:(s,a)=>{const{x:r,y:n,top:l,right:c,bottom:h,left:p}=a;return{x:r,y:n,top:l,right:c,bottom:h,left:p}},applyFn:applyPyramidDatum}}var{StateMachine:StateMachine3,valueProperty:valueProperty13,SeriesNodePickMode:SeriesNodePickMode13,createDatumId:createDatumId16,BBox:BBox12,Group:Group12,Selection:Selection11,Text:Text5,PointerEvents:PointerEvents9,applyShapeStyle:applyShapeStyle14,mergeDefaults:mergeDefaults15,fromToMotion:fromToMotion4,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation6,getLabelStyles:getLabelStyles5}=import_ag_charts_community121._ModuleSupport,PyramidSeries=class extends import_ag_charts_community121._ModuleSupport.DataModelSeries{constructor(e){super({moduleCtx:e,categoryKey:void 0,pickModes:[SeriesNodePickMode13.EXACT_SHAPE_MATCH,SeriesNodePickMode13.NEAREST_NODE]}),this.properties=new PyramidProperties,this.itemGroup=this.contentGroup.appendChild(new Group12({name:"itemGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group12({name:"itemLabelGroup"})),this.stageLabelGroup=this.contentGroup.appendChild(new Group12({name:"stageLabelGroup"})),this.datumSelection=Selection11.select(this.itemGroup,()=>this.nodeFactory()),this.labelSelection=Selection11.select(this.itemLabelGroup,Text5),this.stageLabelSelection=Selection11.select(this.stageLabelGroup,Text5),this.highlightDatumSelection=Selection11.select(this.highlightGroup,()=>this.nodeFactory()),this.animationState=new StateMachine3("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{clear:"empty",reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable()),this.itemLabelGroup.pointerEvents=PointerEvents9.None,this.stageLabelGroup.pointerEvents=PointerEvents9.None}addChartEventListeners(){this.cleanup.register(this.ctx.eventsHub.on("legend:item-click",e=>this.onLegendItemClick(e)))}nodeFactory(){return new FunnelConnector}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}async processData(e){if(this.data==null)return;const{id:t,visible:i,ctx:{legendManager:o}}=this,{stageKey:s,valueKey:a}=this.properties,r="category",n="number",l=(h,p,u)=>i&&o.getItemEnabled({seriesId:t,itemId:u}),c=this.visible?{}:{forceValue:0};await this.requestDataModel(e,this.data,{props:[valueProperty13(s,r,{id:"xValue"}),valueProperty13(a,n,{id:"yValue",...c,validation:l,invalidValue:0})]})}createNodeData(){const{id:e,dataModel:t,processedData:i,properties:o,visible:s,ctx:{legendManager:a}}=this,{stageKey:r,valueKey:n,direction:l,reverse:c=l==="horizontal",spacing:h,aspectRatio:p,label:u,stageLabel:d}=o;if(t==null||i==null)return;const g=l==="horizontal",y=t.resolveColumnById(this,"xValue",i),m=t.resolveColumnById(this,"yValue",i),f=t.getDomain(this,"xValue","value",i),b=t.getDomain(this,"yValue","value",i),v=(0,import_ag_charts_core44.cachedTextMeasurer)(d);let S,D;g?(S="center",D=d.placement==="before"?"bottom":"top"):(S=d.placement==="after"?"left":"right",D="middle");const _=d.enabled?[]:void 0;let k=0,x=0,M=0;const A=i.dataSources.get(this.id)??[];A.forEach((G,B)=>{const V=y[B],z=m[B],K=s&&a.getItemEnabled({seriesId:e,itemId:B});if(M+=z,_==null)return;const W=this.getLabelText(V,G,r,"x",f,this.properties.stageLabel,{datum:G,value:z,stageKey:r,valueKey:n}),{width:$}=v.measureText(W),J=W.split(`
`).length*(0,import_ag_charts_core44.calcLineHeight)(u.fontSize);k=Math.max(k,$),x=Math.max(x,J),_.push({x:NaN,y:NaN,text:W,textAlign:S,textBaseline:D,visible:K})});const I=this._nodeDataDependencies?.seriesRectWidth??0,L=this._nodeDataDependencies?.seriesRectHeight??0,R=h*(i.input.count-1);let C;if(g){const G=x+d.spacing;C=new BBox12(0,d.placement==="before"?G:0,I,L-G)}else{const G=k+d.spacing;C=new BBox12(d.placement==="after"?0:G,0,I-G,L)}if(p!=null&&p!==0){const G=l==="horizontal"?1/p:p,B=Math.min(C.width,C.height*G),V=B/G;C=new BBox12(C.x+(C.width-B)/2,C.y+(C.height-V)/2,B,V)}let N,w;g?w=d.placement==="before"?C.y-d.spacing:C.y+C.height+d.spacing:N=d.placement==="after"?C.x+C.width+d.spacing:C.x-d.spacing;const P=C.width-(g?R:0),T=C.height-(g?0:R);if(P<0||T<0)return;const E=[],O=[];let F=0;return A.forEach((G,B)=>{const V=y[B],z=m[B],K=s&&a.getItemEnabled({seriesId:e,itemId:B}),W=F+z,$=(F+W)/(2*M),J=(W-F)/M,Z=g?P*$+h*B:P*.5,q=g?T*.5:T*$+h*B,H=C.x+Z,Y=C.y+q;if(_!=null){const Q=_[B];Q.x=N??H,Q.y=w??Y}let ee,j,X,te;if(g){const Q=P*J;ee=Q,X=Q;const oe=(Z+Q/2)*(T/C.width),se=(Z-Q/2)*(T/C.width);j=c?C.height-oe:oe,te=c?C.height-se:se}else{const Q=T*J;j=Q,te=Q;const oe=(q-Q/2)*(P/C.height),se=(q+Q/2)*(P/C.height);ee=c?C.width-oe:oe,X=c?C.width-se:se}const U=this.getLabelText(z,G,n,"y",b,u,{datum:G,value:z,stageKey:r,valueKey:n}),ie={x:H,y:Y,text:U,textAlign:"center",textBaseline:"middle",visible:K};O.push(ie),E.push({series:this,itemId:n,datum:G,datumIndex:B,index:B,xValue:V,yValue:z,x:H,y:Y,top:ee,right:j,bottom:X,left:te,label:ie,enabled:K,midPoint:{x:H,y:Y},style:this.getItemStyle({datumIndex:B,datum:G},!1)}),F=W}),{itemId:e,nodeData:E,labelData:O,stageLabelData:_,bounds:C}}updateSelections(){this.nodeDataRefresh&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}update({seriesRect:e}){this.checkResize(e);const{datumSelection:t,labelSelection:i,stageLabelSelection:o,highlightDatumSelection:s}=this;this.updateSelections(),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();let a=this.ctx.highlightManager?.getActiveHighlight();a!=null&&(a.series!==this||a.datum==null)&&(a=void 0);const r=this.contextNodeData?.nodeData??[],n=this.contextNodeData?.labelData??[],l=this.contextNodeData?.stageLabelData??[];this.datumSelection=this.updateDatumSelection({nodeData:r,datumSelection:t}),this.updateDatumStyles({datumSelection:t,isHighlight:!1}),this.updateDatumNodes({datumSelection:t,isHighlight:!1}),this.labelSelection=this.updateLabelSelection({labelData:n,labelSelection:i}),this.updateLabelNodes({labelSelection:i,labelProperties:this.properties.label}),this.stageLabelSelection=this.updateStageLabelSelection({stageLabelData:l,stageLabelSelection:o}),this.updateLabelNodes({labelSelection:o,labelProperties:this.properties.stageLabel}),this.highlightDatumSelection=this.updateDatumSelection({nodeData:a!=null?[a]:[],datumSelection:s}),this.updateDatumStyles({datumSelection:s,isHighlight:!0}),this.updateDatumNodes({datumSelection:s,isHighlight:!0}),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData)}getItemStyle({datumIndex:e,datum:t},i){const{id:o,properties:s}=this,{stageKey:a,valueKey:r,itemStyler:n}=s,l=this.getHighlightStyle(i,e);let h=mergeDefaults15(l,s.getStyle(e));if(n!=null&&e!=null){const p=this.ctx.highlightManager?.getActiveHighlight(),u=this.cachedDatumCallback(createDatumId16(e,i?"highlight":"node"),()=>{const d=this.getHighlightStateString(p,i,e);return this.callWithContext(n,{seriesId:o,datum:t,stageKey:a,valueKey:r,highlighted:i,highlightState:d,...h})});u&&(h=mergeDefaults15(u,h))}return h}updateDatumStyles({datumSelection:e,isHighlight:t}){e.each((i,o)=>{o.style=this.getItemStyle(o,t)})}updateDatumNodes({datumSelection:e}){const{properties:t}=this,{shadow:i}=t,o=this.contextNodeData?.bounds,s=o?{series:o,axis:o}:void 0;e.each((a,r)=>{applyShapeStyle14(a,r.style,s),applyPyramidDatum(a,r),a.fillShadow=i})}updateLabelSelection(e){return e.labelSelection.update(this.properties.label.enabled?e.labelData:[])}updateStageLabelSelection(e){return e.stageLabelSelection.update(e.stageLabelData)}updateLabelNodes(e){const t=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((i,o,s)=>{const{visible:a,x:r,y:n,text:l,textAlign:c,textBaseline:h}=o,p=getLabelStyles5(this,void 0,this.properties,e.labelProperties,!1,t),{color:u,fontSize:d,fontStyle:g,fontWeight:y,fontFamily:m}=p;i.visible=a,i.x=r,i.y=n,i.text=l,i.fill=u,i.fillOpacity=this.getHighlightStyle(!1,s).opacity??1,i.fontStyle=g,i.fontWeight=y,i.fontSize=d,i.fontFamily=m,i.textAlign=c,i.textBaseline=h,i.setBoxing(p)})}computeFocusBounds(e){const t=this.getNodeData()?.[e.datumIndex];if(t!==void 0){for(const i of this.datumSelection)if(i.datum===t)return i.node}}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,properties:s}=this,{stageKey:a,valueKey:r,tooltip:n}=s;if(!i||!o)return;const l=o.dataSources.get(this.id)?.[e],c=i.resolveColumnById(this,"xValue",o)[e],h=i.resolveColumnById(this,"yValue",o)[e];if(c==null)return;const p=this.getLabelText(c,l,a,"x",i.getDomain(this,"xValue","value",o),this.properties.stageLabel,{datum:l,value:c,stageKey:a,valueKey:r}),u=this.getLabelText(h,l,r,"y",i.getDomain(this,"yValue","value",o),this.properties.stageLabel,{datum:l,value:h,stageKey:a,valueKey:r}),d=this.getItemStyle({datumIndex:e,datum:l},!1);return this.formatTooltipWithContext(n,{symbol:this.legendItemSymbol(e),data:[{label:p,value:u}]},{seriesId:t,datum:l,title:void 0,stageKey:a,valueKey:r,...d})}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}pickNodeClosestDatum({x:e,y:t}){let i=1/0,o;return this.datumSelection.each((s,a)=>{const r=s.distanceSquared(e,t);r<i&&(i=r,o=a)}),o!=null?{datum:o,distance:Math.sqrt(i)}:void 0}legendItemSymbol(e){const{fills:t,strokes:i,strokeWidth:o,fillOpacity:s,strokeOpacity:a,lineDash:r,lineDashOffset:n}=this.properties,l=t[e]??"black",c=i[e]??"black";return{marker:{fill:l,fillOpacity:s,stroke:c,strokeWidth:o,strokeOpacity:a,lineDash:r,lineDashOffset:n}}}getLegendData(e){const{processedData:t,dataModel:i,id:o,ctx:{legendManager:s},visible:a}=this;if(!i||!t||e!=="category")return[];const{showInLegend:r}=this.properties,n=[],l=i.resolveColumnById(this,"xValue",t);return(t.dataSources.get(this.id)??[]).forEach((h,p)=>{const u=l[p];n.push({legendType:"category",id:o,itemId:p,seriesId:o,enabled:a&&s.getItemEnabled({seriesId:o,itemId:p}),label:{text:u},symbol:this.legendItemSymbol(p),hideInLegend:!r})}),n}animateReset(){this.ctx.animationManager.skipCurrentBatch(),this.ctx.animationManager.stopByAnimationGroupId(this.id)}animateEmptyUpdateReady(){const{datumSelection:e,labelSelection:t,properties:i}=this,o=preparePyramidAnimationFunctions(i.direction);fromToMotion4(this.id,"nodes",this.ctx.animationManager,[e],o),seriesLabelFadeInAnimation6(this,"labels",this.ctx.animationManager,t)}hasItemStylers(){return this.properties.itemStyler!=null}};PyramidSeries.className="PyramidSeries",PyramidSeries.type="pyramid";var import_ag_charts_community122=require("ag-charts-community"),import_ag_charts_core45=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs16,pyramidSeriesThemeableOptionsDef}=import_ag_charts_community122._ModuleSupport,pyramidSeriesOptionsDef={...pyramidSeriesThemeableOptionsDef,...commonSeriesOptionsDefs16,type:(0,import_ag_charts_core45.required)((0,import_ag_charts_core45.constant)("pyramid")),stageKey:(0,import_ag_charts_core45.required)(import_ag_charts_core45.string),valueKey:(0,import_ag_charts_core45.required)(import_ag_charts_core45.string)},import_ag_charts_community123=require("ag-charts-community"),{ThemeSymbols:{DEFAULT_SHADOW_COLOUR:DEFAULT_SHADOW_COLOUR2}}=import_ag_charts_community123._ModuleSupport,PYRAMID_SERIES_THEME={series:{direction:"vertical",strokeWidth:{$isUserOption:["./strokes/0",2,0]},spacing:2,fills:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},{$palette:"fills"},{$applySwitch:[{$path:["/type",void 0,{$value:"$1"}]},{$value:"$1"},["gradient",import_ag_charts_community123._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS],["pattern",import_ag_charts_community123._ModuleSupport.FILL_PATTERN_DEFAULTS],["image",import_ag_charts_community123._ModuleSupport.FILL_IMAGE_DEFAULTS]]}]},strokes:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},{$palette:"strokes"}]},label:{...import_ag_charts_community123._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},stageLabel:{...import_ag_charts_community123._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:12},shadow:{enabled:!1,color:DEFAULT_SHADOW_COLOUR2,xOffset:3,yOffset:3,blur:5},highlight:import_ag_charts_community123._ModuleSupport.singleSeriesHighlightStyle()}},PyramidSeriesModule={type:"series",name:"pyramid",chartType:"standalone",enterprise:!0,options:pyramidSeriesOptionsDef,create:e=>new PyramidSeries(e)},import_ag_charts_community130=require("ag-charts-community"),import_ag_charts_community124=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE3}}=import_ag_charts_community124._ModuleSupport,BASE_RADAR_SERIES_THEME={series:{stroke:{$palette:"stroke"},label:{...import_ag_charts_community124._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},marker:{enabled:!0,fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",import_ag_charts_community124._ModuleSupport.FILL_GRADIENT_RADIAL_REVERSED_DEFAULTS],["image",import_ag_charts_community124._ModuleSupport.FILL_IMAGE_DEFAULTS],["pattern",import_ag_charts_community124._ModuleSupport.FILL_PATTERN_DEFAULTS]]},stroke:{$palette:"stroke"},fillOpacity:1,shape:"circle",size:6,strokeOpacity:1,strokeWidth:{$isUserOption:["./stroke",1,0]}},highlight:import_ag_charts_community124._ModuleSupport.multiSeriesHighlightStyle(),tooltip:{range:{$path:["/tooltip/range","nearest"]}}},axes:{[POLAR_AXIS_TYPE3.ANGLE_CATEGORY]:{label:{spacing:10}}}},RADAR_LINE_SERIES_THEME=import_ag_charts_community124._ModuleSupport.mergeDefaults({series:{stroke:import_ag_charts_community124._ModuleSupport.SAFE_STROKE_FILL_OPERATION,strokeWidth:2}},BASE_RADAR_SERIES_THEME),RADAR_AREA_SERIES_THEME=import_ag_charts_community124._ModuleSupport.mergeDefaults({series:{fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",import_ag_charts_community124._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS],["image",import_ag_charts_community124._ModuleSupport.FILL_IMAGE_DEFAULTS],["pattern",import_ag_charts_community124._ModuleSupport.FILL_PATTERN_DEFAULTS]]},fillOpacity:.8,strokeWidth:2,marker:{enabled:!1}}},BASE_RADAR_SERIES_THEME),import_ag_charts_community128=require("ag-charts-community"),import_ag_charts_community126=require("ag-charts-community"),import_ag_charts_core46=require("ag-charts-core"),import_ag_charts_community125=require("ag-charts-community"),{Label:Label12,SeriesMarker:SeriesMarker2,SeriesProperties:SeriesProperties10,makeSeriesTooltip:makeSeriesTooltip19,Property:Property32}=import_ag_charts_community125._ModuleSupport,RadarSeriesProperties=class extends SeriesProperties10{constructor(){super(...arguments),this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.rotation=0,this.marker=new SeriesMarker2,this.label=new Label12,this.tooltip=makeSeriesTooltip19(),this.connectMissingData=!1}};__decorateClass([Property32],RadarSeriesProperties.prototype,"angleKey",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"angleName",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"radiusName",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"stroke",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"lineDash",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"rotation",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"styler",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"marker",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"label",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"tooltip",2),__decorateClass([Property32],RadarSeriesProperties.prototype,"connectMissingData",2);var{DEFAULT_POLAR_DIRECTION_KEYS:DEFAULT_POLAR_DIRECTION_KEYS2,DEFAULT_POLAR_DIRECTION_NAMES:DEFAULT_POLAR_DIRECTION_NAMES2,ChartAxisDirection:ChartAxisDirection17,PolarAxis:PolarAxis2,SeriesNodePickMode:SeriesNodePickMode14,valueProperty:valueProperty14,fixNumericExtent:fixNumericExtent8,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation7,markerFadeInAnimation:markerFadeInAnimation2,resetMarkerFn:resetMarkerFn2,animationValidation:animationValidation8,computeMarkerFocusBounds:computeMarkerFocusBounds3,extent:extent2,BBox:BBox13,Group:Group13,Path:Path10,PointerEvents:PointerEvents10,Selection:Selection12,Text:Text6,Marker:Marker4,mergeDefaults:mergeDefaults16,updateLabelNode:updateLabelNode7,getMarkerStyles:getMarkerStyles2}=import_ag_charts_community126._ModuleSupport,RadarSeriesNodeEvent=class extends import_ag_charts_community126._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadarSeries=class extends import_ag_charts_community126._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,categoryKey:"angleValue",propertyKeys:DEFAULT_POLAR_DIRECTION_KEYS2,propertyNames:DEFAULT_POLAR_DIRECTION_NAMES2,pickModes:[SeriesNodePickMode14.NEAREST_NODE,SeriesNodePickMode14.EXACT_SHAPE_MATCH],canHaveAxes:!0,animationResetFns:{item:resetMarkerFn2},clipFocusBox:!1}),this.properties=new RadarSeriesProperties,this.NodeEvent=RadarSeriesNodeEvent,this.lineGroup=this.contentGroup.appendChild(new Group13({name:"radar-line"})),this.lineSelection=Selection12.select(this.lineGroup,Path10),this.resetInvalidToZero=!1,this.circleCache={r:0,cx:0,cy:0},this.lineGroup.zIndex=0,this.itemGroup.zIndex=1}nodeFactory(){return new Marker4}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection17.Angle)return t.getDomain(this,"angleValue","value",i);{const o=t.getDomain(this,"radiusValue","value",i),s=extent2(o.length===0?o:[0].concat(o));return fixNumericExtent8(s)}}async processData(e){const{angleKey:t,radiusKey:i}=this.properties,o=[];this.ctx.animationManager.isSkipped()||o.push(animationValidation8());const s=this.axes[ChartAxisDirection17.Radius]?.scale.type,a=this.axes[ChartAxisDirection17.Angle]?.scale.type;await this.requestDataModel(e,this.data,{props:[valueProperty14(t,a,{id:"angleValue"}),valueProperty14(i,s,{id:"radiusValue",invalidValue:void 0}),...o]}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,o=this.circleCache;return e===o.r&&t===o.cx&&i===o.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection17.Radius];return e instanceof PolarAxis2?this.radius*e.innerRadiusRatio:0}maybeRefreshNodeData(){!this.didCircleChange()&&!this.nodeDataRefresh||(this.contextNodeData=this.createNodeData(),this.nodeData=this.contextNodeData?.nodeData??[],this.nodeDataRefresh=!1)}createNodeData(){const{processedData:e,dataModel:t}=this;if(!e||!t)return;const{angleKey:i,radiusKey:o,angleName:s,radiusName:a,marker:r,label:n,stroke:l,strokeWidth:c,strokeOpacity:h}=this.properties,p=this.axes[ChartAxisDirection17.Angle]?.scale,u=this.axes[ChartAxisDirection17.Radius]?.scale;if(!p||!u)return;const d=t.resolveColumnById(this,"angleValue",e),g=t.resolveColumnById(this,"radiusValue",e),y=this.getAxisInnerRadius(),m=this.getSeriesDomain(ChartAxisDirection17.Radius),b=(e.dataSources.get(this.id)??[]).map((v,S)=>{const D=d[S],_=g[S],k=p.convert(D),x=this.radius+y-u.convert(_),M=Math.cos(k),A=Math.sin(k),I=M*x,L=A*x;let R;if(n.enabled){const C=this.getLabelText(_,v,o,"radius",m,n,{value:_,datum:v,angleKey:i,radiusKey:o,angleName:s,radiusName:a});if(C){let N="right";(0,import_ag_charts_core46.isNumberEqual)(M,0)?N="center":M>0&&(N="left");let w="bottom";(0,import_ag_charts_core46.isNumberEqual)(A,0)?w="middle":A>0&&(w="top"),R={x:I+M*r.size,y:L+A*r.size,text:C,textAlign:N,textBaseline:w}}}return{series:this,datum:v,datumIndex:S,index:S,point:{x:I,y:L,size:r.size},midPoint:{x:I,y:L},label:R,angleValue:D,radiusValue:_,missing:!(0,import_ag_charts_core46.isFiniteNumber)(k)||!(0,import_ag_charts_core46.isFiniteNumber)(x)}});return{itemId:o,nodeData:b,labelData:b,styles:getMarkerStyles2(this,r,{stroke:l,strokeWidth:c,strokeOpacity:h})}}update({seriesRect:e}){const t=this.checkResize(e),i=!this.ctx.animationManager.isSkipped(),{series:o}=this.ctx.highlightManager?.getActiveHighlight()??{};this.highlightGroup.visible=(i||this.visible)&&o===this,this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updatePathSelections(),this.updateMarkerSelection(),this.updateHighlightSelection(),this.updatePathNodes(),this.hasItemStylers()&&(this.updateDatumStyles(this.itemSelection,!1),this.updateDatumStyles(this.highlightSelection,!0)),this.updateMarkers(this.itemSelection,!1),this.updateMarkers(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}updatePathSelections(){const e=this.visible?[!0]:[];this.lineSelection.update(e)}updateMarkerSelection(){const{marker:e}=this.properties;e.isDirty()&&(this.itemSelection.clear(),this.itemSelection.cleanup(),this.itemSelection=Selection12.select(this.itemGroup,()=>this.nodeFactory(),!1));const t=this.visible&&e.shape&&e.enabled?this.nodeData:[];this.itemSelection.update(t)}updateHighlightSelection(){const{marker:e}=this.properties;e.isDirty()&&(this.highlightSelection.clear(),this.highlightSelection.cleanup(),this.highlightSelection=Selection12.select(this.highlightGroup,()=>this.nodeFactory(),!1));const t=this.ctx.highlightManager?.getActiveHighlight(),i=this.visible&&e.shape&&e.enabled&&t?.datum?[{...t}]:[];this.highlightSelection.update(i)}getMarkerFill(e){return e?.fill??this.properties.marker.fill}getDatumStylerProperties(e){const{id:t,properties:i}=this,{angleKey:o,radiusKey:s}=i;return{seriesId:t,datum:e,angleKey:o,radiusKey:s}}updateDatumStyles(e,t){const{marker:i,stroke:o,strokeWidth:s,strokeOpacity:a}=this.properties;e.each((r,n)=>{n.style=this.getMarkerStyle(i,n,this.getDatumStylerProperties(n.datum),{isHighlight:t},void 0,{stroke:o,strokeWidth:s,strokeOpacity:a})})}updateMarkers(e,t){const i=this.getShapeFillBBox(),{contextNodeData:o}=this;if(!o)return;const s=this.ctx.highlightManager.getActiveHighlight();e.each((a,r)=>{const n=r.style??o.styles[this.getHighlightState(s,t,r.datumIndex)];this.applyMarkerStyle(n,a,r.point,i)})}updateLabels(){const{properties:e}=this,t=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.update(this.nodeData).each((i,o)=>{o.label&&(i.fillOpacity=this.getHighlightStyle(!1,o.datumIndex).opacity??1,updateLabelNode7(this,i,e,e.label,o.label,!1,t))})}makeStylerParams(e,t){throw new Error("not implemented")}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,axes:s,properties:a}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:h,marker:p}=a,u=s[ChartAxisDirection17.Angle],d=s[ChartAxisDirection17.Radius];if(!i||!o||!u||!d)return;const g=o.dataSources.get(this.id)?.[e],y=i.resolveColumnById(this,"angleValue",o)[e],m=i.resolveColumnById(this,"radiusValue",o)[e];if(y==null)return;const f=this.getMarkerStyle(p,{datum:g,datumIndex:e},this.getDatumStylerProperties(g),{isHighlight:!1});return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(u,"tooltip",y,g,r,void 0),symbol:this.legendItemSymbol(),data:[{label:c,fallbackLabel:l,value:this.getAxisValueText(d,"tooltip",m,g,l,void 0)}]},{seriesId:t,datum:g,title:n,angleKey:r,radiusKey:l,angleName:n,radiusName:c,...f})}legendItemSymbol(){const{stroke:e,strokeWidth:t,strokeOpacity:i,lineDash:o,marker:s}=this.properties;return{marker:{shape:s.shape,enabled:s.enabled||t<=0,fill:this.getMarkerFill()??s.stroke??e??"rgba(0, 0, 0, 0)",stroke:s.stroke??e??"rgba(0, 0, 0, 0)",fillOpacity:s.fillOpacity,strokeOpacity:s.strokeOpacity,strokeWidth:s.strokeWidth,lineDash:s.lineDash,lineDashOffset:s.lineDashOffset},line:{stroke:e,strokeOpacity:i,strokeWidth:t,lineDash:o}}}getLegendData(e){if(e!=="category")return[];const{id:t,ctx:{legendManager:i},visible:o}=this,{radiusKey:s,radiusName:a,showInLegend:r}=this.properties;return[{legendType:"category",id:t,itemId:s,seriesId:t,enabled:o&&i.getItemEnabled({seriesId:t,itemId:s}),label:{text:a??s},symbol:this.legendItemSymbol(),hideInLegend:!r}]}pickNodeClosestDatum(e){const{nodeData:t,centerX:i,centerY:o}=this,{x:s,y:a}=e,r=this.radius;if(Math.sqrt((s-i)**2+(a-o)**2)>r+this.properties.marker.size)return;let l=1/0,c;for(const h of t){const{point:{x:p=NaN,y:u=NaN}={}}=h;if(isNaN(p)||isNaN(u))continue;const d=Math.sqrt((e.x-p-i)**2+(e.y-u-o)**2);d<l&&(l=d,c=h)}if(c){const h=Math.max(l-(c.point?.size??0),0);return{datum:c,distance:h}}}computeLabelsBBox(){const{label:e}=this.properties;this.maybeRefreshNodeData();const t=[],i=new Text6;return this.nodeData.forEach(o=>{if(!e.enabled||!o.label)return;i.text=o.label.text,i.x=o.label.x,i.y=o.label.y,i.setFont(e),i.setAlign(o.label);const s=i.getBBox();t.push(s)}),t.length===0?null:BBox13.merge(t)}getLineNode(){return this.lineSelection?.at(0)}beforePathAnimation(){this.updatePathNodes()}updatePathNodes(){const e=this.getLineNode();if(!e)return;const{strokeWidth:t,stroke:i,strokeOpacity:o,lineDash:s,lineDashOffset:a,opacity:r}=mergeDefaults16(this.getHighlightStyle(),this.properties);e.setProperties({fill:void 0,lineJoin:"round",lineCap:"round",pointerEvents:PointerEvents10.None,opacity:r,stroke:i,strokeWidth:t,strokeOpacity:o,lineDash:s,lineDashOffset:a})}getLinePoints(){const{nodeData:e,resetInvalidToZero:t}=this,{connectMissingData:i}=this.properties;if(e.length===0)return[];const o=this.axes[ChartAxisDirection17.Radius],a=this.axes[ChartAxisDirection17.Angle]?.isReversed(),n=o?.isReversed()&&!a?[...e].reverse():e,l=[];let c=!1,h;return n.forEach((p,u)=>{let{x:d,y:g}=p.point;const y=isNaN(d)||isNaN(g);y||(h??(h=p)),y&&!i&&(d=0,g=0);const m=u===0||!t&&!i&&(y||c);l.push({x:d,y:g,moveTo:m}),c=y}),h!==void 0&&l.push({x:h.point.x,y:h.point.y,moveTo:!1}),l}animateSinglePath(e,t,i){const{path:o}=e;o.clear(!0);const s=this.getAxisInnerRadius(),a=this.axes[ChartAxisDirection17.Radius],n=a?.isReversed()?this.radius+s-a?.scale.convert(0):s;t.forEach(l=>{const{x:c,y:h,arc:p,radius:u=0,startAngle:d=0,endAngle:g=0,moveTo:y}=l,m=Math.atan2(h,c),f=n*Math.cos(m),b=n*Math.sin(m),v=i,S=f*(1-v)+c*v,D=b*(1-v)+h*v;p?o.arc(c,h,u,d,g):y?o.moveTo(S,D):o.lineTo(S,D)}),e.checkPathDirty()}animatePaths(e){const t=this.getLinePoints(),i=this.getLineNode();i&&this.animateSinglePath(i,t,e)}animateEmptyUpdateReady(){const{itemSelection:e,labelSelection:t}=this,{animationManager:i}=this.ctx;this.beforePathAnimation(),i.animate({id:`${this.id}_'path`,groupId:this.id,from:0,to:1,phase:"initial",collapsable:!1,onUpdate:o=>this.animatePaths(o),onStop:()=>this.animatePaths(1)}),markerFadeInAnimation2(this,i,"added",e),seriesLabelFadeInAnimation7(this,"labels",i,t)}animateWaitingUpdateReady(e){super.animateWaitingUpdateReady(e),this.resetPaths()}animateReadyResize(e){super.animateReadyResize(e),this.resetPaths()}resetPaths(){const e=this.getLineNode();if(e){const{path:t}=e,i=this.getLinePoints();e.fill=void 0,e.stroke=this.properties.stroke,e.strokeWidth=this.properties.strokeWidth,e.strokeOpacity=this.properties.strokeOpacity,e.lineDash=this.properties.lineDash,e.lineDashOffset=this.properties.lineDashOffset,t.clear(!0);for(const{x:o,y:s,moveTo:a}of i)a?t.moveTo(o,s):t.lineTo(o,s);e.checkPathDirty()}}getFormattedMarkerStyle(e){const{angleKey:t,radiusKey:i}=this.properties;return this.getMarkerStyle(this.properties.marker,e,{angleKey:t,radiusKey:i},{isHighlight:!0})}computeFocusBounds(e){return computeMarkerFocusBounds3(this,e)}};RadarSeries.className="RadarSeries";var import_ag_charts_community127=require("ag-charts-community"),{Property:Property33}=import_ag_charts_community127._ModuleSupport,RadarAreaSeriesProperties=class extends RadarSeriesProperties{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1}};__decorateClass([Property33],RadarAreaSeriesProperties.prototype,"fill",2),__decorateClass([Property33],RadarAreaSeriesProperties.prototype,"fillOpacity",2);var{Group:Group14,Path:Path11,PointerEvents:PointerEvents11,Selection:Selection13,ChartAxisDirection:ChartAxisDirection18,applyShapeStyle:applyShapeStyle15,mergeDefaults:mergeDefaults17}=import_ag_charts_community128._ModuleSupport,RadarAreaSeries=class extends RadarSeries{constructor(e){super(e),this.properties=new RadarAreaSeriesProperties,this.areaGroup=this.contentGroup.appendChild(new Group14({name:"radar-area"})),this.areaSelection=Selection13.select(this.areaGroup,Path11),this.resetInvalidToZero=!0,this.areaGroup.zIndex=-1}updatePathSelections(){const e=this.visible?[!0]:[];this.areaSelection.update(e),super.updatePathSelections()}getAreaNode(){return this.areaSelection.at(0)}getMarkerFill(e){return e?.fill??this.properties.marker.fill??this.properties.fill}updatePathNodes(){super.updatePathNodes();const{fill:e,fillOpacity:t,opacity:i}=mergeDefaults17(this.getHighlightStyle(),this.properties),o=this.getAreaNode();o&&(applyShapeStyle15(o,{fill:e,fillOpacity:t,stroke:void 0},this.getShapeFillBBox()),o.setProperties({lineJoin:"round",pointerEvents:PointerEvents11.None,opacity:i}))}animatePaths(e){super.animatePaths(e);const t=this.getAreaNode();t&&this.animateSinglePath(t,this.getAreaPoints(),e)}getAreaPoints(){const e=this.getLinePoints(),t=r=>{const n=this.axes[r];return n instanceof import_ag_charts_community128._ModuleSupport.PolarAxis?n:void 0},i=t(ChartAxisDirection18.Radius),o=t(ChartAxisDirection18.Angle);if(!i?.isReversed())return e;const a=o?.getAxisLinePoints()?.points??[];return e.concat(...a)}hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}resetPaths(){super.resetPaths();const e=this.getAreaNode();if(e){const{path:t}=e,i=this.getAreaPoints(),o=this.getShapeFillBBox();applyShapeStyle15(e,{fill:this.properties.fill,stroke:void 0,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset},o),e.lineJoin=e.lineCap="round",t.clear(!0),i.forEach(({x:s,y:a,moveTo:r,arc:n,radius:l=0,startAngle:c=0,endAngle:h=0})=>{n?t.arc(s,a,l,c,h):r?t.moveTo(s,a):t.lineTo(s,a)}),t.closePath(),e.checkPathDirty()}}};RadarAreaSeries.className="RadarAreaSeries",RadarAreaSeries.type="radar-area";var import_ag_charts_community129=require("ag-charts-community"),import_ag_charts_core47=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs17,radarAreaSeriesThemeableOptionsDef}=import_ag_charts_community129._ModuleSupport,radarAreaSeriesOptionsDef={...commonSeriesOptionsDefs17,...radarAreaSeriesThemeableOptionsDef,type:(0,import_ag_charts_core47.required)((0,import_ag_charts_core47.constant)("radar-area")),angleKey:(0,import_ag_charts_core47.required)(import_ag_charts_core47.string),radiusKey:(0,import_ag_charts_core47.required)(import_ag_charts_core47.string),angleName:import_ag_charts_core47.string,radiusName:import_ag_charts_core47.string},{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE4}}=import_ag_charts_community130._ModuleSupport,RadarAreaModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-area",moduleFactory:e=>new RadarAreaSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE4.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE4.RADIUS_NUMBER}],themeTemplate:RADAR_AREA_SERIES_THEME},RadarAreaSeriesModule={type:"series",name:"radar-area",chartType:"polar",enterprise:!0,options:radarAreaSeriesOptionsDef,create:e=>new RadarAreaSeries(e)},import_ag_charts_community132=require("ag-charts-community"),RadarLineSeries=class extends RadarSeries{hasItemStylers(){return this.properties.marker.itemStyler!=null||this.properties.label.itemStyler!=null}updatePathSelections(){this.lineSelection.update(this.visible?[!0]:[])}};RadarLineSeries.className="RadarLineSeries",RadarLineSeries.type="radar-line";var import_ag_charts_community131=require("ag-charts-community"),import_ag_charts_core48=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs18,radarLineSeriesThemeableOptionsDef}=import_ag_charts_community131._ModuleSupport,radarLineSeriesOptionsDef={...commonSeriesOptionsDefs18,...radarLineSeriesThemeableOptionsDef,type:(0,import_ag_charts_core48.required)((0,import_ag_charts_core48.constant)("radar-line")),angleKey:(0,import_ag_charts_core48.required)(import_ag_charts_core48.string),radiusKey:(0,import_ag_charts_core48.required)(import_ag_charts_core48.string),angleName:import_ag_charts_core48.string,radiusName:import_ag_charts_core48.string},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE5}=import_ag_charts_community132._ModuleSupport.ThemeConstants,RadarLineModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radar-line",moduleFactory:e=>new RadarLineSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE5.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE5.RADIUS_NUMBER}],themeTemplate:RADAR_LINE_SERIES_THEME},RadarLineSeriesModule={type:"series",name:"radar-line",chartType:"polar",enterprise:!0,options:radarLineSeriesOptionsDef,create:e=>new RadarLineSeries(e)},import_ag_charts_community138=require("ag-charts-community"),import_ag_charts_community135=require("ag-charts-community"),import_ag_charts_core49=require("ag-charts-core");function readDatum(e){return typeof e?.datum=="object"?e.datum:null}var import_ag_charts_community133=require("ag-charts-community"),{SeriesProperties:SeriesProperties11,makeSeriesTooltip:makeSeriesTooltip20,Property:Property34,Label:Label13}=import_ag_charts_community133._ModuleSupport,RadialBarSeriesProperties=class extends SeriesProperties11{constructor(){super(...arguments),this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.label=new Label13,this.tooltip=makeSeriesTooltip20()}getStyle(){const{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,cornerRadius:n}=this;return{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r,cornerRadius:n,opacity:1}}};__decorateClass([Property34],RadialBarSeriesProperties.prototype,"angleKey",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"radiusKey",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"angleName",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"radiusName",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"fill",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"stroke",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"lineDash",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"lineDashOffset",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"rotation",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"stackGroup",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"normalizedTo",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"label",2),__decorateClass([Property34],RadialBarSeriesProperties.prototype,"tooltip",2);var import_ag_charts_community134=require("ag-charts-community"),{SectorBox:SectorBox3,motion:motion9}=import_ag_charts_community134._ModuleSupport;function fixRadialBarAnimationStatus(e,t,i){if(i==="updated"){if(e.previousDatum==null||isNaN(e.previousDatum.innerRadius)||isNaN(e.previousDatum.outerRadius))return"added";if(isNaN(t.innerRadius)||isNaN(t.outerRadius))return"removed"}return i==="added"&&e.previousDatum!=null?"updated":i}function prepareRadialBarSeriesAnimationFunctions(e){return{toFn:(o,s,a)=>{let r,n,l,c,h;return a==="removed"?(r=e,n=e,l=s.innerRadius,c=s.outerRadius,h=new SectorBox3(r,n,l,c)):(r=s.startAngle,n=s.endAngle,l=isNaN(s.innerRadius)?o.innerRadius:s.innerRadius,c=isNaN(s.outerRadius)?o.outerRadius:s.outerRadius,h=s.clipSector),{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,clipSector:h}},fromFn:(o,s,a)=>{a=fixRadialBarAnimationStatus(o,s,a);let r,n,l,c,h;a==="removed"||a==="updated"?(r=o.startAngle,n=o.endAngle,l=o.innerRadius,c=o.outerRadius,h=o.clipSector):(r=e,n=e,l=s.innerRadius,c=s.outerRadius),h??(h=new SectorBox3(r,n,l,c));const p=motion9.NODE_UPDATE_STATE_TO_PHASE_MAPPING[a];return{startAngle:r,endAngle:n,innerRadius:l,outerRadius:c,clipSector:h,phase:p}}}}function resetRadialBarSelectionsFn(e,t){return{centerX:0,centerY:0,innerRadius:t.innerRadius,outerRadius:t.outerRadius,startAngle:t.startAngle,endAngle:t.endAngle,clipSector:t.clipSector}}var{DEFAULT_POLAR_DIRECTION_KEYS:DEFAULT_POLAR_DIRECTION_KEYS3,DEFAULT_POLAR_DIRECTION_NAMES:DEFAULT_POLAR_DIRECTION_NAMES3,ChartAxisDirection:ChartAxisDirection19,PolarAxis:PolarAxis3,diff:diff7,groupAccumulativeValueProperty:groupAccumulativeValueProperty2,keyProperty:keyProperty9,normaliseGroupTo:normaliseGroupTo2,valueProperty:valueProperty15,fixNumericExtent:fixNumericExtent9,resetLabelFn:resetLabelFn6,seriesLabelFadeInAnimation:seriesLabelFadeInAnimation8,seriesLabelFadeOutAnimation:seriesLabelFadeOutAnimation2,animationValidation:animationValidation9,angleBetween:angleBetween3,createDatumId:createDatumId17,CategoryScale:CategoryScale4,Sector:Sector5,SectorBox:SectorBox4,motion:motion10,isGradientFill:isGradientFill3,applyShapeStyle:applyShapeStyle16,updateLabelNode:updateLabelNode8,mergeDefaults:mergeDefaults18,getItemStyles:getItemStyles4}=import_ag_charts_community135._ModuleSupport,RadialBarSeriesNodeEvent=class extends import_ag_charts_community135._ModuleSupport.SeriesNodeEvent{constructor(e,t,i,o){super(e,t,i,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey}},RadialBarSeries=class extends import_ag_charts_community135._ModuleSupport.PolarSeries{constructor(e){super({moduleCtx:e,categoryKey:"radiusValue",propertyKeys:DEFAULT_POLAR_DIRECTION_KEYS3,propertyNames:DEFAULT_POLAR_DIRECTION_NAMES3,canHaveAxes:!0,animationResetFns:{item:resetRadialBarSelectionsFn,label:resetLabelFn6}}),this.properties=new RadialBarSeriesProperties,this.NodeEvent=RadialBarSeriesNodeEvent,this.groupScale=new CategoryScale4,this.circleCache={r:0,cx:0,cy:0}}nodeFactory(){return new Sector5}getSeriesDomain(e){const{dataModel:t,processedData:i}=this;if(!i||!t)return[];if(e===ChartAxisDirection19.Angle){const o=t.getDomain(this,"angleValue-end","value",i),s=[o[0]>0?0:o[0],o[1]<0?0:o[1]];return fixNumericExtent9(s)}else return t.getDomain(this,"radiusValue","key",i)}async processData(e){const{angleKey:t,radiusKey:i,normalizedTo:o}=this.properties,s=!this.ctx.animationManager.isSkipped(),a=this.getStackId(),r=`${a}-trailing`,n=[];(0,import_ag_charts_core49.isDefined)(o)&&n.push(normaliseGroupTo2([a,r],Math.abs(o))),s&&(this.processedData&&n.push(diff7(this.id,this.processedData)),n.push(animationValidation9()));const l=this.visible?{}:{forceValue:0},c=this.axes[ChartAxisDirection19.Radius]?.scale.type,h=this.axes[ChartAxisDirection19.Angle]?.scale.type;await this.requestDataModel(e,this.data,{props:[keyProperty9(i,c,{id:"radiusValue"}),valueProperty15(t,h,{id:"angleValue-raw",invalidValue:null,...l}),...groupAccumulativeValueProperty2(t,"normal","current",{id:"angleValue-end",rangeId:"angleValue-range",invalidValue:null,groupId:a,separateNegative:!0,...l},h),...groupAccumulativeValueProperty2(t,"trailing","current",{id:"angleValue-start",invalidValue:null,groupId:r,separateNegative:!0,...l},h),...n],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")}didCircleChange(){const e=this.radius,t=this.centerX,i=this.centerY,o=this.circleCache;return e===o.r&&t===o.cx&&i===o.cy?!1:(this.circleCache={r:e,cx:t,cy:i},!0)}maybeRefreshNodeData(){!this.didCircleChange()&&!this.nodeDataRefresh||(this.contextNodeData=this.createNodeData(),this.nodeData=this.contextNodeData?.nodeData??[],this.nodeDataRefresh=!1)}getAxisInnerRadius(){const e=this.axes[ChartAxisDirection19.Radius];return e instanceof PolarAxis3?this.radius*e.innerRadiusRatio:0}createNodeData(){const{processedData:e,dataModel:t}=this;if(!t||!e||e.type!=="grouped")return;const i=this.axes[ChartAxisDirection19.Angle],o=this.axes[ChartAxisDirection19.Radius],s=i?.scale,a=o?.scale;if(!s||!a)return;const r=t.resolveKeysById(this,"radiusValue",e),n=t.resolveColumnById(this,"angleValue-start",e),l=t.resolveColumnById(this,"angleValue-end",e),c=t.resolveColumnById(this,"angleValue-raw",e),h=t.resolveProcessedDataIndexById(this,"angleValue-range");let p=0;o instanceof RadiusCategoryAxis&&(p=o.groupPaddingInner);const{groupScale:u}=this,{index:d,visibleGroupCount:g}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this);u.domain=Array.from({length:g}).map((w,P)=>String(P)),u.range=[0,Math.abs(a.bandwidth??0)],u.paddingInner=g>1?p:0;const y=u.bandwidth>=1?u.bandwidth:u.rawBandwidth,m=i.isReversed(),f=o.isReversed(),b=f?this.radius:this.getAxisInnerRadius(),S=(f?this.getAxisInnerRadius():this.radius)+b,D=this.getSeriesDomain(ChartAxisDirection19.Angle),{angleKey:_,radiusKey:k,angleName:x,radiusName:M,label:A}=this.properties,I=(w,P,T,E)=>{const O=this.getLabelText(P,w,_,"angle",D,A,{value:P,datum:w,angleKey:_,radiusKey:k,angleName:x,radiusName:M});if(O)return{x:T,y:E,text:O,textAlign:"center",textBaseline:"middle"}},L=[],R={itemId:k,nodeData:L,labelData:L,styles:getItemStyles4(this.getItemStyle.bind(this))};if(!this.visible)return R;const{dataSources:C}=e,N=C.get(this.id)??[];for(const{datumIndex:w,group:P}of t.forEachGroupDatum(this,e)){const T=N[w],E=r[w];if(E==null)return;const O=c[w],F=n[w],G=l[w],B=O>=0&&!Object.is(O,-0),V=P.aggregation[h][B?1:0],z=B===m;let K=s.convert(F,{clamp:!0}),W=s.convert(G,{clamp:!0}),$=s.convert(0,{clamp:!0}),J=s.convert(V,{clamp:!0});z&&([$,J]=[J,$],[K,W]=[W,K]);const q=S-a.convert(E)+u.convert(String(d)),H=q+y,Y=(q+H)/2,ee=K+angleBetween3(K,W)/2,j=Math.cos(ee)*Y,X=Math.sin(ee)*Y,te=this.properties.label.enabled?I(T,O,j,X):void 0,U=new SectorBox4(K,W,q,H);L.push({series:this,datum:T,datumIndex:w,point:{x:j,y:X,size:0},midPoint:{x:j,y:X},label:te,angleValue:O,radiusValue:E,innerRadius:q,outerRadius:H,startAngle:$,endAngle:J,clipSector:U,reversed:z,index:w})}return R}update({seriesRect:e}){const t=this.checkResize(e);this.maybeRefreshNodeData(),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),this.updateSectorSelection(this.itemSelection,!1),this.updateSectorSelection(this.highlightSelection,!0),this.updateLabels(),t&&this.animationState.transition("resize"),this.animationState.transition("update")}getItemStyle(e,t,i){const{id:o,properties:s}=this,{angleKey:a,radiusKey:r,itemStyler:n}=s,l=this.getHighlightStyle(t,e?.datumIndex,i);let h=mergeDefaults18(l,s.getStyle());if(n!=null&&e!=null){const p=this.cachedDatumCallback(createDatumId17(this.getDatumId(e),t?"highlight":"node"),()=>{const u=this.ctx.highlightManager?.getActiveHighlight(),d=this.getHighlightStateString(u,t,e.datumIndex);return this.callWithContext(n,{seriesId:o,datum:e.datum,highlighted:t,highlightState:d,angleKey:a,radiusKey:r,...h})});p&&(h=mergeDefaults18(p,h))}return h}updateSectorSelection(e,t){let i=[];if(t){const n=this.ctx.highlightManager?.getActiveHighlight();n?.datum&&n.series===this&&i.push(n)}else i=this.nodeData;const{contextNodeData:o}=this;if(!o)return;const s=this.ctx.highlightManager.getActiveHighlight(),a=this.getShapeFillBBox(),r=this.hasItemStylers();e.update(i,void 0,n=>this.getDatumId(n)).each((n,l)=>{const c=readDatum(l);if(c==null)return;r&&(l.style=this.getItemStyle(l,t));const h=l.style??o.styles[this.getHighlightState(s,t,l.datumIndex)],p=h.cornerRadius,u=h.fill,d=import_ag_charts_community135._ModuleSupport.isGradientFill(u)&&u.bounds!=="item"?{centerX:0,centerY:0}:void 0;applyShapeStyle16(n,h,a,d),n.lineJoin="round",n.inset=n.stroke!=null?n.strokeWidth/2:0,n.startInnerCornerRadius=c.reversed?p:0,n.startOuterCornerRadius=c.reversed?p:0,n.endInnerCornerRadius=c.reversed?0:p,n.endOuterCornerRadius=c.reversed?0:p,t&&(n.startAngle=l.startAngle,n.endAngle=l.endAngle,n.clipSector=l.clipSector,n.innerRadius=l.innerRadius,n.outerRadius=l.outerRadius)})}updateLabels(){const{properties:e}=this,t=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.update(this.nodeData).each((i,o)=>{updateLabelNode8(this,i,e,e.label,o.label,!1,t),i.fillOpacity=this.getHighlightStyle(!1,o.datumIndex).opacity??1})}getBarTransitionFunctions(){const e=this.axes[ChartAxisDirection19.Angle]?.scale;let t=0;if(!e)return prepareRadialBarSeriesAnimationFunctions(t);const i=Math.min(e.domain[0],e.domain[1]),o=Math.max(e.domain[0],e.domain[1]);return i<=0&&o>=0&&(t=e.convert(0)),prepareRadialBarSeriesAnimationFunctions(t)}animateEmptyUpdateReady(){const{labelSelection:e}=this,t=this.getBarTransitionFunctions();motion10.fromToMotion(this.id,"datums",this.ctx.animationManager,[this.itemSelection],t),seriesLabelFadeInAnimation8(this,"labels",this.ctx.animationManager,e)}animateClearingUpdateEmpty(){const{itemSelection:e}=this,{animationManager:t}=this.ctx,i=this.getBarTransitionFunctions();motion10.fromToMotion(this.id,"datums",t,[e],i),seriesLabelFadeOutAnimation2(this,"labels",t,this.labelSelection)}getTooltipContent(e){const{id:t,dataModel:i,processedData:o,axes:s,properties:a}=this,{angleKey:r,angleName:n,radiusKey:l,radiusName:c,tooltip:h}=a,p=s[ChartAxisDirection19.Angle],u=s[ChartAxisDirection19.Radius],d=this.nodeData?.[e];if(!i||!o||!p||!u||!d)return;const g=o.dataSources.get(this.id)?.[e],y=i.resolveKeysById(this,"radiusValue",o)[e],m=i.resolveColumnById(this,"angleValue-raw",o)[e];if(y==null)return;const f=this.getItemStyle(d,!1);return this.formatTooltipWithContext(h,{heading:this.getAxisValueText(u,"tooltip",y,g,l,void 0),symbol:this.legendItemSymbol(),data:[{label:n,fallbackLabel:r,value:this.getAxisValueText(p,"tooltip",m,g,r,void 0)}]},{seriesId:t,datum:g,title:n,angleKey:r,angleName:n,radiusKey:l,radiusName:c,...f})}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.itemSelection.nodes())}legendItemSymbol(){const{fill:e,stroke:t,fillOpacity:i,strokeOpacity:o,strokeWidth:s,lineDash:a,lineDashOffset:r}=this.properties,n={fill:e??"rgba(0, 0, 0, 0)",stroke:t??"rgba(0, 0, 0, 0)",fillOpacity:i,strokeOpacity:o,strokeWidth:s,lineDash:a,lineDashOffset:r};return isGradientFill3(n.fill)&&(n.fill={...n.fill,gradient:"linear",rotation:0,reverse:!1}),{marker:n}}getLegendData(e){if(e!=="category")return[];const{id:t,visible:i}=this,{angleKey:o,angleName:s,showInLegend:a}=this.properties;return[{legendType:"category",id:t,itemId:o,seriesId:t,enabled:i,label:{text:s??o},symbol:this.legendItemSymbol(),hideInLegend:!a}]}getDatumId(e){return createDatumId17(e.radiusValue)}computeLabelsBBox(){return null}getStackId(){return`radialBar-stack-${this.seriesGrouping?.groupIndex??this.id}-xValues`}hasItemStylers(){return this.properties.itemStyler!=null}};RadialBarSeries.className="RadialBarSeries",RadialBarSeries.type="radial-bar";var import_ag_charts_community136=require("ag-charts-community"),import_ag_charts_core50=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs19,radialBarSeriesThemeableOptionsDef}=import_ag_charts_community136._ModuleSupport,radialBarSeriesOptionsDef={...commonSeriesOptionsDefs19,...radialBarSeriesThemeableOptionsDef,type:(0,import_ag_charts_core50.required)((0,import_ag_charts_core50.constant)("radial-bar")),angleKey:(0,import_ag_charts_core50.required)(import_ag_charts_core50.string),radiusKey:(0,import_ag_charts_core50.required)(import_ag_charts_core50.string),angleName:import_ag_charts_core50.string,radiusName:import_ag_charts_core50.string,grouped:import_ag_charts_core50.boolean,stacked:import_ag_charts_core50.boolean,stackGroup:import_ag_charts_core50.string,normalizedTo:import_ag_charts_core50.number},import_ag_charts_community137=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE6},FILL_GRADIENT_CONIC_SERIES_DEFAULTS,FILL_IMAGE_DEFAULTS:FILL_IMAGE_DEFAULTS5,FILL_PATTERN_DEFAULTS:FILL_PATTERN_DEFAULTS5}=import_ag_charts_community137._ModuleSupport,RADIAL_BAR_SERIES_THEME={series:{fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",FILL_GRADIENT_CONIC_SERIES_DEFAULTS],["image",FILL_IMAGE_DEFAULTS5],["pattern",FILL_PATTERN_DEFAULTS5]]},stroke:{$palette:"stroke"},strokeWidth:{$isUserOption:["./stroke",1,0]},label:{...import_ag_charts_community137._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"}},highlight:import_ag_charts_community137._ModuleSupport.multiSeriesHighlightStyle()},axes:{[POLAR_AXIS_TYPE6.RADIUS_CATEGORY]:{innerRadiusRatio:.2,groupPaddingInner:.2,paddingInner:.2,paddingOuter:.1}}},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE7}=import_ag_charts_community138._ModuleSupport.ThemeConstants,RadialBarModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-bar",moduleFactory:e=>new RadialBarSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE7.ANGLE_NUMBER},{type:POLAR_AXIS_TYPE7.RADIUS_CATEGORY}],themeTemplate:RADIAL_BAR_SERIES_THEME,stackable:!0,groupable:!0},RadialBarSeriesModule={type:"series",name:"radial-bar",chartType:"polar",enterprise:!0,options:radialBarSeriesOptionsDef,create:e=>new RadialBarSeries(e)},import_ag_charts_community143=require("ag-charts-community"),import_ag_charts_community140=require("ag-charts-community"),import_ag_charts_community139=require("ag-charts-community"),{Property:Property35}=import_ag_charts_community139._ModuleSupport,RadialColumnSeriesProperties=class extends RadialColumnSeriesBaseProperties{};__decorateClass([Property35],RadialColumnSeriesProperties.prototype,"columnWidthRatio",2),__decorateClass([Property35],RadialColumnSeriesProperties.prototype,"maxColumnWidthRatio",2);var{ChartAxisDirection:ChartAxisDirection20,PolarAxis:PolarAxis4,RadialColumnShape,getRadialColumnWidth}=import_ag_charts_community140._ModuleSupport,RadialColumnSeries=class extends RadialColumnSeriesBase{constructor(e){super(e,{animationResetFns:{item:resetRadialColumnSelectionFn}}),this.properties=new RadialColumnSeriesProperties}getStackId(){return`radarColumn-stack-${this.seriesGrouping?.groupIndex??this.id}-yValues`}nodeFactory(){return new RadialColumnShape}getColumnTransitionFunctions(){const e=this.isRadiusAxisReversed()?this.radius:this.getAxisInnerRadius();return prepareRadialColumnAnimationFunctions(e)}isRadiusAxisCircle(){const e=this.axes[ChartAxisDirection20.Radius];return e instanceof PolarAxis4?e.shape==="circle":!1}updateItemPath(e,t,i){e.isBeveled=this.isRadiusAxisCircle(),e.isRadiusAxisReversed=this.isRadiusAxisReversed(),i&&(e.innerRadius=t.innerRadius,e.outerRadius=t.outerRadius,e.startAngle=t.startAngle,e.endAngle=t.endAngle,e.columnWidth=t.columnWidth,e.axisInnerRadius=t.axisInnerRadius,e.axisOuterRadius=t.axisOuterRadius)}getColumnWidth(e,t){const{columnWidthRatio:i=.5,maxColumnWidthRatio:o=.5}=this.properties;return getRadialColumnWidth(e,t,this.radius,i,o)}hasItemStylers(){return this.properties.itemStyler!=null}};RadialColumnSeries.className="RadialColumnSeries",RadialColumnSeries.type="radial-column";var import_ag_charts_community141=require("ag-charts-community"),import_ag_charts_core51=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs20,radialColumnSeriesThemeableOptionsDef}=import_ag_charts_community141._ModuleSupport,radialColumnSeriesOptionsDef={...commonSeriesOptionsDefs20,...radialColumnSeriesThemeableOptionsDef,type:(0,import_ag_charts_core51.required)((0,import_ag_charts_core51.constant)("radial-column")),angleKey:(0,import_ag_charts_core51.required)(import_ag_charts_core51.string),radiusKey:(0,import_ag_charts_core51.required)(import_ag_charts_core51.string),angleName:import_ag_charts_core51.string,radiusName:import_ag_charts_core51.string,grouped:import_ag_charts_core51.boolean,stacked:import_ag_charts_core51.boolean,stackGroup:import_ag_charts_core51.string,normalizedTo:import_ag_charts_core51.number},import_ag_charts_community142=require("ag-charts-community"),{ThemeConstants:{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE8,POLAR_AXIS_SHAPE:POLAR_AXIS_SHAPE2},FILL_GRADIENT_RADIAL_SERIES_DEFAULTS:FILL_GRADIENT_RADIAL_SERIES_DEFAULTS2,FILL_IMAGE_DEFAULTS:FILL_IMAGE_DEFAULTS6,FILL_PATTERN_DEFAULTS:FILL_PATTERN_DEFAULTS6}=import_ag_charts_community142._ModuleSupport,RADIAL_COLUMN_SERIES_THEME={series:{fill:{$applySwitch:[{$path:"type"},{$palette:"fill"},["gradient",FILL_GRADIENT_RADIAL_SERIES_DEFAULTS2],["image",FILL_IMAGE_DEFAULTS6],["pattern",FILL_PATTERN_DEFAULTS6]]},stroke:{$palette:"stroke"},columnWidthRatio:.5,maxColumnWidthRatio:.5,strokeWidth:{$isUserOption:["./stroke",1,0]},label:{...import_ag_charts_community142._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!1,fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"}},highlight:import_ag_charts_community142._ModuleSupport.multiSeriesHighlightStyle()},axes:{[POLAR_AXIS_TYPE8.ANGLE_CATEGORY]:{shape:{$findFirstSiblingNotOperation:POLAR_AXIS_SHAPE2.CIRCLE},groupPaddingInner:0,paddingInner:0,label:{spacing:10}},[POLAR_AXIS_TYPE8.RADIUS_NUMBER]:{shape:{$findFirstSiblingNotOperation:POLAR_AXIS_SHAPE2.CIRCLE},innerRadiusRatio:.5}}},{POLAR_AXIS_TYPE:POLAR_AXIS_TYPE9}=import_ag_charts_community143._ModuleSupport.ThemeConstants,RadialColumnModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["polar"],identifier:"radial-column",moduleFactory:e=>new RadialColumnSeries(e),defaultAxes:[{type:POLAR_AXIS_TYPE9.ANGLE_CATEGORY},{type:POLAR_AXIS_TYPE9.RADIUS_NUMBER}],themeTemplate:RADIAL_COLUMN_SERIES_THEME,stackable:!0,groupable:!0},RadialColumnSeriesModule={type:"series",name:"radial-column",chartType:"polar",enterprise:!0,options:radialColumnSeriesOptionsDef,create:e=>new RadialColumnSeries(e)},import_ag_charts_community148=require("ag-charts-community"),import_ag_charts_community147=require("ag-charts-community"),import_ag_charts_core52=require("ag-charts-core"),import_ag_charts_community144=require("ag-charts-community"),{SvgPath,Rotatable,Translatable,Scalable:Scalable2}=import_ag_charts_community144._ModuleSupport,RadialGaugeNeedle=class extends Rotatable(Scalable2(Translatable(SvgPath))){constructor(){super(...arguments),this.scalingCenterX=.5,this.scalingCenterY=.5,this.rotationCenterX=.5,this.rotationCenterY=.5}};RadialGaugeNeedle.defaultPathData="M0.50245 0.53745C0.481767 0.53745 0.465 0.520683 0.465 0.5C0.465 0.479317 0.481767 0.46255 0.50245 0.46255L1 0.500012L0.50245 0.53745Z";var import_ag_charts_community145=require("ag-charts-community"),{getColorStops:getColorStops2,normalizeAngle360:normalizeAngle3606,normalizeAngle360Inclusive:normalizeAngle360Inclusive2,toDegrees}=import_ag_charts_community145._ModuleSupport,{BaseProperties:BaseProperties10,makeSeriesTooltip:makeSeriesTooltip21,SeriesProperties:SeriesProperties12,PropertiesArray:PropertiesArray3,AxisLabel:AxisLabel4,Property:Property36,Label:Label14}=import_ag_charts_community145._ModuleSupport,RadialGaugeDefaultTargetLabelProperties=class extends Label14{};__decorateClass([Property36],RadialGaugeDefaultTargetLabelProperties.prototype,"spacing",2);var RadialGaugeTargetProperties=class extends BaseProperties10{constructor(){super(...arguments),this.label=new RadialGaugeDefaultTargetLabelProperties}getStyle(){const{fill:e="black",fillOpacity:t=1,stroke:i="black",strokeWidth:o=0,strokeOpacity:s=1,lineDash:a=[0],lineDashOffset:r=0}=this;return{fill:e,fillOpacity:t,stroke:i,strokeWidth:o,strokeOpacity:s,lineDash:a,lineDashOffset:r}}};__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"text",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"value",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"shape",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"placement",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"spacing",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"size",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"rotation",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"fill",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"fillOpacity",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"stroke",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"strokeWidth",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"strokeOpacity",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"lineDash",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"lineDashOffset",2),__decorateClass([Property36],RadialGaugeTargetProperties.prototype,"label",2);var RadialGaugeBarProperties=class extends BaseProperties10{constructor(){super(...arguments),this.enabled=!0,this.fills=new PropertiesArray3(import_ag_charts_community145._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}getStyle(e,t){const{enabled:i,fill:o,fills:s,fillMode:a,fillOpacity:r,stroke:n,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}=this;return{fill:i?o??createConicGradient(s,a,e,t):"none",fillOpacity:r,stroke:n,strokeWidth:l,strokeOpacity:c,lineDash:h,lineDashOffset:p}}};__decorateClass([Property36],RadialGaugeBarProperties.prototype,"enabled",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"fills",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"fillMode",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"fill",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"fillOpacity",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"stroke",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"strokeWidth",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"strokeOpacity",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"lineDash",2),__decorateClass([Property36],RadialGaugeBarProperties.prototype,"lineDashOffset",2);var RadialGaugeScaleIntervalProperties=class extends BaseProperties10{constructor(){super(...arguments),this.values=void 0,this.step=void 0,this.minSpacing=0,this.maxSpacing=1e3}};__decorateClass([Property36],RadialGaugeScaleIntervalProperties.prototype,"values",2),__decorateClass([Property36],RadialGaugeScaleIntervalProperties.prototype,"step",2),__decorateClass([Property36],RadialGaugeScaleIntervalProperties.prototype,"minSpacing",2),__decorateClass([Property36],RadialGaugeScaleIntervalProperties.prototype,"maxSpacing",2);var RadialGaugeScaleLabelProperties=class extends AxisLabel4{},RadialGaugeScaleProperties=class extends BaseProperties10{constructor(){super(...arguments),this.min=0,this.max=1,this.fills=new PropertiesArray3(import_ag_charts_community145._ModuleSupport.StopProperties),this.fillMode="continuous",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.defaultFill="black",this.interval=new RadialGaugeScaleIntervalProperties,this.label=new RadialGaugeScaleLabelProperties}getStyle(e,t,i){const{fill:o,fills:s,defaultFill:a,fillMode:r,fillOpacity:n,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:u}=this;return{fill:o??(e&&s.length===0?a:void 0)??createConicGradient(s,r,t,i),fillOpacity:n,stroke:l,strokeWidth:c,strokeOpacity:h,lineDash:p,lineDashOffset:u}}};__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"min",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"max",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"fills",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"fillMode",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"fill",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"fillOpacity",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"stroke",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"strokeWidth",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"strokeOpacity",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"lineDash",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"lineDashOffset",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"defaultFill",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"interval",2),__decorateClass([Property36],RadialGaugeScaleProperties.prototype,"label",2);var RadialGaugeNeedleProperties=class extends BaseProperties10{constructor(){super(...arguments),this.enabled=!0,this.spacing=0,this.fill="black",this.fillOpacity=1,this.stroke="black",this.strokeWidth=0,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"enabled",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"radiusRatio",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"spacing",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"fill",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"fillOpacity",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"stroke",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"strokeWidth",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"strokeOpacity",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"lineDash",2),__decorateClass([Property36],RadialGaugeNeedleProperties.prototype,"lineDashOffset",2);var RadialGaugeLabelProperties=class extends AutoSizedLabel{};__decorateClass([Property36],RadialGaugeLabelProperties.prototype,"text",2);var RadialGaugeSecondaryLabelProperties=class extends AutoSizedSecondaryLabel{};__decorateClass([Property36],RadialGaugeSecondaryLabelProperties.prototype,"text",2);var RadialGaugeSeriesProperties=class extends SeriesProperties12{constructor(){super(...arguments),this.startAngle=0,this.endAngle=0,this.segmentation=new GaugeSegmentationProperties,this.defaultColorRange=[],this.targets=new PropertiesArray3(RadialGaugeTargetProperties),this.defaultTarget=new RadialGaugeTargetProperties,this.outerRadiusRatio=1,this.innerRadiusRatio=1,this.cornerRadius=0,this.cornerMode="container",this.spacing=0,this.scale=new RadialGaugeScaleProperties,this.bar=new RadialGaugeBarProperties,this.needle=new RadialGaugeNeedleProperties,this.label=new RadialGaugeLabelProperties,this.secondaryLabel=new RadialGaugeSecondaryLabelProperties,this.tooltip=makeSeriesTooltip21()}};__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"value",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"startAngle",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"endAngle",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"segmentation",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"defaultColorRange",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"targets",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"defaultTarget",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"outerRadiusRatio",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"innerRadiusRatio",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"outerRadius",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"innerRadius",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"cornerMode",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"spacing",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"scale",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"bar",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"needle",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"label",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([Property36],RadialGaugeSeriesProperties.prototype,"tooltip",2);function createConicGradient(e,t,i,o){const{domain:s,range:a}=o,[r,n]=a,l=normalizeAngle3606((r+n)/2+Math.PI),c=normalizeAngle360Inclusive2(n-r);return{type:"gradient",gradient:"conic",colorSpace:"oklch",colorStops:getColorStops2(e,i,s,t).map(({color:p,stop:u})=>(u=Math.min(Math.max(u,0),1),u=(r+c*u-l)/(2*Math.PI),u=(u%1+1)%1,{stop:u,color:p})),bounds:"series",rotation:toDegrees(l)+90}}var import_ag_charts_community146=require("ag-charts-community"),{SectorBox:SectorBox5}=import_ag_charts_community146._ModuleSupport;function computeClipSector(e){const{startAngle:t,endAngle:i,clipStartAngle:o,clipEndAngle:s,innerRadius:a,outerRadius:r}=e;if(!(o==null||s==null))return new SectorBox5(Math.max(o,t),Math.min(s,i),a,r)}function clipSectorVisibility(e,t,i){return Math.max(e,i.startAngle)<=Math.min(t,i.endAngle)}function hasClipSector(e){return e.clipStartAngle!=null&&e.clipEndAngle!=null}function datumClipSector(e,t){const{clipStartAngle:i,clipEndAngle:o,innerRadius:s,outerRadius:a}=e;return new SectorBox5(i,t?i:o,s,a)}function prepareRadialGaugeSeriesAnimationFunctions(e,t){const i=e?"initial":"update";return{node:{fromFn(a,r){const n=a.previousDatum;let{startAngle:l,endAngle:c}=n??r;const h=n!=null&&hasClipSector(n)?datumClipSector(n,e):void 0,p=hasClipSector(r)?datumClipSector(r,e):void 0;let u;return h!=null&&p!=null?u=h:h==null&&p!=null?(u=p,l=r.startAngle,c=r.endAngle):h!=null&&p==null?(u=void 0,l=r.startAngle,c=r.endAngle):e&&(c=l),{startAngle:l,endAngle:c,clipSector:u,phase:i}},toFn(a,r){const{startAngle:n,endAngle:l}=r;let c;return hasClipSector(r)&&(c=datumClipSector(r,!1)),{startAngle:n,endAngle:l,clipSector:c}},applyFn(a,r){const{startAngle:n,endAngle:l}=r;let{clipSector:c}=r;c!=null&&(c=new SectorBox5(Math.max(n,c.startAngle),Math.min(l,c.endAngle),c.innerRadius,c.outerRadius));const h=c==null||clipSectorVisibility(n,l,c);a.startAngle=n,a.endAngle=l,a.clipSector=c,a.visible=h}},needle:{fromFn(a){let{angle:r}=a.previousDatum??a.datum;return e&&(r=t),{rotation:r,phase:i}},toFn(a,r){const{angle:n}=r;return{rotation:n}}}}}function resetRadialGaugeSeriesResetSectorFunction(e,t){const{startAngle:i,endAngle:o}=t,s=computeClipSector(t),a=s==null||clipSectorVisibility(i,o,s);return{startAngle:i,endAngle:o,clipSector:s,visible:a}}function resetRadialGaugeSeriesResetNeedleFunction(e,t){const{angle:i}=t;return{rotation:i}}var verticalAlignFactors3={top:0,middle:.5,bottom:1};function formatRadialGaugeLabels(e,t,i,o,s,a){const{padding:r,textAlign:n,verticalAlign:l}=o;let c,h;if(i.each((D,_)=>{_.label==="primary"?c=_:_.label==="secondary"&&(h=_)}),c==null)return;const p=getLabelText(e.id,t,c,a?.label);if(p==null)return;const u=h!=null?getLabelText(e.id,t,h,a?.secondaryLabel):void 0,d={padding:r},g=n==="center"?2:1,y=l==="middle"?2:1,m=D=>({width:Math.sqrt(Math.max(s**2-(D/y)**2,0))*g,height:Math.min(D,y*s),meta:null});let f,b,v;if(h!=null&&u!=null){const D=formatStackedLabels(p,c,u,h,d,m);f=D?.label,b=D?.secondaryLabel,v=D?.height??0}else{const D=formatSingleLabel(p,c,d,m);f=D?.[0],b=void 0,v=D?.[0].height??0}const S=v*verticalAlignFactors3[l];i.each((D,_)=>{let k;if(_.label==="primary"?k=f:_.label==="secondary"&&(k=b),k==null){D.visible=!1;return}D.visible=!0,D.text=k.text,D.fontSize=k.fontSize,D.lineHeight=k.lineHeight,D.textAlign=n,D.textBaseline="middle";const x=_.label==="primary"?k.height/2:v-k.height/2;D.y=_.centerY+x-S,D.x=_.centerX})}var{fromToMotion:fromToMotion5,resetMotion:resetMotion4,SeriesNodePickMode:SeriesNodePickMode15,StateMachine:StateMachine4,createDatumId:createDatumId18,normalizeAngle360:normalizeAngle3607,normalizeAngle360Inclusive:normalizeAngle360Inclusive3,isBetweenAngles:isBetweenAngles2,sectorBox,toRadians:toRadians4,BBox:BBox14,Group:Group15,PointerEvents:PointerEvents12,Selection:Selection14,Sector:Sector6,SectorBox:SectorBox6,Text:Text7,Marker:Marker5,tickFormat:tickFormat2,applyShapeStyle:applyShapeStyle17,mergeDefaults:mergeDefaults19}=import_ag_charts_community147._ModuleSupport,targetPlacementRotation={inside:90,middle:0,outside:-90},outsideLabelPlacements=[{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"},{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"}],insideLabelPlacements=[{textAlign:"right",textBaseline:"bottom"},{textAlign:"left",textBaseline:"bottom"},{textAlign:"left",textBaseline:"top"},{textAlign:"right",textBaseline:"top"}],RadialGaugeSeries=class extends import_ag_charts_community147._ModuleSupport.Series{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode15.EXACT_SHAPE_MATCH,SeriesNodePickMode15.NEAREST_NODE]}),this.centerX=0,this.centerY=0,this.radius=0,this.textAlign="center",this.verticalAlign="middle",this.properties=new RadialGaugeSeriesProperties,this.scale=new LinearAngleScale,this.scaleGroup=this.contentGroup.appendChild(new Group15({name:"scaleGroup"})),this.itemGroup=this.contentGroup.appendChild(new Group15({name:"itemGroup"})),this.itemNeedleGroup=this.contentGroup.appendChild(new Group15({name:"itemNeedleGroup"})),this.itemTargetGroup=this.contentGroup.appendChild(new Group15({name:"itemTargetGroup"})),this.itemTargetLabelGroup=this.contentGroup.appendChild(new Group15({name:"itemTargetLabelGroup"})),this.itemLabelGroup=this.contentGroup.appendChild(new Group15({name:"itemLabelGroup"})),this.highlightTargetGroup=this.highlightGroup.appendChild(new Group15({name:"itemTargetLabelGroup"})),this.tickGroup=this.contentGroup.appendChild(new Group15({name:"tickGroup"})),this.scaleSelection=Selection14.select(this.scaleGroup,()=>this.nodeFactory()),this.datumSelection=Selection14.select(this.itemGroup,()=>this.nodeFactory()),this.needleSelection=Selection14.select(this.itemNeedleGroup,RadialGaugeNeedle),this.targetSelection=Selection14.select(this.itemTargetGroup,()=>this.markerFactory()),this.targetLabelSelection=Selection14.select(this.itemTargetLabelGroup,Text7),this.labelSelection=Selection14.select(this.itemLabelGroup,Text7),this.highlightTargetSelection=Selection14.select(this.highlightTargetGroup,()=>this.markerFactory()),this.tickSelection=Selection14.select(this.tickGroup,import_ag_charts_community147._ModuleSupport.TransformableText),this.datumUnion=new DatumUnion,this.animationState=new StateMachine4("empty",{empty:{update:{target:"ready",action:()=>this.animateEmptyUpdateReady()},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",resize:()=>this.animateReadyResize(),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:()=>this.animateWaitingUpdateReady()},reset:"empty",skip:"ready"},clearing:{update:{target:"empty"},reset:"empty",skip:"ready"}}),this.scaleGroup.pointerEvents=PointerEvents12.None,this.tickGroup.pointerEvents=PointerEvents12.None,this.itemNeedleGroup.pointerEvents=PointerEvents12.None,this.itemLabelGroup.pointerEvents=PointerEvents12.None}get hasData(){return this.properties.value!=null}nodeFactory(){return new Sector6}markerFactory(){const e=new Marker5;return e.size=1,e}processData(){this.nodeDataRefresh=!0,this.animationState.transition("updateData")}formatLabel(e){const{min:t,max:i}=this.properties.scale;return formatLabel(e,{min:t,max:i})}layoutScale(){const{scale:e,properties:t}=this,{seriesRectWidth:i,seriesRectHeight:o}=this.nodeDataDependencies,{scale:s,outerRadius:a}=this.properties,{min:r,max:n,label:l,interval:c}=s,h=toRadians4(t.startAngle-90),p=toRadians4(t.endAngle-90),d=normalizeAngle360Inclusive3(p-h)>Math.PI,g=d||isBetweenAngles2(1.5*Math.PI,h,p),y=d||isBetweenAngles2(0*Math.PI,h,p),m=d||isBetweenAngles2(.5*Math.PI,h,p),f=d||isBetweenAngles2(1*Math.PI,h,p);let b;f&&!y?b="right":!f&&y?b="left":b="center";let v;g&&!m?v="bottom":!g&&m?v="top":v="middle";const S=sectorBox({startAngle:h,endAngle:p,innerRadius:0,outerRadius:.5}),D=-(S.x+S.width/2)*2,_=-(S.y+S.height/2)*2,k=Math.min(i/S.width,o/S.height);e.domain=[r,n],e.range=[h,p],e.arcLength=k/2;const{maxSpacing:x,minSpacing:M}=c,{arcLength:A}=e,I=x?Math.floor(A/x):1,L=M?Math.floor(A/M):1/0,R=Math.floor(4/Math.PI*Math.abs(e.range[0]-e.range[1])),C=Math.max(I,Math.min(L,R)),N=c.values??e.ticks({nice:!1,interval:c.step,minTickCount:I,maxTickCount:L,tickCount:C})?.ticks??[],w=tickFormat2(N,typeof l.format=="string"?l.format:void 0),P=(0,import_ag_charts_core52.cachedTextMeasurer)(l),T=N.map((V,z)=>{let K;if(l.formatter&&(K=formatWithContext(this.ctx,l.formatter,{value:V,index:z,domain:e.domain,boundSeries:void 0})),K??(K=w?.(V)),K==null)return;const{width:W,height:$}=P.measureText(K);return{index:z,value:V,text:K,width:W,height:$}}).filter(V=>V!=null),E=T.reduce((V,z)=>Math.max(V,z.width),0),O=T.reduce((V,z)=>Math.max(V,z.height),0),F=l.enabled?Math.max(E,O)+l.spacing:0,G=Math.max(.5*k-F,0),B=a??G;return this.centerX=i/2+D*B,this.centerY=o/2+_*B,this.radius=B,this.textAlign=b,this.verticalAlign=v,T}getShapeFillBBox(){const{centerX:e,centerY:t,radius:i}=this,o=new BBox14(e-i,t-i,2*i,2*i);return{series:o,axis:o}}getTargets(){const{properties:e}=this,t=e.defaultTarget;return Array.from(e.targets).map(i=>{const{text:o=t.text,value:s=t.value??0,shape:a=t.shape??"triangle",rotation:r=t.rotation??0,placement:n=t.placement??"middle",spacing:l=t.spacing??0,size:c=t.size??0}=i,{enabled:h=t.label.enabled,color:p=t.label.color??"black",fontStyle:u=t.label.fontStyle??"normal",fontWeight:d=t.label.fontWeight??"normal",fontSize:g=t.label.fontSize,fontFamily:y=t.label.fontFamily,spacing:m=t.label.spacing??0}=i.label;return{text:o,value:s,shape:a,placement:n,spacing:l,size:c,rotation:r,label:{enabled:h,color:p,fontStyle:u,fontWeight:d,fontSize:g,fontFamily:y,spacing:m},style:i.getStyle()}})}getTargetRadius(e){const{radius:t,properties:i}=this,{innerRadiusRatio:o,outerRadiusRatio:s}=i,{placement:a,spacing:r,size:n}=e,l=t*s,c=t*o;switch(a){case"inside":return Math.max(c-r-n/2,0);case"outside":return l+r+n/2;default:return(c+l)/2}}getTargetLabel(e){const{scale:t}=this,{value:i,size:o,placement:s,label:a}=e,{spacing:r,color:n,fontStyle:l,fontWeight:c,fontSize:h,fontFamily:p}=a,u=void 0,d=t.convert(i),g=normalizeAngle3607(d)/(Math.PI/2)|0,y=o/2+r;let m,f,b,v;switch(s){case"outside":({textAlign:m,textBaseline:f}=outsideLabelPlacements[g]),b=y*Math.cos(d),v=y*Math.sin(d);break;case"inside":({textAlign:m,textBaseline:f}=insideLabelPlacements[g]),b=-y*Math.cos(d),v=-y*Math.sin(d);break;default:m="center",f="bottom",b=0,v=-y;break}return{offsetX:b,offsetY:v,fill:n,textAlign:m,textBaseline:f,fontStyle:l,fontWeight:c,fontSize:h,fontFamily:p,lineHeight:u}}createNodeData(){const e=this.layoutScale(),{id:t,scale:i,properties:o,radius:s,centerX:a,centerY:r}=this,{value:n,innerRadiusRatio:l,outerRadiusRatio:c,segmentation:h,cornerRadius:p,cornerMode:u,needle:d,bar:g,scale:y,label:m,secondaryLabel:f}=o,{outerRadius:b=s*c,innerRadius:v=s*l,defaultColorRange:S}=o,D=this.getTargets(),_=[],k=[],x=[],M=[],A=[],I=u==="item",L=i.convert(i.domain[0]),R=i.convert(n),C=Math.ceil(normalizeAngle360Inclusive3(R-L)*s);let N=h.enabled?h.interval.getSegments(i,C):void 0;const w=g.getStyle(S,i),P=y.getStyle(g.enabled,S,i);if(N==null&&I){const T=Math.min(...i.domain),E=Math.max(...i.domain),O={value:n,segmentStart:T,segmentEnd:E},G=Math.min(p,(b-v)/2)/((v+b)/2);_.push({series:this,itemId:"value",datum:O,datumIndex:{type:0},type:0,centerX:a,centerY:r,outerRadius:b,innerRadius:v,startAngle:L-G,endAngle:R+G,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:p,endCornerRadius:p,style:w}),A.push({series:this,itemId:"scale",datum:O,datumIndex:{type:0},type:0,centerX:a,centerY:r,outerRadius:b,innerRadius:v,startAngle:i.range[0]-G,endAngle:i.range[1]+G,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:p,endCornerRadius:p,style:P})}else{N??(N=i.domain);for(let T=0;T<N.length-1;T++){const E=N[T],O=N[T+1],F={value:n,segmentStart:E,segmentEnd:O},G=T===0,B=T===N.length-2,V=i.convert(E),z=i.convert(O);_.push({series:this,itemId:`value-${T}`,datum:F,datumIndex:{type:0},type:0,centerX:a,centerY:r,outerRadius:b,innerRadius:v,startAngle:V,endAngle:z,clipStartAngle:L,clipEndAngle:R,startCornerRadius:I||G?p:0,endCornerRadius:I||B?p:0,style:w}),A.push({series:this,itemId:`scale-${T}`,datum:F,datumIndex:{type:0},type:0,centerX:a,centerY:r,outerRadius:b,innerRadius:v,startAngle:V,endAngle:z,clipStartAngle:void 0,clipEndAngle:void 0,startCornerRadius:I||G?p:0,endCornerRadius:I||B?p:0,style:P})}}if(!d.enabled&&m.enabled){const{text:T,color:E,fontSize:O,minimumFontSize:F,fontStyle:G,fontWeight:B,fontFamily:V,lineHeight:z,formatter:K=W=>this.formatLabel(W.value)}=m;M.push({label:"primary",centerX:a,centerY:r,text:T,value:n,fill:E,fontSize:O,minimumFontSize:F,fontStyle:G,fontWeight:B,fontFamily:V,lineHeight:z,formatter:K})}if(!d.enabled&&f.enabled){const{text:T,color:E,fontSize:O,minimumFontSize:F,fontStyle:G,fontWeight:B,fontFamily:V,lineHeight:z,formatter:K}=f;M.push({label:"secondary",centerX:a,centerY:r,text:T,value:n,fill:E,fontSize:O,minimumFontSize:F,fontStyle:G,fontWeight:B,fontFamily:V,lineHeight:z,formatter:K})}if(d.enabled){let T=d.radiusRatio!=null?s*d.radiusRatio:v;T=Math.max(T-d.spacing,0);const E=i.convert(n);x.push({centerX:a,centerY:r,radius:T,angle:E,series:this})}for(let T=0;T<D.length;T+=1){const E=D[T],{value:O,text:F,size:G,shape:B,style:V}=E;if(O<Math.min(...i.domain)||O>Math.max(...i.domain))continue;const z=this.getTargetRadius(E),K=i.convert(O),W=toRadians4(E.rotation+targetPlacementRotation[E.placement]);k.push({series:this,itemId:`target-${T}`,midPoint:{x:z*Math.cos(K)+a,y:z*Math.sin(K)+r},datum:{value:O},datumIndex:{type:1,index:T},type:1,value:O,text:F,centerX:a,centerY:r,shape:B,radius:z,angle:K,rotation:W,size:G,label:this.getTargetLabel(E),style:V})}return{itemId:t,nodeData:_,needleData:x,targetData:k,labelData:M,scaleData:A,tickData:e}}updateSelections(e){(this.nodeDataRefresh||e)&&(this.contextNodeData=this.createNodeData(),this.nodeDataRefresh=!1)}highlightDatum(e){if(e!=null&&e.series===this&&e.type===1)return e}update({seriesRect:e}){const{datumSelection:t,labelSelection:i,needleSelection:o,targetSelection:s,targetLabelSelection:a,scaleSelection:r,highlightTargetSelection:n,tickSelection:l}=this,c=this.checkResize(e);this.updateSelections(c),this.contentGroup.visible=this.visible,this.contentGroup.opacity=this.getOpacity();const h=this.contextNodeData?.nodeData??[],p=this.contextNodeData?.labelData??[],u=this.contextNodeData?.needleData??[],d=this.contextNodeData?.targetData??[],g=this.contextNodeData?.scaleData??[],y=this.contextNodeData?.tickData??[],m=this.highlightDatum(this.ctx.highlightManager.getActiveHighlight());this.scaleSelection=this.updateScaleSelection({scaleData:g,scaleSelection:r}),this.updateScaleNodes({scaleSelection:r}),this.needleSelection=this.updateNeedleSelection({needleData:u,needleSelection:o}),this.updateNeedleNodes({needleSelection:o}),this.targetSelection=this.updateTargetSelection({targetData:d,targetSelection:s}),this.updateTargetStyles({targetSelection:s,isHighlight:!1}),this.updateTargetNodes({targetSelection:s}),this.targetLabelSelection=this.updateTargetLabelSelection({targetData:d,targetLabelSelection:a}),this.updateTargetLabelNodes({targetLabelSelection:a}),this.datumSelection=this.updateDatumSelection({nodeData:h,datumSelection:t}),this.updateDatumNodes({datumSelection:t}),this.labelSelection=this.updateLabelSelection({labelData:p,labelSelection:i}),this.updateLabelNodes({labelSelection:i}),this.highlightTargetSelection=this.updateTargetSelection({targetData:m!=null?[m]:[],targetSelection:n}),this.updateTargetStyles({targetSelection:n,isHighlight:!0}),this.updateTargetNodes({targetSelection:n}),this.tickSelection=this.updateTickSelection({tickData:y,tickSelection:l}),this.updateTickNodes({tickSelection:l}),c&&this.animationState.transition("resize"),this.animationState.transition("update")}updateDatumSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId18(e.nodeData.length,t.itemId))}updateDatumNodes(e){const{datumSelection:t}=e,{ctx:i,properties:o}=this,{segmentation:s}=o,a=s.spacing??0,r=i.animationManager.isSkipped(),n=this.getShapeFillBBox();t.each((l,c)=>{const{centerX:h,centerY:p,innerRadius:u,outerRadius:d,startCornerRadius:g,endCornerRadius:y}=c;l.centerX=h,l.centerY=p,l.innerRadius=u,l.outerRadius=d,l.pointerEvents=this.properties.bar.enabled?import_ag_charts_community147._ModuleSupport.PointerEvents.All:import_ag_charts_community147._ModuleSupport.PointerEvents.None,applyShapeStyle17(l,c.style,n),l.startOuterCornerRadius=g,l.startInnerCornerRadius=g,l.endOuterCornerRadius=y,l.endInnerCornerRadius=y,l.radialEdgeInset=(a+l.strokeWidth)/2,l.concentricEdgeInset=l.strokeWidth/2,(r||l.previousDatum==null)&&l.setProperties(resetRadialGaugeSeriesResetSectorFunction(l,c))}),this.datumUnion.update(t,this.itemGroup,import_ag_charts_community147._ModuleSupport.Sector,(l,c,h)=>{l.clipSector??(l.clipSector=new SectorBox6(NaN,NaN,NaN,NaN)),l.centerX=c.centerX,l.centerY=c.centerY,l.outerRadius=l.clipSector.outerRadius=c.outerRadius,l.innerRadius=l.clipSector.innerRadius=c.innerRadius,l.startAngle=l.clipSector.startAngle=c.startAngle,l.startInnerCornerRadius=c.startInnerCornerRadius,l.startOuterCornerRadius=c.startOuterCornerRadius,l.endAngle=h.endAngle,l.clipSector.endAngle=h.clipSector?.endAngle??h.endAngle,l.endInnerCornerRadius=h.endInnerCornerRadius,l.endOuterCornerRadius=h.endOuterCornerRadius,l.pointerEvents=import_ag_charts_community147._ModuleSupport.PointerEvents.None})}updateScaleSelection(e){return e.scaleSelection.update(e.scaleData,void 0,t=>createDatumId18(e.scaleData.length,t.itemId))}updateScaleNodes(e){const{scaleSelection:t}=e,{segmentation:i}=this.properties,o=i.spacing??0,s=this.getShapeFillBBox();t.each((a,r)=>{const{centerX:n,centerY:l,innerRadius:c,outerRadius:h,startCornerRadius:p,endCornerRadius:u}=r;a.centerX=n,a.centerY=l,a.innerRadius=c,a.outerRadius=h,applyShapeStyle17(a,r.style,s),a.startOuterCornerRadius=p,a.startInnerCornerRadius=p,a.endOuterCornerRadius=u,a.endInnerCornerRadius=u,a.radialEdgeInset=(o+a.strokeWidth)/2,a.concentricEdgeInset=a.strokeWidth/2,a.setProperties(resetRadialGaugeSeriesResetSectorFunction(a,r))})}updateNeedleSelection(e){return e.needleSelection.update(e.needleData,void 0,()=>createDatumId18(0))}updateNeedleNodes(e){const{needleSelection:t}=e,{fill:i,fillOpacity:o,stroke:s,strokeOpacity:a,strokeWidth:r,lineDash:n,lineDashOffset:l}=this.properties.needle,c=this.ctx.animationManager.isSkipped();t.each((h,p)=>{const{centerX:u,centerY:d,radius:g}=p,y=g*2;h.d=RadialGaugeNeedle.defaultPathData,applyShapeStyle17(h,{fill:i,fillOpacity:o,stroke:s,strokeOpacity:a,strokeWidth:r/y,lineDash:n.map(m=>m/y),lineDashOffset:l/y}),h.translationX=u,h.translationY=d,h.scalingX=y,h.scalingY=y,c&&h.setProperties(resetRadialGaugeSeriesResetNeedleFunction(h,p))})}updateTargetSelection(e){return e.targetSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetStyles({targetSelection:e,isHighlight:t}){e.each((i,o)=>{o.style=this.getTargetStyle(t,o)})}updateTargetNodes({targetSelection:e}){e.each((t,i)=>{const{centerX:o,centerY:s,angle:a,radius:r,shape:n,size:l,rotation:c}=i;applyShapeStyle17(t,i.style),t.size=l,t.shape=n==="line"?lineMarker:n,t.translationX=o+r*Math.cos(a),t.translationY=s+r*Math.sin(a),t.rotation=a+c})}getTargetStyle(e,{datumIndex:t,style:i}){const o=this.getHighlightStyle(e,t);return mergeDefaults19(o,{...i,opacity:1})}updateTargetLabelSelection(e){return e.targetLabelSelection.update(e.targetData,void 0,t=>t.itemId)}updateTargetLabelNodes(e){const{targetLabelSelection:t}=e;t.each((i,o)=>{const{centerX:s,centerY:a,radius:r,angle:n,text:l}=o,{offsetX:c,offsetY:h,fill:p,fontStyle:u,fontWeight:d,fontSize:g,fontFamily:y,textAlign:m,textBaseline:f}=o.label;if(l==null){i.visible=!1;return}i.visible=!0,i.x=s+r*Math.cos(n)+c,i.y=a+r*Math.sin(n)+h,i.text=l,i.fill=p,i.fontStyle=u,i.fontWeight=d,i.fontSize=g,i.fontFamily=y,i.textAlign=m,i.textBaseline=f})}updateLabelSelection(e){return e.labelSelection.update(e.labelData,void 0,t=>t.label)}updateLabelNodes(e){const{labelSelection:t}=e,i=this.ctx.animationManager.isSkipped();t.each((o,s)=>{o.fill=s.fill,o.fontStyle=s.fontStyle,o.fontWeight=s.fontWeight,o.fontFamily=s.fontFamily}),(i||this.labelsHaveExplicitText())&&this.formatLabelText()}updateTickSelection(e){return e.tickSelection.update(e.tickData,void 0,t=>t.index)}updateTickNodes(e){const{scale:t,radius:i,centerX:o,centerY:s,properties:a}=this,{enabled:r,color:n,fontFamily:l,fontSize:c,fontStyle:h,fontWeight:p,spacing:u}=a.scale.label,d=toRadians4(a.scale.label.rotation??0);e.tickSelection.each((g,y)=>{if(!r){g.visible=!1;return}g.visible=!0,g.text=y.text,g.fill=n,g.fontFamily=l,g.fontSize=c,g.fontStyle=h,g.fontWeight=p,g.textAlign="center",g.textBaseline="middle";const m=t.convert(y.value),{width:f,height:b}=y,v=Math.abs(i*Math.cos(m)),S=Math.abs(i*Math.sin(m)),D=Math.min(Math.max(Math.abs(i/Math.tan(m)),v-f/2),v+f/2),_=Math.min(Math.max(Math.abs(i*Math.tan(m)),S-b/2),S+b/2),k=Math.hypot(D,_),x=o+(k+u)*Math.cos(m),M=s+(k+u)*Math.sin(m);g.x=x,g.y=M,g.rotationCenterX=x,g.rotationCenterY=M,g.rotation=d})}labelsHaveExplicitText(){for(const{datum:e}of this.labelSelection)if(e.text==null)return!1;return!0}formatLabelText(e){const{labelSelection:t,radius:i,textAlign:o,verticalAlign:s}=this,{spacing:a,innerRadiusRatio:r}=this.properties;formatRadialGaugeLabels(this,this.ctx,t,{padding:a,textAlign:o,verticalAlign:s},i*r,e)}resetAllAnimation(){this.ctx.animationManager.stopByAnimationGroupId(this.id),resetMotion4([this.datumSelection],resetRadialGaugeSeriesResetSectorFunction),resetMotion4([this.needleSelection],resetRadialGaugeSeriesResetNeedleFunction),this.formatLabelText()}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}animateLabelText(e={}){const{animationManager:t}=this.ctx;let i,o,s,a;if(this.labelSelection.each((r,n)=>{r.opacity=1,n.label==="primary"?(i=r.previousDatum?.value??e.from??n.value,o=n.value):n.label==="secondary"&&(s=r.previousDatum?.value??e.from??n.value,a=n.value)}),!this.labelsHaveExplicitText())if(o==null||a==null)this.formatLabelText();else if(i===o&&s===a)this.formatLabelText({label:o,secondaryLabel:a});else{const r=`${this.id}_labels`;t.animate({id:r,groupId:"label",from:{label:i,secondaryLabel:s},to:{label:o,secondaryLabel:a},phase:e.phase??"update",onUpdate:n=>this.formatLabelText(n),onStop:()=>this.formatLabelText({label:o,secondaryLabel:a})})}}animateEmptyUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=prepareRadialGaugeSeriesAnimationFunctions(!0,this.scale.range[0]);fromToMotion5(this.id,"node",e,[this.datumSelection],t,(o,s)=>s.itemId),fromToMotion5(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),fromToMotion5(this.id,"label",e,[this.labelSelection],fadeInFns,(o,s)=>s.label),this.animateLabelText({from:this.properties.scale.min,phase:"initial"})}animateWaitingUpdateReady(){const{animationManager:e}=this.ctx,{node:t,needle:i}=prepareRadialGaugeSeriesAnimationFunctions(!1,this.scale.range[0]);fromToMotion5(this.id,"node",e,[this.datumSelection],t,(o,s)=>s.itemId),fromToMotion5(this.id,"needle",e,[this.needleSelection],i,()=>"needle"),this.animateLabelText()}animateReadyResize(){this.resetAllAnimation()}dataCount(){return NaN}getSeriesDomain(){return[NaN,NaN]}getSeriesRange(e,t){return[NaN,NaN]}getLegendData(){return[]}getTooltipContent(e){const{id:t,properties:i}=this,{tooltip:o}=i;let s,a,r;if(e.type===0?(s=i.value,a=i.label.text,r=this.ctx.localeManager.t("ariaLabelGaugeValue")):({value:s,text:a}=i.targets[e.index],r=this.ctx.localeManager.t("ariaLabelGaugeTarget")),s!=null)return this.formatTooltipWithContext(o,{data:[{label:a,fallbackLabel:r,value:this.formatLabel(s)}]},{seriesId:t,title:void 0,datum:void 0,value:s})}pickNodeClosestDatum(e){return pickGaugeNearestDatum(this,e)}pickFocus(e){return pickGaugeFocus(this,e)}getCaptionText(){const{value:e}=this.properties,t=[];return t.push(this.formatLabel(e)),this.labelSelection.each((i,o)=>{const s=getLabelText(this.id,this.ctx,o);s!=null&&t.push(s)}),t.join(". ")}getCategoryValue(e){}datumIndexForCategoryValue(e){}hasItemStylers(){return!1}};RadialGaugeSeries.className="RadialGaugeSeries",RadialGaugeSeries.type="radial-gauge";var{FONT_SIZE_RATIO}=import_ag_charts_community148._ModuleSupport,RadialGaugeModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"radial-gauge",moduleFactory:e=>new RadialGaugeSeries(e),themeTemplate:{minWidth:200,minHeight:200,tooltip:{enabled:!1},series:{outerRadiusRatio:1,innerRadiusRatio:.8,startAngle:270,endAngle:450,defaultColorRange:{$if:[{$eq:[{$palette:"type"},"inbuilt"]},{$interpolate:[{$palette:"secondDivergingColors"},5]},import_ag_charts_community148._ModuleSupport.SAFE_RANGE2_OPERATION]},scale:{defaultFill:{$path:["/1",{$palette:"fill"},{$palette:"hierarchyColors"}]},stroke:{$path:["/2",import_ag_charts_community148._ModuleSupport.SAFE_STROKE_FILL_OPERATION,{$palette:"hierarchyColors"}]},strokeWidth:{$isUserOption:["./stroke",2,0]},label:{fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:12}},bar:{strokeWidth:{$isUserOption:["./stroke",2,0]}},segmentation:{enabled:!1,interval:{},spacing:2},defaultTarget:{fill:{$ref:"foregroundColor"},stroke:{$ref:"foregroundColor"},size:10,shape:"triangle",placement:"outside",spacing:5,label:{enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"},spacing:5}},needle:{enabled:!1,fill:{$ref:"foregroundColor"},spacing:10},label:{...import_ag_charts_community148._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:56,minimumFontSize:18/56,fontFamily:{$ref:"fontFamily"},color:{$ref:"textColor"}},secondaryLabel:{...import_ag_charts_community148._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:FONT_SIZE_RATIO.LARGE},minimumFontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},color:{$ref:"subtleTextColor"}},tooltip:{range:{$path:["/tooltip/range",10]}}}}},RadialGaugeSeriesModule={type:"series",name:"radial-gauge",chartType:"standalone",enterprise:!0,options:import_ag_charts_community148._ModuleSupport.radialGaugeSeriesOptionsDef,create:e=>new RadialGaugeSeries(e)},import_ag_charts_community153=require("ag-charts-community"),import_ag_charts_community151=require("ag-charts-community"),import_ag_charts_core53=require("ag-charts-core");function sortNodesByY(e){e.nodes.sort((t,i)=>Math.round((t.datum.y-i.datum.y)*100)/100||-(t.datum.size-i.datum.size))}function justifyNodesAcrossColumn({nodes:e,size:t},{seriesRectHeight:i,nodeSpacing:o,sizeScale:s}){const a=i*t*s;let r=(i-(a+o*(e.length-1)))/2;e.forEach(({datum:n})=>{const l=i*n.size*s;n.y=r,n.height=l,r+=l+o})}function separateNodesInColumn(e,t){const{nodes:i}=e,{seriesRectHeight:o,nodeSpacing:s}=t;sortNodesByY(e);let a=0,r=0;for(const{datum:c}of i){const h=Math.max(r-c.y,0);c.y+=h,a+=h,r=c.y+c.height+s}if(r-s<o)return a>0;let l=o;for(let c=i.length-1;c>=0;c-=1){const{datum:h}=i[c],p=h.y+h.height,u=Math.min(l-p,0);h.y+=u,a+=u,l=h.y-s}return!0}function hasCrossOver(e,t,i,o,s,a,r,n){const l=(i-e)/(o-t),c=(r-s)/(n-a),h=((a-t)*(l*c)+e*c-s*l)/(c-l);return e<i?h>e&&h<Math.min(i,r):h<e&&h>Math.max(i,r)}function removeColumnCrossoversInDirection(e,t){let i=!1;const o=e.nodes.filter(a=>t(a).length===1);let s=!0;for(let a=0;s&&a<o.length;a+=1){s=!1;for(let r=0;r<o.length-1;r+=1){const{datum:n}=o[r],l=t(o[r])[0].node.datum,{datum:c}=o[r+1],h=t(o[r+1])[0].node.datum;if(!(hasCrossOver(n.x,n.y,l.x,l.y,c.x,c.y,h.x,h.y)||hasCrossOver(n.x,n.y+n.height/2,l.x,l.y+l.height/2,c.x,c.y+c.height/2,h.x,h.y+h.height/2)||hasCrossOver(n.x,n.y+n.height,l.x,l.y+l.height,c.x,c.y+c.height,h.x,h.y+h.height)))continue;const u=o[r];o[r]=o[r+1],o[r+1]=u;const d=n.y;n.y=c.y+c.height-n.height,c.y=d,i=!0,s=!0}}return i}function removeColumnCrossovers(e){let t=!1;return sortNodesByY(e),t=removeColumnCrossoversInDirection(e,i=>i.linksBefore)||t,t=removeColumnCrossoversInDirection(e,i=>i.linksAfter)||t,t}function weightedNodeY(e){if(e.length===0)return;let t=0,i=0;for(const{node:{datum:o}}of e)t+=o.y*o.size,i+=o.size;return t/i}function layoutColumn(e,t,i,o){return e.nodes.forEach(({datum:s,linksBefore:a,linksAfter:r})=>{const n=o===1?a:r,l=o===1?r:a,c=weightedNodeY(n);if(c!=null){const h=l.length!==0?i:1;s.y=s.y+(c-s.y)*h}}),separateNodesInColumn(e,t)}function layoutColumnsForward(e,t,i){let o=!1;for(const s of e)o=layoutColumn(s,t,i,1)||o;return o}function layoutColumnsBackwards(e,t,i){let o=!1;for(let s=e.length-1;s>=0;s-=1)o=layoutColumn(e[s],t,i,-1)||o;return o}function removeColumnsCrossovers(e){let t=!1;for(let i=e.length-1;i>=0;i-=1)t=removeColumnCrossovers(e[i])||t;return t}function layoutColumns(e,t){e.forEach(o=>{justifyNodesAcrossColumn(o,t)});let i=!1;for(let o=0;o<6;o+=1){const s=layoutColumnsForward(e,t,1);i=layoutColumnsBackwards(e,t,.5);const a=removeColumnsCrossovers(e);if(!s&&!i&&!a)break}i&&(layoutColumnsForward(e,t,1),removeColumnsCrossovers(e))}var import_ag_charts_community149=require("ag-charts-community"),{BBox:BBox15,Path:Path12,SceneChangeDetection:SceneChangeDetection7,splitBezier2D}=import_ag_charts_community149._ModuleSupport;function offsetTrivialCubicBezier(e,t,i,o,s,a,r,n,l,c){let h,p;if(s!==i&&l!==r){const _=-(o-t)/(s-i),k=-(n-a)/(l-r);h=(r-i+_*t-k*a)/(_-k),p=_*(h-t)+i}else if(s===i&&l!==r)h=t,p=-(n-a)/(l-r)*(h-n)+l;else if(s!==i&&l===r)h=n,p=-(o-t)/(s-i)*(h-t)+i;else throw new Error("Offsetting flat bezier curve");const u=Math.hypot(i-p,t-h),d=(u+c)/u,g=Math.hypot(l-p,n-h),y=(g+c)/g,m=h+(o-h)*d,f=p+(s-p)*d,b=h+(a-h)*y,v=p+(r-p)*y,S=h+(n-h)*y,D=p+(l-p)*y;e.cubicCurveTo(m,f,b,v,S,D)}var SankeyLink=class extends Path12{constructor(){super(...arguments),this.x1=0,this.x2=0,this.y1=0,this.y2=0,this.height=0,this.inset=0}computeBBox(){const e=Math.min(this.x1,this.x2),t=Math.max(this.x1,this.x2)-e,i=Math.min(this.y1,this.y2),o=Math.max(this.y1,this.y2)-i+this.height;return new BBox15(e,i,t,o)}updatePath(){const{path:e,inset:t}=this;e.clear();const i=this.x1+t,o=this.x2-t,s=this.y1+t,a=this.y2+t,r=this.height-2*t;if(r<0||i>o)return;const n=i,l=s+r/2,c=(i+o)/2,h=s+r/2,p=(i+o)/2,u=a+r/2,d=o,g=a+r/2;if(e.moveTo(n,l-r/2),Math.abs(this.y2-this.y1)<1||this.x2-this.x1<this.height*Math.SQRT2)e.cubicCurveTo(c,h-r/2,p,u-r/2,d,g-r/2),e.lineTo(d,g+r/2),e.cubicCurveTo(p,u+r/2,c,h+r/2,n,l+r/2);else{const[y,m]=splitBezier2D(n,l,c,h,p,u,d,g,.5),f=(a>s?1:-1)*r/2;offsetTrivialCubicBezier(e,y[0].x,y[0].y,y[1].x,y[1].y,y[2].x,y[2].y,y[3].x,y[3].y,f),offsetTrivialCubicBezier(e,m[0].x,m[0].y,m[1].x,m[1].y,m[2].x,m[2].y,m[3].x,m[3].y,-f),e.lineTo(d,g+r/2),offsetTrivialCubicBezier(e,m[3].x,m[3].y,m[2].x,m[2].y,m[1].x,m[1].y,m[0].x,m[0].y,f),offsetTrivialCubicBezier(e,y[3].x,y[3].y,y[2].x,y[2].y,y[1].x,y[1].y,y[0].x,y[0].y,-f)}e.closePath()}};__decorateClass([SceneChangeDetection7()],SankeyLink.prototype,"x1",2),__decorateClass([SceneChangeDetection7()],SankeyLink.prototype,"x2",2),__decorateClass([SceneChangeDetection7()],SankeyLink.prototype,"y1",2),__decorateClass([SceneChangeDetection7()],SankeyLink.prototype,"y2",2),__decorateClass([SceneChangeDetection7()],SankeyLink.prototype,"height",2),__decorateClass([SceneChangeDetection7()],SankeyLink.prototype,"inset",2);var import_ag_charts_community150=require("ag-charts-community"),{BaseProperties:BaseProperties11,FillGradientDefaults:FillGradientDefaults2,FillPatternDefaults:FillPatternDefaults2,FillImageDefaults:FillImageDefaults2,makeSeriesTooltip:makeSeriesTooltip22,SeriesProperties:SeriesProperties13,Property:Property37,Label:Label15}=import_ag_charts_community150._ModuleSupport,SankeySeriesLabelProperties=class extends Label15{constructor(){super(...arguments),this.spacing=1}};__decorateClass([Property37],SankeySeriesLabelProperties.prototype,"spacing",2);var SankeySeriesLinkProperties=class extends BaseProperties11{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"fill",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"fillOpacity",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"stroke",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"strokeOpacity",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"strokeWidth",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"lineDash",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"lineDashOffset",2),__decorateClass([Property37],SankeySeriesLinkProperties.prototype,"itemStyler",2);var SankeySeriesNodeProperties=class extends BaseProperties11{constructor(){super(...arguments),this.spacing=1,this.width=1,this.alignment="justify",this.fill=void 0,this.fillOpacity=1,this.stroke=void 0,this.strokeOpacity=1,this.strokeWidth=1,this.lineDash=[0],this.lineDashOffset=0}};__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"spacing",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"width",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"alignment",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"fill",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"fillOpacity",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"stroke",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"strokeOpacity",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"strokeWidth",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"lineDash",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"lineDashOffset",2),__decorateClass([Property37],SankeySeriesNodeProperties.prototype,"itemStyler",2);var SankeySeriesProperties=class extends SeriesProperties13{constructor(){super(),this.nodes=void 0,this.idKey="",this.idName=void 0,this.labelKey=void 0,this.labelName=void 0,this.sizeKey=void 0,this.sizeName=void 0,this.fillGradientDefaults=new FillGradientDefaults2,this.fillPatternDefaults=new FillPatternDefaults2,this.fillImageDefaults=new FillImageDefaults2,this.defaultColorRange=[],this.defaultPatternFills=[],this.fills=[],this.strokes=[],this.label=new SankeySeriesLabelProperties,this.link=new SankeySeriesLinkProperties,this.node=new SankeySeriesNodeProperties,this.tooltip=makeSeriesTooltip22(),this.highlightStyle.deprecated=!1}getStyle(e,t,i,o){const{fillOpacity:s,strokeWidth:a,strokeOpacity:r,lineDash:n,lineDashOffset:l,fill:c=t[o%t.length],stroke:h=i[o%t.length]}=e?this.link:this.node;return{fill:c,fillOpacity:s,stroke:h,strokeWidth:a,strokeOpacity:r,lineDash:n,lineDashOffset:l}}};__decorateClass([Property37],SankeySeriesProperties.prototype,"nodes",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fromKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"toKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"idKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"idName",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"labelKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"labelName",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"sizeKey",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"sizeName",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fillGradientDefaults",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fillPatternDefaults",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fillImageDefaults",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"defaultColorRange",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"defaultPatternFills",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"fills",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"strokes",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"label",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"link",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"node",2),__decorateClass([Property37],SankeySeriesProperties.prototype,"tooltip",2);var{Transformable:Transformable3,applyShapeStyle:applyShapeStyle18,SeriesNodePickMode:SeriesNodePickMode16,createDatumId:createDatumId19,getShapeStyle:getShapeStyle2,getLabelStyles:getLabelStyles6,Rect:Rect6,BBox:BBox16,mergeDefaults:mergeDefaults20}=import_ag_charts_community151._ModuleSupport,SankeySeries=class extends FlowProportionSeries{constructor(e){super({moduleCtx:e,pickModes:[SeriesNodePickMode16.NEAREST_NODE,SeriesNodePickMode16.EXACT_SHAPE_MATCH]}),this.properties=new SankeySeriesProperties}isLabelEnabled(){return(this.properties.labelKey!=null||this.nodes==null)&&this.properties.label.enabled}linkFactory(){return new SankeyLink}nodeFactory(){return new Rect6}createNodeData(){const{id:e,_nodeDataDependencies:{seriesRectWidth:t,seriesRectHeight:i}={seriesRectWidth:0,seriesRectHeight:0}}=this,{fromKey:o,toKey:s,sizeKey:a,labelKey:r,label:{spacing:n},node:{spacing:l,width:c,alignment:h}}=this.properties,{nodeGraph:p,links:u,maxPathLength:d}=this.getNodeGraph(x=>({...x,x:NaN,y:NaN,width:c,height:NaN}),x=>({...x,x1:NaN,x2:NaN,y1:NaN,y2:NaN,height:NaN}),{includeCircularReferences:!1}),g=p,y=this.isLabelEnabled()?(t-c)*(1-d/(d+1)):0,m=(t-c-2*y)/(d-1),f=[];for(let x=0;x<d;x+=1){const M=y+x*m;f.push({index:x,size:0,nodes:[],x:M})}g.forEach(x=>{const{datum:M,linksBefore:A,linksAfter:I,maxPathLengthBefore:L,maxPathLengthAfter:R}=x,C=Math.max(A.reduce((T,{link:E})=>T+E.size,0),I.reduce((T,{link:E})=>T+E.size,0));if(A.length===0&&I.length===0||C===0){x.columnIndex=-1;return}let N;switch(h){case"left":N=f[L];break;case"right":N=f[d-1-R];break;case"center":{if(A.length!==0)N=f[L];else if(I.length!==0){const T=I.reduce((E,O)=>Math.min(E,O.node.maxPathLengthBefore),d)-1;N=f[T]}else N=f[0];break}case"justify":{N=I.length===0?f[d-1]:f[L];break}}M.x=N.x,M.size=C;const{label:w}=this.properties,P=w.enabled?this.getLabelText(M.label,M.datum,r,"label",[],this.properties.label,{datum:M.datum,value:M.label,fromKey:o,toKey:s,sizeKey:a,size:C}):void 0;M.label=P,N.nodes.push(x),N.size+=C,x.columnIndex=N.index}),g.forEach(x=>{let M=1/0,A=0;x.linksAfter.forEach(I=>{const L=I.node,{columnIndex:R}=L;R<M?(M=R,A=L.datum.size):R===M&&(A=Math.max(A,L.datum.size))}),x.closestColumnIndex=M,x.maxSizeOfClosestNodesAfter=A});const b=f.reduce((x,{size:M,nodes:A})=>{const I=(1-(A.length-1)*(l/i))/M;return Math.min(x,I)},1/0);for(let x=f.length-1;x>=0;x-=1)f[x].nodes.sort((A,I)=>A.closestColumnIndex-I.closestColumnIndex||A.maxSizeOfClosestNodesAfter-I.maxSizeOfClosestNodesAfter||A.datum.size-I.datum.size);layoutColumns(f,{seriesRectHeight:i,nodeSpacing:l,sizeScale:b});let v=!1;if(g.forEach(({datum:x,linksBefore:M,linksAfter:A})=>{v||(v=x.height<0);const I=x.y+x.height,L=N=>N.sort((w,P)=>{const T=w.node.datum,E=P.node.datum,O=T.y+T.height,F=E.y+E.height,G=Math.atan2(T.y-x.y,Math.abs(T.x-x.x))-Math.atan2(E.y-x.y,Math.abs(E.x-x.x)),B=Math.atan2(O-I,Math.abs(T.x-x.x))-Math.atan2(F-I,Math.abs(E.x-x.x));return G+B});let R=x.y;L(M).forEach(({link:N})=>{N.y2=R,R+=N.size*i*b});let C=x.y;L(A).forEach(({link:N})=>{N.y1=C,C+=N.size*i*b})}),v){import_ag_charts_core53.Logger.warnOnce("There was insufficient space to display the Sankey Series. Reduce the node spacing, or provide a larger container.");return}const S=[],D=[],{fontSize:_}=this.properties.label,k=(0,import_ag_charts_core53.cachedTextMeasurer)(this.properties.label);return f.forEach((x,M)=>{const A=M===0,I=M===f.length-1;let L=-1/0;x.nodes.sort((R,C)=>R.datum.y-C.datum.y),x.nodes.forEach(({datum:R})=>{if(R.midPoint={x:R.x+R.width/2,y:R.y+R.height/2},S.push(R),R.label==null)return;const C=A?R.x-n:R.x+R.width+n,N=R.y+R.height/2;let w;if(!A&&!I){const O=(0,import_ag_charts_core53.calcLineHeight)(_),F=N-O,G=N+O;let B=t;g.forEach(({datum:z})=>{z.x>R.x&&Math.max(z.y,F)<=Math.min(z.y+z.height,G)&&(B=Math.min(B,z.x-n))});const V=B-R.x-2*n;w=(0,import_ag_charts_core53.wrapText)(R.label,{maxWidth:V,maxHeight:R.height,font:this.properties.label,textWrap:"never",overflow:"hide"})}if(w==null||w===""){const O=A||I?n:n*2;w=(0,import_ag_charts_core53.wrapText)(R.label,{maxWidth:m-O,maxHeight:R.height,font:this.properties.label,textWrap:"never"})}if(w==="")return;const{height:P}=k.measureText(w),T=N-P/2,E=N+P/2;T>=L&&(D.push({x:C,y:N,leading:A,text:w,size:R.size}),L=E)})}),u.forEach(x=>{const{fromNode:M,toNode:A,size:I}=x;x.height=i*I*b,x.x1=M.x+c,x.x2=A.x,x.midPoint={x:(x.x1+x.x2)/2,y:(x.y1+x.y2)/2+x.height/2},S.push(x)}),{itemId:e,nodeData:S,labelData:D}}updateLabelSelection(e){const t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t)}updateLabelNodes(e){const t=this.ctx.highlightManager?.getActiveHighlight();e.labelSelection.each((i,o)=>{const{x:s,y:a,leading:r,text:n}=o,c=getLabelStyles6(this,void 0,o,this.properties.label,!1,t),{color:h,fontStyle:p,fontWeight:u,fontSize:d,fontFamily:g}=c;i.visible=!0,i.x=s,i.y=a,i.text=n,i.fill=h,i.fontStyle=p,i.fontWeight=u,i.fontSize=d,i.fontFamily=g,i.textAlign=r?"right":"left",i.textBaseline="middle",i.setBoxing(c)})}updateNodeSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId19(t.type,t.id))}getNodeStyle({datumIndex:e,datum:t,size:i=0,label:o},s,a){const{id:r,properties:n}=this,{fills:l,strokes:c,defaultColorRange:h,defaultPatternFills:p,fillGradientDefaults:u,fillPatternDefaults:d,fillImageDefaults:g}=n,{itemStyler:y}=n.node,m=h[s%h.length].map(_=>({color:_})),f=p[s%p.length],b=this.getHighlightStyle(a,e),v=mergeDefaults20(b,n.getStyle(!1,l,c,s)),S=n.node.fill!=null;let D=getShapeStyle2(v,S?u:{...u.toJson(),colorStops:m},S?d:{...d.toJson(),fill:f,stroke:f},g);if(y!=null&&e!=null){const _=this.cachedDatumCallback(createDatumId19(e.index,"node",a?"highlight":"node"),()=>{const k=this.ctx.highlightManager?.getActiveHighlight(),x=this.getHighlightStateString(k,a,e);return this.callWithContext(y,{seriesId:r,datum:t,highlighted:a,highlightState:x,...D,size:i,label:o})});_&&(D=mergeDefaults20(_,D,{...u.toJson(),colorStops:m},{...d.toJson(),fill:f,stroke:f},g))}return D.opacity=1,D}updateNodeNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getShapeFillBBox();t.each((s,a)=>{const{datumIndex:r}=a,n=this.getNodeStyle(a,r.index,i);s.x=a.x,s.y=a.y,s.width=Math.max(a.width,0),s.height=Math.max(a.height,0),applyShapeStyle18(s,n,o)})}getShapeFillBBox(){const e=this._nodeDataDependencies?.seriesRectWidth??0,t=this._nodeDataDependencies?.seriesRectHeight??0,i=new BBox16(0,0,e,t);return{series:i,axis:i}}updateLinkSelection(e){return e.datumSelection.update(e.nodeData,void 0,t=>createDatumId19(t.type,t.index,t.fromNode.id,t.toNode.id))}getLinkStyle({datumIndex:e,datum:t},i,o){const{id:s,properties:a}=this,{fills:r,strokes:n,defaultColorRange:l,defaultPatternFills:c,fillGradientDefaults:h,fillPatternDefaults:p,fillImageDefaults:u}=a,{itemStyler:d}=a.link,g=l[i.index%l.length].map(S=>({color:S})),y=c[i.index%c.length],m=this.getHighlightStyle(o,e),f=mergeDefaults20(m,a.getStyle(!0,r,n,i.index)),b=a.link.fill!=null;let v=getShapeStyle2(f,b?h:{...h.toJson(),colorStops:g},b?p:{...p.toJson(),fill:y,stroke:y},u);if(d!=null&&e!=null){const S=this.cachedDatumCallback(createDatumId19(e.index,"link",o?"highlight":"node"),()=>{const D=this.ctx.highlightManager?.getActiveHighlight(),_=this.getHighlightStateString(D,o,e);return this.callWithContext(d,{seriesId:s,datum:t,highlighted:o,highlightState:_,...v})});S&&(v=mergeDefaults20(S,v,{...h.toJson(),colorStops:g},{...p.toJson(),fill:y,stroke:y},u))}return v.opacity=1,v}updateLinkNodes(e){const{datumSelection:t,isHighlight:i}=e,o=this.getShapeFillBBox();t.each((s,a)=>{const r=a.fromNode.datumIndex,n=this.getLinkStyle(a,r,i);s.x1=a.x1,s.y1=a.y1,s.x2=a.x2,s.y2=a.y2,s.height=a.height,applyShapeStyle18(s,n,o),s.inset=s.strokeWidth/2})}getTooltipContent(e){const{id:t,linksProcessedData:i,nodesProcessedData:o,properties:s,ctx:{formatManager:a}}=this,{fromKey:r,toKey:n,sizeKey:l,sizeName:c,tooltip:h}=s,p=this.contextNodeData?.nodeData.find(b=>b.datumIndex.type===e.type&&b.datumIndex.index===e.index);if(p==null)return;const u=p.type===0?p.fromNode.index:p.index,d=p.type===0?`${p.fromNode.label} - ${p.toNode.label}`:p.label,g=e.type===0?i?.dataSources.get(this.id)?.[e.index]:o?.dataSources.get(this.id)?.[e.index],y=p.size;let m;if(p.type===0){const b=p.fromNode.datumIndex;m=this.getLinkStyle({datumIndex:e,datum:g},b,!1)}else m=this.getNodeStyle({datumIndex:e,datum:g},e.index,!1);const f=[];if(l!=null){const b=a.format(this.callWithContext.bind(this),{type:"number",value:y,datum:g,seriesId:t,legendItemName:void 0,key:l,source:"tooltip",property:"size",domain:[],boundSeries:this.getFormatterContext("size"),fractionDigits:void 0});f.push({label:c,fallbackLabel:l,value:b??String(y)})}return this.formatTooltipWithContext(h,{title:d,symbol:this.legendItemSymbol(p.type,u,m),data:f},{seriesId:t,datum:g,title:d,fromKey:r,toKey:n,sizeKey:l,sizeName:c,size:y,...m})}computeFocusBounds(e){if(e instanceof Rect6){const{x:t,y:i,width:o,height:s}=e,a=new BBox16(t,i,o,s);return Transformable3.toCanvas(this.contentGroup,a)}return e}hasItemStylers(){return this.properties.node.itemStyler!=null||this.properties.link.itemStyler!=null}};SankeySeries.className="SankeySeries",SankeySeries.type="sankey";var import_ag_charts_community152=require("ag-charts-community"),import_ag_charts_core54=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs21,sankeySeriesThemeableOptionsDef}=import_ag_charts_community152._ModuleSupport,sankeySeriesOptionsDef={...sankeySeriesThemeableOptionsDef,...commonSeriesOptionsDefs21,type:(0,import_ag_charts_core54.required)((0,import_ag_charts_core54.constant)("sankey")),fromKey:(0,import_ag_charts_core54.required)(import_ag_charts_core54.string),toKey:(0,import_ag_charts_core54.required)(import_ag_charts_core54.string),sizeKey:import_ag_charts_core54.string,sizeName:import_ag_charts_core54.string};sankeySeriesOptionsDef.fillGradientDefaults=(0,import_ag_charts_core54.undocumented)(import_ag_charts_core54.fillGradientDefaults),sankeySeriesOptionsDef.fillPatternDefaults=(0,import_ag_charts_core54.undocumented)(import_ag_charts_core54.fillPatternDefaults),sankeySeriesOptionsDef.fillImageDefaults=(0,import_ag_charts_core54.undocumented)(import_ag_charts_core54.fillImageDefaults),sankeySeriesOptionsDef.defaultColorRange=(0,import_ag_charts_core54.undocumented)((0,import_ag_charts_core54.arrayOf)((0,import_ag_charts_core54.arrayOf)(import_ag_charts_core54.color))),sankeySeriesOptionsDef.defaultPatternFills=(0,import_ag_charts_core54.undocumented)((0,import_ag_charts_core54.arrayOf)(import_ag_charts_core54.color));var SankeyModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],solo:!0,identifier:"sankey",moduleFactory:e=>new SankeySeries(e),themeTemplate:{seriesArea:{padding:{top:10,bottom:10}},series:{fills:{$palette:"fills"},strokes:{$palette:"strokes"},fillGradientDefaults:import_ag_charts_community153._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS,fillPatternDefaults:import_ag_charts_community153._ModuleSupport.FILL_PATTERN_DEFAULTS,fillImageDefaults:import_ag_charts_community153._ModuleSupport.FILL_IMAGE_DEFAULTS,defaultColorRange:{$palette:"gradients"},defaultPatternFills:import_ag_charts_community153._ModuleSupport.SAFE_FILLS_OPERATION,highlightStyle:{series:{dimOpacity:.2}},highlight:{...import_ag_charts_community153._ModuleSupport.singleSeriesHighlightStyle()},label:{...import_ag_charts_community153._ModuleSupport.LABEL_BOXING_DEFAULTS,fontFamily:{$ref:"fontFamily"},fontSize:{$ref:"fontSize"},fontWeight:{$ref:"fontWeight"},color:{$ref:"textColor"},spacing:10},node:{spacing:20,width:10,strokeWidth:{$isUserOption:["./stroke",2,0]}},link:{fillOpacity:.5,strokeWidth:{$isUserOption:["./stroke",2,0]}}},legend:{enabled:!1,toggleSeries:!1}}},SankeySeriesModule={type:"series",name:"sankey",chartType:"standalone",enterprise:!0,options:sankeySeriesOptionsDef,create:e=>new SankeySeries(e)},import_ag_charts_community157=require("ag-charts-community"),import_ag_charts_community155=require("ag-charts-community"),import_ag_charts_community154=require("ag-charts-community"),{HierarchySeriesProperties,HighlightStyle,makeSeriesTooltip:makeSeriesTooltip23,Property:Property38}=import_ag_charts_community154._ModuleSupport,SunburstSeriesTileHighlightStyle=class extends HighlightStyle{constructor(){super(!1),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedLabel}};__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Property38],SunburstSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var SunburstSeriesProperties=class extends HierarchySeriesProperties{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=0,this.strokeOpacity=1,this.cornerRadius=0,this.highlightStyle=new SunburstSeriesTileHighlightStyle,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel,this.tooltip=makeSeriesTooltip23()}getStyle(e){const{fills:t,strokes:i,fillOpacity:o,strokeWidth:s,strokeOpacity:a}=this;return{fill:t[e%t.length],fillOpacity:o,stroke:i[e%i.length],strokeWidth:s,strokeOpacity:a,opacity:1}}};__decorateClass([Property38],SunburstSeriesProperties.prototype,"sizeName",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"labelKey",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"fillOpacity",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"strokeWidth",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"strokeOpacity",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"cornerRadius",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"sectorSpacing",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"padding",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"label",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"secondaryLabel",2),__decorateClass([Property38],SunburstSeriesProperties.prototype,"tooltip",2);var{fromToMotion:fromToMotion6,normalizeAngle360:normalizeAngle3608,createDatumId:createDatumId20,PointerEvents:PointerEvents13,Sector:Sector7,Group:Group16,ScalableGroup,Selection:Selection15,TransformableText:TransformableText3,BBox:BBox17,applyShapeStyle:applyShapeStyle19,mergeDefaults:mergeDefaults21,formatValue:formatValue2,getLabelStyles:getLabelStyles7}=import_ag_charts_community155._ModuleSupport,SunburstNode=class extends import_ag_charts_community155._ModuleSupport.HierarchyNode{constructor(){super(...arguments),this.label=void 0,this.secondaryLabel=void 0,this.contentHeight=0,this.bbox=void 0,this.startAngle=0,this.endAngle=0}};function setAngleData(e,t=0,i=2*Math.PI/e.sumSize){for(const o of e.children){const s=t+o.sumSize*i;o.startAngle=t,o.endAngle=s,setAngleData(o,t,i),t=s}}var SunburstSeries=class extends import_ag_charts_community155._ModuleSupport.HierarchySeries{constructor(e){super(e),this.NodeClass=SunburstNode,this.properties=new SunburstSeriesProperties,this.scalingGroup=this.contentGroup.appendChild(new ScalableGroup),this.sectorGroup=this.scalingGroup.appendChild(new Group16),this.sectorLabelGroup=this.scalingGroup.appendChild(new Group16),this.highlightSectorGroup=this.scalingGroup.appendChild(new Group16),this.datumSelection=Selection15.select(this.sectorGroup,Sector7),this.labelSelection=Selection15.select(this.sectorLabelGroup,Group16),this.highlightSelection=Selection15.select(this.highlightSectorGroup,Sector7),this.sectorLabelGroup.pointerEvents=PointerEvents13.None}processData(){super.processData(),setAngleData(this.rootNode)}updateSelections(){const e=this.ctx.highlightManager?.getActiveHighlight();if(this.highlightSelection.update(e!=null?[e]:[],void 0,a=>this.getDatumId(a)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{chart:t}=this;if(t==null||t.seriesRect==null)return;const o=Array.from(this.rootNode),s=a=>{a.append([new TransformableText3({tag:0}),new TransformableText3({tag:1})])};this.datumSelection.update(o,void 0,a=>this.getDatumId(a)),this.labelSelection.update(o,s,a=>this.getDatumId(a))}getItemStyle(e,t){const{id:i,properties:o,colorScale:s}=this,{itemStyler:a}=o,r=e.datumIndex?.[0]??0,n=t?o.highlightStyle:void 0,l=mergeDefaults21(n,o.getStyle(r));!t&&e.colorValue!=null&&(l.fill=s.convert(e.colorValue));let c=l;if(a!=null&&e!=null){const h=this.ctx.highlightManager?.getActiveHighlight(),p=this.cachedDatumCallback(createDatumId20(this.getDatumId(e),t?"highlight":"node"),()=>{const u=this.getHighlightStateString(h,t,e.datumIndex);return this.callWithContext(a,{seriesId:i,datum:e.datum,depth:e.depth??0,highlighted:t,highlightState:u,...c})});p&&(c=mergeDefaults21(p,c))}return c}updateNodes(){const{chart:e,data:t,maxDepth:i}=this;if(e==null||t==null)return;const{width:o,height:s}=e.seriesRect,{sectorSpacing:a=0,padding:r=0,cornerRadius:n,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:u,sizeKey:d,sizeName:g}=this.properties;this.contentGroup.translationX=o/2,this.contentGroup.translationY=s/2;const y=a*.5,m=Math.min(o,s)/2,f=m/(i+1),b=-Math.PI/2,v={series:new BBox17(-m,-m,2*m,2*m),axis:new BBox17(-m,-m,2*m,2*m)};this.rootNode?.walk(k=>{const{startAngle:x,endAngle:M}=k;if(k.depth!=null){const A=(x+M)/2+b,I=(k.depth+.5)*f;k.midPoint.x=Math.cos(A)*I,k.midPoint.y=Math.sin(A)*I}}),this.rootNode?.walk(k=>{const{datum:x,depth:M,startAngle:A,endAngle:I,parent:L,sumSize:R}=k;k.label=void 0,k.secondaryLabel=void 0,k.contentHeight=0;let C;if(x!=null&&M!=null&&p!=null){const U=x[p];C=this.getLabelText(U,x,p,"label",[],this.properties.label,{depth:M,datum:x,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:u,sizeKey:d,sizeName:g,value:U})}C===""&&(C=void 0);let N;if(x!=null&&M!=null&&u!=null){const U=x[u];N=this.getLabelText(U,x,u,"secondaryLabel",[],this.properties.secondaryLabel,{depth:M,datum:x,childrenKey:l,colorKey:c,colorName:h,labelKey:p,secondaryLabelKey:u,sizeKey:d,sizeName:g,value:U})}if(N===""&&(N=void 0),M==null)return;const w=M*f+y,P=(M+1)*f-y,T=w>y?y/w:y,E=P>y?y/P:y,O=A+T,G=I+T-O,B=A+E,z=I+E-B,K=U=>{if(M===0&&L?.sumSize===R)return{width:2*Math.sqrt(P**2-(U*.5)**2),height:U,meta:0};const Q=U,oe=2*Math.sqrt(P**2-(w+Q)**2),se=G<Math.PI?2*w*Math.tan(G*.5):1/0,ae=Math.min(oe,se),le=Math.PI/4;let re,ne;return M===0?(re=U,ne=Math.sqrt(P**2-(re/2)**2)-U/(2*Math.tan(z*.5))):normalizeAngle3608(G)<le?(re=2*w*Math.tan(G*.5),ne=Math.sqrt(P**2-(re/2)**2)-w):(ne=0,re=0),ae>=ne?{width:ae,height:Q,meta:1}:{width:ne,height:re,meta:2}},W=formatLabels(C,this.properties.label,N,this.properties.secondaryLabel,{padding:r},K);if(W==null)return;const{width:$,height:J,meta:Z,label:q,secondaryLabel:H}=W,Y=b+(A+I)/2,ee=Math.sin(Y)>=0,j=Math.cos(Y)>=0,X=(ee?3:12)&(j?6:9);let te;switch(Z){case 0:te=0;break;case 1:{const ie=P-(f-J)*.58,Q=Math.sqrt((P-r)**2-($/2)**2);te=Math.min(ie,Q);break}case 2:if(M===0){const U=J/(2*Math.tan(G*.5))+$*.5,ie=Math.sqrt(P**2-(J*.5)**2)-$*.5;te=(U+ie)*.5}else te=(w+P)*.5;break}if(q!=null){const{fontStyle:U="normal",fontFamily:ie,fontWeight:Q="normal",color:oe="black"}=this.properties.label;k.label={...q,fontStyle:U,fontFamily:ie,fontWeight:Q,color:oe,labelPlacement:Z,circleQuarter:X,radius:te,theta:Y}}if(H!=null){const{fontStyle:U="normal",fontFamily:ie,fontWeight:Q="normal",color:oe="black"}=this.properties.secondaryLabel;k.secondaryLabel={...H,fontStyle:U,fontFamily:ie,fontWeight:Q,color:oe,labelPlacement:Z,circleQuarter:X,radius:te,theta:Y}}k.contentHeight=W.height});const S=(k,x,M)=>{const{depth:A,startAngle:I,endAngle:L}=k;if(A==null){x.visible=!1;return}x.visible=!0;const R=this.getItemStyle(k,M),C=R.fill,N=R.strokeWidth,w=import_ag_charts_community155._ModuleSupport.isGradientFill(C)&&C.bounds!=="item"?v:void 0;applyShapeStyle19(x,R,w),x.centerX=0,x.centerY=0,x.innerRadius=A*f,x.outerRadius=(A+1)*f,x.startAngle=I+b,x.endAngle=L+b,x.inset=y+N*.5,x.cornerRadius=n};this.datumSelection.each((k,x)=>{S(x,k,!1)}),this.highlightSelection.each((k,x)=>{S(x,k,!0)});const D=(k,x,M,A)=>{const{depth:I,contentHeight:L}=k,R=M===0,C=R?k.label:k.secondaryLabel;if(I==null||C==null){x.visible=!1;return}const{labelPlacement:N,circleQuarter:w,radius:P,theta:T}=C;let E;A&&(E=(R?this.properties.highlightStyle.label:this.properties.highlightStyle.secondaryLabel).color);const O={childrenKey:this.properties.childrenKey,colorKey:this.properties.colorKey,colorName:this.properties.colorName??this.properties.colorKey,depth:k.depth??NaN,labelKey:this.properties.labelKey,secondaryLabelKey:this.properties.secondaryLabelKey,sizeKey:this.properties.sizeKey,sizeName:this.properties.sizeName??this.properties.sizeKey},F=R?this.properties.label:this.properties.secondaryLabel,G=this.ctx.highlightManager?.getActiveHighlight(),B=getLabelStyles7(this,k,O,F,A,G);switch(x.text=C.text,x.fontSize=C.fontSize,x.lineHeight=C.lineHeight,x.fontStyle=C.fontStyle,x.fontFamily=C.fontFamily,x.fontWeight=C.fontWeight,x.fill=E??C.color,x.fillOpacity=this.getHighlightStyle(A,k.datumIndex)?.opacity??1,x.setBoxing(B),N){case 0:x.textAlign="center",x.textBaseline="top",x.translationX=0,x.translationY=(R?0:L-C.height)-L*.5,x.rotation=0;break;case 1:{const V=(w&3)!==0,z=R===!V?P:P-(L-C.height);x.textAlign="center",x.textBaseline=V?"bottom":"top",x.translationX=Math.cos(T)*z,x.translationY=Math.sin(T)*z,x.rotation=V?T-Math.PI*.5:T+Math.PI*.5;break}case 2:{const V=(w&6)!==0,z=R===!V?(L-C.height)*.5:(C.height-L)*.5;x.textAlign="center",x.textBaseline="middle",x.translationX=Math.cos(T)*P+Math.cos(T+Math.PI/2)*z,x.translationY=Math.sin(T)*P+Math.sin(T+Math.PI/2)*z,x.rotation=V?T:T+Math.PI;break}}x.visible=!0},_=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.selectByClass(TransformableText3).forEach(k=>{const x=k.closestDatum();D(x,k,k.tag,x===_)})}getTooltipContent(e){const{id:t,properties:i,ctx:o}=this,{labelKey:s,secondaryLabelKey:a,childrenKey:r,sizeKey:n,sizeName:l,colorKey:c,colorName:h,tooltip:p}=i,{formatManager:u}=o,d=e.reduce((_,k)=>_?.children[k],this.rootNode);if(d==null)return;const{datum:g,depth:y}=d;if(g==null||y==null)return;const m=[],f=n!=null?g[n]:void 0;if(f!=null){const _=[0,this.rootNode?.sumSize??0],k=u.format(this.callWithContext.bind(this),{type:"number",value:f,datum:g,seriesId:t,legendItemName:void 0,key:n,source:"tooltip",property:"size",boundSeries:this.getFormatterContext("size"),domain:_,fractionDigits:void 0});m.push({label:l,fallbackLabel:n,value:k??formatValue2(f)})}const b=c!=null?g[c]:void 0;if(b!=null){const{colorDomain:_}=this,k=u.format(this.callWithContext.bind(this),{type:"number",value:b,datum:g,seriesId:t,legendItemName:void 0,key:c,source:"tooltip",property:"color",boundSeries:this.getFormatterContext("color"),domain:_,fractionDigits:void 0});m.push({label:h,fallbackLabel:c,value:k??formatValue2(b)})}const v=this.getItemStyle({...d,colorValue:b??d.colorValue},!1),D={shape:"square",fill:v.fill,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0};return import_ag_charts_community155._ModuleSupport.isGradientFill(D.fill)&&(D.fill={...D.fill,gradient:"linear",rotation:0,reverse:!1}),this.formatTooltipWithContext(p,{title:s!=null?g[s]:void 0,symbol:{marker:D},data:m},{seriesId:t,datum:g,title:void 0,depth:y,labelKey:s,secondaryLabelKey:a,childrenKey:r,sizeKey:n,sizeName:l,colorKey:c,colorName:h,...v})}createNodeData(){}pickNodeClosestDatum(e){return this.pickNodeNearestDistantObject(e,this.datumSelection.nodes())}animateEmptyUpdateReady(){fromToMotion6(this.id,"nodes",this.ctx.animationManager,[this.scalingGroup],{toFn(){return{scalingX:1,scalingY:1}},fromFn(){return{scalingX:0,scalingY:0}}})}computeFocusBounds(e){return e}hasItemStylers(){return this.properties.itemStyler!=null}};SunburstSeries.className="SunburstSeries",SunburstSeries.type="sunburst";var import_ag_charts_community156=require("ag-charts-community"),import_ag_charts_core55=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs22,sunburstSeriesThemeableOptionsDef,without:without8}=import_ag_charts_community156._ModuleSupport,sunburstSeriesOptionsDef={...sunburstSeriesThemeableOptionsDef,...without8(commonSeriesOptionsDefs22,["highlightStyle","highlight","showInLegend"]),type:(0,import_ag_charts_core55.required)((0,import_ag_charts_core55.constant)("sunburst")),labelKey:import_ag_charts_core55.string,secondaryLabelKey:import_ag_charts_core55.string,childrenKey:import_ag_charts_core55.string,sizeKey:import_ag_charts_core55.string,colorKey:import_ag_charts_core55.string,sizeName:import_ag_charts_core55.string,colorName:import_ag_charts_core55.string},{BASE_FONT_SIZE,FONT_SIZE_RATIO:FONT_SIZE_RATIO2}=import_ag_charts_community157._ModuleSupport,SunburstModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"sunburst",moduleFactory:e=>new SunburstSeries(e),solo:!0,themeTemplate:{series:{fills:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},{$palette:"fills"},{$applySwitch:[{$path:["/type",void 0,{$value:"$1"}]},{$value:"$1"},["gradient",import_ag_charts_community157._ModuleSupport.FILL_GRADIENT_RADIAL_REVERSED_SERIES_DEFAULTS],["pattern",import_ag_charts_community157._ModuleSupport.FILL_PATTERN_DEFAULTS],["image",import_ag_charts_community157._ModuleSupport.FILL_IMAGE_DEFAULTS]]}]},strokes:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},{$palette:"strokes"}]},colorRange:{$palette:"divergingColors"},strokeWidth:{$isUserOption:["./strokes/0",2,0]},label:{...import_ag_charts_community157._ModuleSupport.LABEL_BOXING_DEFAULTS,fontFamily:{$ref:"fontFamily"},fontSize:{$rem:FONT_SIZE_RATIO2.LARGE},minimumFontSize:{$rem:9/BASE_FONT_SIZE},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"},overflowStrategy:"ellipsis",wrapping:"never",spacing:2},secondaryLabel:{...import_ag_charts_community157._ModuleSupport.LABEL_BOXING_DEFAULTS,fontFamily:{$ref:"fontFamily"},fontSize:{$rem:FONT_SIZE_RATIO2.SMALLEST},minimumFontSize:{$rem:7/BASE_FONT_SIZE},fontWeight:{$ref:"fontWeight"},color:{$ref:"chartBackgroundColor"},overflowStrategy:"ellipsis",wrapping:"never"},sectorSpacing:2,padding:3,highlightStyle:{label:{color:{$ref:"chartBackgroundColor"}},secondaryLabel:{color:{$ref:"chartBackgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}},gradientLegend:{enabled:!0,...import_ag_charts_community157._ModuleSupport.LEGEND_CONTAINER_THEME}}},SunburstSeriesModule={type:"series",name:"sunburst",chartType:"standalone",enterprise:!0,options:sunburstSeriesOptionsDef,create:e=>new SunburstSeries(e)},import_ag_charts_community161=require("ag-charts-community"),import_ag_charts_community159=require("ag-charts-community"),import_ag_charts_core56=require("ag-charts-core"),import_ag_charts_community158=require("ag-charts-community"),{BaseProperties:BaseProperties12,HierarchySeriesProperties:HierarchySeriesProperties2,HighlightStyle:HighlightStyle2,makeSeriesTooltip:makeSeriesTooltip24,Property:Property39,Label:Label16}=import_ag_charts_community158._ModuleSupport,TreemapGroupLabel=class extends Label16{constructor(){super(...arguments),this.spacing=0}};__decorateClass([Property39],TreemapGroupLabel.prototype,"spacing",2);var TreemapSeriesGroup=class extends BaseProperties12{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.gap=0,this.padding=0,this.interactive=!0,this.label=new TreemapGroupLabel}};__decorateClass([Property39],TreemapSeriesGroup.prototype,"fill",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"fillOpacity",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"stroke",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"strokeWidth",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"strokeOpacity",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"cornerRadius",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"textAlign",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"gap",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"padding",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"interactive",2),__decorateClass([Property39],TreemapSeriesGroup.prototype,"label",2);var TreemapSeriesTile=class extends BaseProperties12{constructor(){super(...arguments),this.fill=void 0,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.cornerRadius=0,this.textAlign="center",this.verticalAlign="middle",this.gap=0,this.padding=0,this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel}};__decorateClass([Property39],TreemapSeriesTile.prototype,"fill",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"fillOpacity",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"stroke",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"strokeWidth",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"strokeOpacity",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"cornerRadius",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"textAlign",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"verticalAlign",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"gap",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"padding",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"label",2),__decorateClass([Property39],TreemapSeriesTile.prototype,"secondaryLabel",2);var TreemapSeriesGroupHighlightStyle=class extends BaseProperties12{constructor(){super(...arguments),this.label=new AutoSizedLabel}};__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"fill",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"stroke",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Property39],TreemapSeriesGroupHighlightStyle.prototype,"label",2);var TreemapSeriesTileHighlightStyle=class extends BaseProperties12{constructor(){super(...arguments),this.label=new AutoSizedLabel,this.secondaryLabel=new AutoSizedSecondaryLabel}};__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"fill",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"fillOpacity",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"stroke",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"strokeWidth",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"strokeOpacity",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"label",2),__decorateClass([Property39],TreemapSeriesTileHighlightStyle.prototype,"secondaryLabel",2);var TreemapSeriesHighlightStyle=class extends HighlightStyle2{constructor(){super(!1),this.group=new TreemapSeriesGroupHighlightStyle,this.tile=new TreemapSeriesTileHighlightStyle}getStyle(e){return e?this.tile:this.group}};__decorateClass([Property39],TreemapSeriesHighlightStyle.prototype,"group",2),__decorateClass([Property39],TreemapSeriesHighlightStyle.prototype,"tile",2);var TreemapSeriesProperties=class extends HierarchySeriesProperties2{constructor(){super(...arguments),this.highlightStyle=new TreemapSeriesHighlightStyle,this.tooltip=makeSeriesTooltip24(),this.group=new TreemapSeriesGroup,this.tile=new TreemapSeriesTile,this.undocumentedGroupFills=[],this.undocumentedGroupStrokes=[]}getStyle(e,t,i,o){const{fillOpacity:s,strokeWidth:a,strokeOpacity:r,fill:n=e?t[o%t.length]:t[Math.min(o,t.length)],stroke:l=e?i[o%t.length]:i[Math.min(o,i.length)]}=e?this.tile:this.group;return{fill:n,fillOpacity:s,stroke:l,strokeWidth:a,strokeOpacity:r,opacity:1}}};__decorateClass([Property39],TreemapSeriesProperties.prototype,"sizeName",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"labelKey",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"secondaryLabelKey",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"itemStyler",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"highlightStyle",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"tooltip",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"group",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"tile",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"undocumentedGroupFills",2),__decorateClass([Property39],TreemapSeriesProperties.prototype,"undocumentedGroupStrokes",2);var{createDatumId:createDatumId21,Rect:Rect7,Group:Group17,BBox:BBox18,Selection:Selection16,Text:Text8,Transformable:Transformable4,applyShapeStyle:applyShapeStyle20,getLabelStyles:getLabelStyles8,mergeDefaults:mergeDefaults22,formatValue:formatValue3}=import_ag_charts_community159._ModuleSupport,TreemapNode=class extends import_ag_charts_community159._ModuleSupport.HierarchyNode{constructor(){super(...arguments),this.labelValue=void 0,this.secondaryLabelValue=void 0,this.label=void 0,this.secondaryLabel=void 0,this.bbox=void 0,this.padding=void 0}};function nodeSize(e){return e.children.length>0?e.sumSize-e.sizeValue:e.sizeValue}var textAlignFactors2={left:0,center:.5,right:1},verticalAlignFactors4={top:0,middle:.5,bottom:1},DistantGroup=class extends import_ag_charts_community159._ModuleSupport.Group{distanceSquared(e,t){return this.getBBox().distanceSquared(e,t)}},TreemapSeries=class extends import_ag_charts_community159._ModuleSupport.HierarchySeries{constructor(){super(...arguments),this.NodeClass=TreemapNode,this.properties=new TreemapSeriesProperties,this.rectGroup=this.contentGroup.appendChild(new Group17),this.datumSelection=Selection16.select(this.rectGroup,Rect7),this.labelSelection=Selection16.select(this.labelGroup,Group17),this.highlightSelection=Selection16.select(this.rectGroup,Rect7)}groupTitleHeight(e,t){const{labelValue:i}=e,{label:o}=this.properties.group,s=3;if(i!=null){if(o.fontSize>t.width/s||o.fontSize>t.height/s)return;{const{height:a}=(0,import_ag_charts_core56.cachedTextMeasurer)(o).measureLines(i);return Math.max(a,o.fontSize)}}}getNodePadding(e,t){if(e.parent==null)return{top:0,right:0,bottom:0,left:0};if(e.children.length===0){const{padding:r}=this.properties.tile;return{top:r,right:r,bottom:r,left:r}}const{label:{spacing:i},padding:o}=this.properties.group,s=this.groupTitleHeight(e,t),a=s!=null?s+i:0;return{top:o+a,right:o,bottom:o,left:o}}sortChildren({children:e}){const t=Array.from(e,(o,s)=>s).filter(o=>nodeSize(e[o])>0).sort((o,s)=>nodeSize(e[s])-nodeSize(e[o]));return{sortedChildrenIndices:t,childAt:o=>{const s=t[o];return e[s]}}}squarify(e,t){const{datum:i,children:o}=e;if(t.width<=0||t.height<=0){e.bbox=void 0,e.padding=void 0,e.midPoint.x=NaN,e.midPoint.y=NaN;return}const s=i!=null?this.getNodePadding(e,t):{top:0,right:0,bottom:0,left:0};e.parent==null?(e.bbox=void 0,e.padding=void 0,e.midPoint.x=NaN,e.midPoint.y=NaN):(e.bbox=t,e.padding=s,e.midPoint.x=t.x+t.width/2,e.midPoint.y=t.y);const{sortedChildrenIndices:a,childAt:r}=this.sortChildren(e),n=a.every(D=>o[D].children.length===0),l=1,c=t.width-s.left-s.right,h=t.height-s.top-s.bottom;if(c<=0||h<=0)return;const p=a.length;let u=0,d=0,g=1/0,y=a.reduce((D,_)=>D+nodeSize(o[_]),0);const m=new BBox18(t.x+s.left,t.y+s.top,c,h),f=m.clone();let b=0;for(;b<p;){const D=nodeSize(r(b)),_=nodeSize(r(d)),k=f.width<f.height;u+=D;const x=k?f.height:f.width,M=k?f.width:f.height,A=M*_/u;let I=x*u/y;const L=Math.max(A,I)/Math.min(A,I),R=Math.abs(l-L);if(R<g){g=R,b++;continue}u-=D,I=x*u/y;let C=k?f.x:f.y;for(let N=d;N<b;N++){const w=r(N),P=nodeSize(w),T=k?C:f.x,E=k?f.y:C,O=M*P/u,F=k?O:I,G=k?I:O,B=new BBox18(T,E,F,G);this.applyGap(m,B,n),this.squarify(w,B),y-=P,C+=O}k?(f.y+=I,f.height-=I):(f.x+=I,f.width-=I),d=b,u=0,g=1/0}const v=f.width<f.height;let S=v?f.x:f.y;for(let D=d;D<p;D++){const _=r(D),k=v?S:f.x,x=v?f.y:S,M=nodeSize(_)/y,A=f.width*(v?M:1),I=f.height*(v?1:M),L=new BBox18(k,x,A,I);this.applyGap(m,L,n),this.squarify(_,L),S+=v?A:I}}applyGap(e,t,i){const o=i?this.properties.tile.gap*.5:this.properties.group.gap*.5,s=l=>({left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height}),a=s(e),r=s(t);["top","right","bottom","left"].forEach(l=>{(0,import_ag_charts_core56.isNumberEqual)(a[l],r[l])||t.shrink(o,l)})}createNodeData(){}getItemStyle(e,t,i){const{id:o,properties:s,colorScale:a,ctx:r}=this,{itemStyler:n}=s,l=e.datumIndex?.[0]??0,c=t?s.fills:s.undocumentedGroupFills,h=t?s.strokes:s.undocumentedGroupStrokes,p=t?l:e.depth??-1,u=i?s.highlightStyle.getStyle(t):void 0,d=mergeDefaults22(u,s.getStyle(t,c,h,p));!i&&t&&e.colorValue!=null&&(d.fill=a.convert(e.colorValue));let g=d;if(n!=null&&e!=null){const y=this.cachedDatumCallback(createDatumId21(this.getDatumId(e),i?"highlight":"node"),()=>{const m=r.highlightManager?.getActiveHighlight(),f=this.getHighlightStateString(m,i,e.datumIndex);return this.callWithContext(n,{seriesId:o,datum:e.datum,depth:e.depth??-1,highlighted:i,highlightState:f,...g})});y&&(g=mergeDefaults22(y,g))}return g}updateSelections(){let e=this.ctx.highlightManager?.getActiveHighlight();if(e!=null&&!this.properties.group.interactive&&e.children.length!==0&&(e=void 0),this.highlightSelection.update(e!=null?[e]:[],void 0,s=>this.getDatumId(s)),!this.nodeDataRefresh)return;this.nodeDataRefresh=!1;const{seriesRect:t}=this.chart??{};if(!t)return;const i=Array.from(this.rootNode),o=s=>{s.append([new Text8({tag:0}),new Text8({tag:1})])};this.datumSelection.update(i,void 0,s=>this.getDatumId(s)),this.labelSelection.update(i,o,s=>this.getDatumId(s))}updateNodes(){const{rootNode:e,data:t}=this,{childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:r,sizeKey:n,sizeName:l,highlightStyle:c,tile:h,group:p}=this.properties,{seriesRect:u}=this.chart??{};if(!u||!t)return;this.rootNode?.walk(v=>{const{datum:S,depth:D,children:_}=v,k=_.length===0,x=k?h.label:p.label;let M;if(x.enabled&&S!=null&&D!=null&&a!=null){const I=S[a];M=this.getLabelText(I,S,a,"label",[],x,{depth:D,datum:S,childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:r,sizeKey:n,sizeName:l,value:I})}M===""&&(M=void 0);let A;if(h.secondaryLabel.enabled&&k&&S!=null&&D!=null&&r!=null){const I=S[r];A=this.getLabelText(I,S,r,"secondaryLabel",[],h.secondaryLabel,{depth:D,datum:S,childrenKey:i,colorKey:o,colorName:s,labelKey:a,secondaryLabelKey:r,sizeKey:n,sizeName:l,value:I})}A===""&&(A=void 0),v.labelValue=M,v.secondaryLabelValue=A});const{width:d,height:g}=u;this.squarify(e,new BBox18(0,0,d,g)),this.rootNode?.walk(v=>{const{bbox:S,children:D,labelValue:_,secondaryLabelValue:k}=v;if(v.label=void 0,v.secondaryLabel=void 0,S!=null)if(D.length===0){const x={width:S.width,height:S.height,meta:null},M=formatLabels(_,this.properties.tile.label,k,this.properties.tile.secondaryLabel,{padding:h.padding},()=>x);if(M==null)return;const{height:A,label:I,secondaryLabel:L}=M,{textAlign:R,verticalAlign:C,padding:N}=h,w=textAlignFactors2[R]??.5,P=S.x+N+(S.width-2*N)*w,T=verticalAlignFactors4[C]??.5,E=S.y+N+A*.5+(S.height-2*N-A)*T;if(I!=null){const{fontStyle:O="normal",fontFamily:F,fontWeight:G="normal",color:B="black"}=this.properties.tile.label;v.label={text:I.text,fontSize:I.fontSize,lineHeight:I.lineHeight,fontStyle:O,fontFamily:F,fontWeight:G,color:B,textAlign:R,verticalAlign:"middle",x:P,y:E-(A-I.height)*.5}}if(L!=null){const{fontStyle:O="normal",fontFamily:F,fontWeight:G="normal",color:B="black"}=this.properties.tile.secondaryLabel;v.secondaryLabel={text:L.text,fontSize:L.fontSize,lineHeight:L.fontSize,fontStyle:O,fontFamily:F,fontWeight:G,color:B,textAlign:R,verticalAlign:"middle",x:P,y:E+(A-L.height)*.5}}}else{if(_==null)return;{const{padding:x,textAlign:M}=p,A=this.groupTitleHeight(v,S);if(A==null)return;const I=S.width-2*x,L=(0,import_ag_charts_core56.wrapText)(_,{maxWidth:S.width-2*x,font:p.label,textWrap:"never"}),R=textAlignFactors2[M]??.5,{fontStyle:C="normal",fontFamily:N,fontWeight:w="normal",color:P="black"}=this.properties.group.label;v.label={text:L,fontSize:p.label.fontSize,lineHeight:(0,import_ag_charts_core56.calcLineHeight)(p.label.fontSize),fontStyle:C,fontFamily:N,fontWeight:w,color:P,textAlign:M,verticalAlign:"middle",x:S.x+x+I*R,y:S.y+x+A*.5}}}});const y={series:new BBox18(0,0,d,g),axis:new BBox18(0,0,d,g)},m=(v,S,D)=>{const{bbox:_}=v;if(_==null){S.visible=!1;return}const{depth:k=-1}=v,x=v.children.length===0,M=this.getItemStyle(v,x,D);S.crisp=!0,applyShapeStyle20(S,M,y),S.cornerRadius=x?h.cornerRadius:p.cornerRadius,S.zIndex=[0,k,D?1:0];const A=v.parent?.children.every(R=>R.children.length===0),I=v.parent!=null?v.parent.bbox:void 0,L=v.parent!=null?v.parent.padding:void 0;A===!0&&I!=null&&L!=null?(S.clipBBox=_,S.x=I.x+L.left,S.y=I.y+L.top,S.width=I.width-(L.left+L.right),S.height=I.height-(L.top+L.bottom)):(S.clipBBox=void 0,S.x=_.x,S.y=_.y,S.width=_.width,S.height=_.height),S.visible=!0};this.datumSelection.each((v,S)=>m(S,v,!1)),this.highlightSelection.each((v,S)=>{m(S,v,!0)});const f=(v,S,D,_)=>{const k=v.children.length===0,x=D===0?v.label:v.secondaryLabel;if(x==null){S.visible=!1;return}const M=D===0?h.label:h.secondaryLabel;let A;if(_){const{tile:C,group:N}=c;A=C.secondaryLabel.color,k?D===0&&(A=C.label.color):A=N.label.color}const I={childrenKey:this.properties.childrenKey,colorKey:this.properties.colorKey,colorName:this.properties.colorName??this.properties.colorKey,depth:v.depth??NaN,labelKey:this.properties.labelKey,secondaryLabelKey:this.properties.secondaryLabelKey,sizeKey:this.properties.sizeKey,sizeName:this.properties.sizeName??this.properties.sizeKey},L=this.ctx.highlightManager?.getActiveHighlight(),R=getLabelStyles8(this,v,I,M,_,L);S.text=x.text,S.fontSize=x.fontSize,S.lineHeight=x.lineHeight,S.fontStyle=x.fontStyle,S.fontFamily=x.fontFamily,S.fontWeight=x.fontWeight,S.fill=A??x.color,S.fillOpacity=this.getHighlightStyle(_,v.datumIndex)?.opacity??1,S.textAlign=x.textAlign,S.textBaseline=x.verticalAlign,S.x=x.x,S.y=x.y,S.setBoxing(R),S.visible=!0,S.zIndex=1},b=this.ctx.highlightManager?.getActiveHighlight();this.labelSelection.selectByClass(Text8).forEach(v=>{const S=v.closestDatum();f(S,v,v.tag,S===b)})}pickNodesExactShape(e){const t=super.pickNodesExactShape(e);return t.sort((i,o)=>o.datumIndex.length-i.datumIndex.length),t}pickNodeClosestDatum(e){const t=this.pickNodesExactShape(e);return t.length!==0?{datum:t[0],distance:0}:this.pickNodeNearestDistantObject(e,this.datumSelection.nodes())}getTooltipContent(e){const{id:t,properties:i,ctx:o}=this,{formatManager:s}=o,{labelKey:a,secondaryLabelKey:r,childrenKey:n,sizeKey:l,sizeName:c,colorKey:h,colorName:p,tooltip:u}=i,d=e.reduce((M,A)=>M?.children[A],this.rootNode);if(d==null)return;const{datum:g,depth:y,children:m}=d;if(g==null||y==null)return;const f=m.length===0,b=[],v=l!=null?g[l]:void 0;if(v!=null){const M=[0,this.rootNode?.sumSize??0],A=s.format(this.callWithContext.bind(this),{type:"number",value:v,datum:g,seriesId:t,legendItemName:void 0,key:l,source:"tooltip",property:"size",boundSeries:this.getFormatterContext("size"),domain:M,fractionDigits:void 0});b.push({label:c,fallbackLabel:l,value:A??formatValue3(v)})}const S=h!=null?g[h]:void 0;if(S!=null){const{colorDomain:M}=this,A=s.format(this.callWithContext.bind(this),{type:"number",value:S,datum:g,seriesId:t,legendItemName:void 0,key:h,source:"tooltip",property:"color",boundSeries:this.getFormatterContext("color"),domain:M,fractionDigits:void 0});b.push({label:p,fallbackLabel:h,value:A??formatValue3(S)})}const D=this.getItemStyle({...d,colorValue:S??d.colorValue},f,!1),k={shape:"square",fill:D.fill,fillOpacity:1,stroke:void 0,strokeWidth:0,strokeOpacity:1,lineDash:[0],lineDashOffset:0};import_ag_charts_community159._ModuleSupport.isGradientFill(k.fill)&&(k.fill={...k.fill,gradient:"linear",rotation:0,reverse:!1});const x=f?{marker:k}:void 0;return this.formatTooltipWithContext(u,{title:a!=null?g[a]:void 0,symbol:x,data:b},{seriesId:t,datum:g,title:void 0,depth:y,labelKey:a,secondaryLabelKey:r,childrenKey:n,sizeKey:l,sizeName:c,colorKey:h,colorName:p,...D})}computeFocusBounds(e){return Transformable4.toCanvas(this.contentGroup,e.getBBox())}hasItemStylers(){return this.properties.itemStyler!=null}};TreemapSeries.className="TreemapSeries",TreemapSeries.type="treemap";var import_ag_charts_community160=require("ag-charts-community"),import_ag_charts_core57=require("ag-charts-core"),{commonSeriesOptionsDefs:commonSeriesOptionsDefs23,treemapSeriesThemeableOptionsDef,without:without9}=import_ag_charts_community160._ModuleSupport,treemapSeriesOptionsDef={...treemapSeriesThemeableOptionsDef,...without9(commonSeriesOptionsDefs23,["highlightStyle","highlight","showInLegend"]),type:(0,import_ag_charts_core57.required)((0,import_ag_charts_core57.constant)("treemap")),labelKey:import_ag_charts_core57.string,secondaryLabelKey:import_ag_charts_core57.string,childrenKey:import_ag_charts_core57.string,sizeKey:import_ag_charts_core57.string,colorKey:import_ag_charts_core57.string,sizeName:import_ag_charts_core57.string,colorName:import_ag_charts_core57.string};treemapSeriesOptionsDef.undocumentedGroupFills=(0,import_ag_charts_core57.undocumented)((0,import_ag_charts_core57.arrayOf)(import_ag_charts_core57.color)),treemapSeriesOptionsDef.undocumentedGroupStrokes=(0,import_ag_charts_core57.undocumented)((0,import_ag_charts_core57.arrayOf)(import_ag_charts_core57.color));var{FONT_SIZE_RATIO:FONT_SIZE_RATIO3}=import_ag_charts_community161._ModuleSupport,TreemapModule={type:"series",optionsKey:"series[]",packageType:"enterprise",chartTypes:["standalone"],identifier:"treemap",moduleFactory:e=>new TreemapSeries(e),solo:!0,themeTemplate:{series:{fills:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},{$palette:"fills"},{$applySwitch:[{$path:["/type",void 0,{$value:"$1"}]},{$value:"$1"},["gradient",import_ag_charts_community161._ModuleSupport.FILL_GRADIENT_LINEAR_DEFAULTS],["pattern",import_ag_charts_community161._ModuleSupport.FILL_PATTERN_DEFAULTS],["image",import_ag_charts_community161._ModuleSupport.FILL_IMAGE_DEFAULTS]]}]},strokes:{$applyCycle:[{$size:{$path:["./data",{$path:"/data"}]}},{$palette:"strokes"}]},colorRange:{$palette:"divergingColors"},undocumentedGroupFills:{$palette:"hierarchyColors"},undocumentedGroupStrokes:{$palette:"secondHierarchyColors"},group:{label:{...import_ag_charts_community161._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,color:{$ref:"textColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$ref:"fontSize"},fontFamily:{$ref:"fontFamily"},spacing:4},fill:void 0,stroke:void 0,strokeWidth:1,padding:4,gap:2,textAlign:"left"},tile:{label:{...import_ag_charts_community161._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,color:{$ref:"chartBackgroundColor"},fontStyle:void 0,fontWeight:{$ref:"fontWeight"},fontSize:{$rem:1.5},minimumFontSize:{$rem:FONT_SIZE_RATIO3.SMALLER},fontFamily:{$ref:"fontFamily"},wrapping:"on-space",overflowStrategy:"ellipsis",spacing:2},secondaryLabel:{...import_ag_charts_community161._ModuleSupport.LABEL_BOXING_DEFAULTS,enabled:!0,color:{$ref:"chartBackgroundColor"},fontStyle:void 0,fontWeight:void 0,fontSize:{$ref:"fontSize"},minimumFontSize:{$rem:FONT_SIZE_RATIO3.SMALLER},fontFamily:{$ref:"fontFamily"},wrapping:"never",overflowStrategy:"ellipsis"},fill:void 0,stroke:void 0,strokeWidth:{$isUserOption:["../strokes/0",2,{$isUserOption:["./stroke",2,0]}]},padding:3,gap:1},highlightStyle:{group:{label:{color:{$ref:"textColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2},tile:{label:{color:{$ref:"chartBackgroundColor"}},secondaryLabel:{color:{$ref:"chartBackgroundColor"}},fill:"rgba(255,255,255, 0.33)",stroke:"rgba(0, 0, 0, 0.4)",strokeWidth:2}}},gradientLegend:{enabled:!0,...import_ag_charts_community161._ModuleSupport.LEGEND_CONTAINER_THEME}}},TreemapSeriesModule={type:"series",name:"treemap",chartType:"standalone",enterprise:!0,options:treemapSeriesOptionsDef,create:e=>new TreemapSeries(e)},ModuleRegistry=import_ag_charts_community162._ModuleSupport.ModuleRegistry,AllCartesianEnterpriseModules=[OrdinalTimeAxisModule,BoxPlotSeriesModule,CandlestickSeriesModule,ConeFunnelSeriesModule,FunnelSeriesModule,HeatmapSeriesModule,OhlcSeriesModule,RangeAreaSeriesModule,RangeBarSeriesModule,WaterfallSeriesModule],AllPolarEnterpriseModules=[AngleNumberAxisModule,AngleCategoryAxisModule,RadiusNumberAxisModule,RadiusCategoryAxisModule,NightingaleSeriesModule,RadarAreaSeriesModule,RadarLineSeriesModule,RadialBarSeriesModule,RadialColumnSeriesModule],AllStandaloneEnterpriseModules=[StandaloneChartModule,PyramidSeriesModule,LinearGaugeSeriesModule,RadialGaugeSeriesModule,SunburstSeriesModule,TreemapSeriesModule,ChordSeriesModule,SankeySeriesModule],AllTopologyEnterpriseModules=[TopologyChartModule,MapLineSeriesModule,MapLineBackgroundSeriesModule,MapMarkerSeriesModule,MapShapeSeriesModule,MapShapeBackgroundSeriesModule],AllEnterpriseModules=[...AllCartesianEnterpriseModules,...AllPolarEnterpriseModules,...AllStandaloneEnterpriseModules,...AllTopologyEnterpriseModules,AnnotationsModule,NavigatorModule,InitialStateModule];
